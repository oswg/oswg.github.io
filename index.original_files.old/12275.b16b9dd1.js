!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e.SENTRY_RELEASE={id:"substack@af5f699"};var r=(new e.Error).stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="a41ebeea-44eb-48b8-9697-c0b131ad5591",e._sentryDebugIdIdentifier="sentry-dbid-a41ebeea-44eb-48b8-9697-c0b131ad5591")}catch(e){}}();"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["12275"],{12501:function(e,r,t){t.d(r,{lW:()=>p,qK:()=>c,st:()=>f});var n=t(69277),a=t(70408),s=t(32641),o=t(25568),l=t.n(o);t(97200);var i=t(17402),u=t(94729);function c(e,r){let{auto:o,initialResult:c}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[d,f]=(0,i.useState)({result:c||null,isLoading:!!o,hasLoadedOnce:!1,error:null,promise:null}),p=function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var{abortController:o=new(l())}=r,i=(0,s._)(r,["abortController"]);let c=e((0,a._)((0,n._)({},i),{signal:o.signal})).then(e=>{if(!o.signal.aborted)return f({isLoading:!1,hasLoadedOnce:!0,error:null,result:e,promise:null}),e},e=>{if(!o.signal.aborted)return Promise.all([t.e("50551"),t.e("19565")]).then(t.bind(t,35132)).then(r=>{var t,n;let{Sentry:a}=r,s=e instanceof u.fk?{message:e.getMessage(),url:null==(t=e.url)?void 0:t.toString(),body:e.body}:{message:"There was an error fetching a resource"},o=e instanceof u.fk?{pathname:null==(n=e.url)?void 0:n.pathname}:{};e instanceof u.fk&&[404,500].includes(e.response.status)||a.captureException(e,{extra:s,tags:o})}),f(r=>(0,a._)((0,n._)({},r),{isLoading:!1,error:e,result:null,promise:null})),e});return f(e=>(0,a._)((0,n._)({},e),{isLoading:!0,error:null,promise:c})),c};return(0,i.useEffect)(()=>{if(o){let e=new(l());return p({abortController:e}),()=>{e.abort()}}},r||[]),(0,a._)((0,n._)({},d),{refetch:p,setResult:e=>{f(r=>(0,a._)((0,n._)({},r),{error:null,result:e,isLoading:!1,promise:null}))},clearError:()=>{f((0,a._)((0,n._)({},d),{error:null}))}})}let d=new Map;function f(e){var{pathname:r,auto:t,initialResult:o,deps:l,cacheTtl:i}=e,f=(0,s._)(e,["pathname","auto","initialResult","deps","cacheTtl"]);let p=c(e=>{var{pathname:t}=e,a=(0,s._)(e,["pathname"]);if(!r)throw Error("useFetch requires a pathname");if(i){let e=d.get(r);if(e){let{ts:r,ttl:t,promise:n}=e;if(r+t>Date.now())return n}}let o=(0,u.x6)(null!=t?t:r,(0,n._)({},f,a));return i&&d.set(r,{ts:Date.now(),ttl:i,promise:o}),o},l||[],{auto:t,initialResult:o});return(0,a._)((0,n._)({},p),{setResult:e=>{r&&i&&d.set(r,{ts:Date.now(),ttl:i,promise:Promise.resolve(e)}),p.setResult(e)}})}function p(e,r,t){let n=(0,i.useRef)(null);return(0,i.useCallback)(function(){for(var t=arguments.length,a=Array(t),s=0;s<t;s++)a[s]=arguments[s];clearTimeout(n.current),n.current=setTimeout(()=>e(...a),r)},t)}},64127:function(e,r,t){t.d(r,{JZ:()=>_,PJ:()=>w,g:()=>Y,gz:()=>C,tH:()=>v,yg:()=>y});var n=t(4006),a=t(82853),s=t(93164),o=t(27775),l=t(60996),i=t(60745),u=t(49031),c=t(70357),d=t(38685),f=t(84605),p=t(40691),b=t(35369),D=t(88774),I=t(87370),m=t(78526),h=t(2481),g=t(39318),k=t(49807);let y=e=>{let{variant:r,url:t,onLinkClicked:a}=e,{iString:s}=(0,f.GO)(),o=()=>{window.open((0,k.yRP)("https://www.facebook.com/sharer/sharer.php",{u:t}),"_blank"),null==a||a("facebook")};return"icon"===r?(0,n.Y)(b.K0,{priority:"secondary-outline",onClick:o,children:(0,n.Y)(u.A,{size:20})}):(0,n.Y)(D.Dr,{leading:(0,n.Y)(u.A,{}),onClick:o,children:s("Share to Facebook")})},w=e=>{let{variant:r,url:t,twitterText:a,onLinkClicked:s}=e,{iString:o}=(0,f.GO)(),l=()=>{window.open((0,g.gKg)({url:t,text:a||""}),"_blank"),null==s||s("twitter")};return"icon"===r?(0,n.Y)(b.K0,{priority:"secondary-outline",onClick:l,children:(0,n.Y)(d.A,{size:20})}):(0,n.Y)(D.Dr,{leading:(0,n.Y)(d.A,{}),onClick:l,children:o("Share to X")})},_=e=>{let{variant:r,url:t,twitterText:a,onLinkClicked:s}=e,{iString:o}=(0,f.GO)(),l=()=>{window.open((0,g.man)({text:a?"".concat(a,"\n").concat(t):null!=t?t:""}),"_blank"),null==s||s("bluesky")};return"icon"===r?(0,n.Y)(b.K0,{priority:"secondary-outline",onClick:l,children:(0,n.Y)(i.A,{size:20})}):(0,n.Y)(D.Dr,{leading:(0,n.Y)(i.A,{}),onClick:l,children:o("Share to Bluesky")})},Y=e=>{let{variant:r,url:t,onLinkClicked:s}=e,{iString:o}=(0,f.GO)(),l=(0,m.L)(),i=()=>{t&&(l(t),null==s||s("copy"))};return"icon"===r?(0,n.Y)(b.K0,{priority:"secondary-outline",onClick:i,children:(0,n.Y)(a.A,{height:20})}):(0,n.Y)(D.Dr,{leading:(0,n.Y)(a.A,{}),onClick:i,children:o("Copy link")})},v=e=>{let{variant:r,url:t,onLinkClicked:a}=e,{iString:s}=(0,f.GO)(),o=(0,h.NP)(),l=()=>{o.open({restackUrl:t||""}),null==a||a("notes")};return"icon"===r?(0,n.Y)(b.K0,{priority:"secondary-outline",onClick:l,children:(0,n.Y)(c.A,{size:20})}):(0,n.Y)(D.Dr,{leading:(0,n.Y)(c.A,{}),onClick:l,children:s("Share to Notes")})};function C(e){let r=y(e),t=_(e),a=w(e),i=Y(e),u=v(e),c=(e=>{let{onLinkClicked:r,comment:t}=e,{iString:a}=(0,f.GO)(),{openModal:o,closeModal:i}=(0,p.hS)();return t?(0,n.Y)(D.Dr,{leading:(0,n.Y)(s.A,{}),onClick:()=>{null==r||r("embed"),o({children:(0,n.Y)(l.k,{comment:t||void 0,onClose:i}),width:540})},children:a("Embed note")}):null})(e),d=function(e){let{url:r,onLinkClicked:t}=e,{iString:a}=(0,f.GO)(),s=(0,I.$)();return(0,n.Y)(D.Dr,{leading:(0,n.Y)(o.A,{}),onClick:()=>{s.open({linkAttachmentUrl:null!=r?r:void 0,source:"share_post"}),null==t||t("chat")},children:a("Send as message")})}(e);return(0,n.FD)(n.FK,{children:[(0,n.FD)(D.H9,{isFirst:!0,children:[i,d]}),(0,n.FD)(D.H9,{children:[u,r,t,a]}),(0,n.Y)(D.H9,{children:c})]})}},43296:function(e,r,t){t.d(r,{XW:()=>s}),t(4006);var n=t(17402);t(94729);let a=(0,n.createContext)(null);function s(){return(0,n.useContext)(a)}},3843:function(e,r,t){t.d(r,{im:()=>n,wk:()=>a});let n={test1:"SubstackInc",badnews:"ryangrim",dmortberg:"danielortberg",offthechain:"APompliano",on:"SubstackInc",petition:"petition",popularinformation:"JuddLegum",shane:"shanesnow",signalproblems:"A_W_Gordon",sinocism:"niubi",taibbi:"mtaibbi",thefirstand15th:"tressiemcphd",thenewsletter:"jbouie",numlock:"WaltHickey"},a=900},48863:function(e,r,t){function n(e){if(null==e)return{};try{var r,t,n;let a=new URL(e);if("substack:"!==a.protocol)return{};let s={},o=a.pathname.split("/").filter(e=>e.length>0),l=new URLSearchParams(a.search),i={};l.forEach((e,r)=>{i[r]=e}),Object.keys(i).length>0&&(s.queryParams=i);let u=a.host;if(null==u&&0===Object.keys(i).length)return s;switch(u){case"users":o[0]&&"me"!==o[0]&&(s.surface="profile",s.userID=Number(o[0]),s.surfaceID=s.userID);break;case"posts":case"post":o[0]&&(s.postID=Number(o[0]),s.surface="post",s.surfaceID=s.postID),"comments"===o[1]&&(s.commentID=o[2],s.surface="post-comment",s.surfaceID=Number(o[0]),o[2]&&(s.surfaceID=Number(s.commentID)));break;case"publications":o[0]&&(s.publicationID=Number(o[0]),s.surface="publication",s.surfaceID=s.publicationID),"posts"===o[1]&&o[2]&&(s.slug=o[2],s.surface="post",s.surfaceID=s.slug),"drafts"===o[1]&&o[2]&&(s.draftID=o[2]),"chat"===o[1]&&(s.surface="publication-chat",s.surfaceID=s.publicationID),"threads"===o[1]&&(s.surface="publication-threads",s.surfaceID=s.publicationID);break;case"notes":s.surface="notes",o[0]&&(s.noteID=o[0],s.surfaceID=s.noteID,"module"===o[0]&&null!=o[1]&&(s.surface="notes-module",s.surfaceID=o[1]));break;case"communityPosts":o[0]&&(s.communityPostID=o[0],s.surface="community-post",s.surfaceID=s.communityPostID);break;case"communityComments":o[0]&&(s.replyID=o[0],s.surface="community-comments",s.surfaceID=s.replyID);break;case"messages":"dm"===o[0]&&(s.surface="dm","user"===o[1]&&o[2]?s.userID=Number(o[2]):o[1]&&(s.threadID=o[1],s.surface="dm-thread",s.surfaceID=s.threadID,"reply"===o[2]&&o[3]&&(s.messageID=o[3],s.surface="dm-reply",s.surfaceID=s.messageID)));break;case"accept-gift":o[0]&&(s.giftID=o[0],s.surfaceID=s.giftID,s.surface="accept-gift");break;case"send-reader-gifts":o[0]&&(s.giftID=o[0],s.surfaceID=s.giftID,s.surface="send-reader-gift");break;case"post-collection":o[0]&&(s.collectionID=o[0]);break;case"live-stream":o[0]&&(s.streamID=o[0],s.surface="live-stream",s.surfaceID=s.streamID,"invite"===o[1]&&o[2]&&(s.inviteID=o[2]));break;case"feed":s.surface="feed","topic"===o[0]&&o[1]?(s.topicID=o[1],s.surface="feed-topic",s.surfaceID=s.topicID):o[0]&&(s.noteID=o[0],s.surfaceID=s.noteID);break;case"post-composer":o[0]&&(s.draftID=o[0]);break;case"media-feed":o[0]&&(s.surface="media-feed",s.noteID=o[0],s.surfaceID=s.noteID);break;case"publication":o[0]&&(s.publicationID=Number(o[0]),s.surface="publication",s.surfaceID=s.publicationID,"post"===o[1]&&o[2]&&(s.postID=Number(o[2]),s.surface="post",s.surfaceID=s.postID));break;case"leaderboard":o[0]&&(s.surface="leaderboard",s.surfaceID=o[0]);break;case"user-suggestions":s.surface="user-suggestions";break;case"search":s.surface="app-search";break;case"discover":s.surface="discover"}return i.query&&(s.query=i.query,"app-search"===s.surface&&(s.surfaceID=s.query)),i.url&&(s.url=i.url),null!=i.name&&null!=i.id&&(s.categoryID=i.id,"discover"===s.surface&&(s.surfaceID=s.categoryID)),(null!=i.postId||null!=i.post_id)&&(s.postID=Number(null!=(r=i.postId)?r:i.post_id),s.surface="posts"===u?"post":u,s.surfaceID=s.postID),(null!=i.publicationId||null!=i.publication_id)&&(s.publicationID=Number(null!=(t=i.publicationId)?t:i.publication_id),s.surface="posts"===u?"post":u,s.surfaceID=null!=(n=s.postID)?n:s.publicationID),null!=s.publicationID&&isNaN(s.publicationID)&&delete s.publicationID,null!=s.userID&&isNaN(s.userID)&&delete s.userID,null!=s.postID&&isNaN(s.postID)&&delete s.postID,null!=s.surfaceID&&"string"!=typeof s.surfaceID&&isNaN(s.surfaceID)&&delete s.surfaceID,s}catch(e){return{}}}t.d(r,{qc:()=>n}),t(92636)}}]);