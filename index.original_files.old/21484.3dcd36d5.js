!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e.SENTRY_RELEASE={id:"substack@af5f699"};var t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="5df69012-f73a-4e14-90cb-0ab48e07fc20",e._sentryDebugIdIdentifier="sentry-dbid-5df69012-f73a-4e14-90cb-0ab48e07fc20")}catch(e){}}();"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["21484"],{76199:function(e,t,a){a.d(t,{lY:()=>i}),a(4006),a(32485);var r=a(17402);a(89333),a(72880),a(84605),a(86500),a(74049),a(35369),a(76977),a(63136),a(2481),a(39318),a(38476);let n=(0,r.createContext)({addMediaUpload:e=>{let{}=e;throw Error("Adding a download requires a DownloadProvider.")},markAsDownloaded:()=>{throw Error("Marking as downloaded requires a DownloadProvider.")},hasBeenDownloaded:()=>{throw Error("Checking download status requires a DownloadProvider.")}});function i(){return(0,r.useContext)(n)}},78865:function(e,t,a){a.d(t,{gf:()=>m,mA:()=>w});var r=a(69277),n=a(70408),i=a(4006),s=a(32485),l=a.n(s),o=a(17402),c=a(21441),d=a(10278),u=a(84565);a(42686);var _=a(89490),h=a(35369),A=a(76977),p=a(44552),f=a(95187),E=a(11510),g=a(71305);function m(e){var t,a,s;let c,{className:_,assets:h,readOnly:m,isRestack:T,isPermalink:k,maxHeight:S=420,onClick:N,onSwipe:L,children:D,parent:v,feedItem:C,commentId:y}=e,R=(0,d.Cu)(h),O=(0,E.Iu)(),G="treatment"===(0,u.NQ)().getExperimentVariant("web_gutterless_feed"),P=T?12:k?0:O?64:48*!G,x=T?12:16*!!O,M=P+x,Y=(0,o.useRef)(null),U=(0,d.wY)(Y,M),K=Math.max(U-20-6,0),B=(0,o.useRef)(!1),X=(t=R,a=S,s=K,0===(c=t.filter(e=>"string"!=typeof e&&"number"==typeof e.width&&"number"==typeof e.height&&e.width>0&&e.height>0)).length?a:Math.min(s/Math.max(...c.map(e=>e.width/e.height)),a)),F=v&&""===v.body,[H,V]=(0,o.useState)(null),q=(0,p.h9)(Y),z=(0,f.jA)(Y,{inset:P,pageSizeAdjust:-.4*(U||0),initialState:{showLeft:!1,showRight:!0}}),{state:{showLeft:W,showRight:j},handleArrowClick:Q}=O?{state:{showLeft:!1,showRight:!1},handleArrowClick:()=>()=>{}}:z;return(0,o.useEffect)(()=>{let e=Y.current,t=()=>{!B.current&&(B.current=!0,L&&L())};return null==e||e.addEventListener("scroll",t),()=>null==e?void 0:e.removeEventListener("scroll",t)},[L]),(0,i.FD)(A.I1,{className:l()(g.A.imageCarouselContainer,T&&g.A.restack),position:"relative",draggable:!1,paddingTop:F?12:void 0,style:{"--carousel-inset-left":"-".concat(P,"px"),"--carousel-inset-right":"-".concat(x,"px")},children:[(0,i.FD)(A.pT,(0,n._)((0,r._)({},q.props),{ref:Y,className:l()(g.A.imageCarousel,T&&g.A.restack,_),overflow:"auto",flex:"auto",style:{"--carousel-height":"".concat(X,"px"),"--carousel-gap":"".concat(6,"px")},children:[(0,i.Y)(I,{width:P}),R.map((e,t)=>{let{src:a,explicit:r,width:n,height:s,id:l}=e;return(0,i.Y)(b,{asset:a,explicit:r,readOnly:m,width:n,height:s,carouselHeight:X,onClick:m?void 0:e=>{e.preventDefault(),N&&N({attachmentId:l,attachmentType:"image"}),V({index:t})},children:D},a)}),(0,i.Y)(d.yx,{assets:R,imageViewer:H,setImageViewer:V,readOnly:m,feedItem:C,commentId:y})]})),!O&&(0,i.FD)(i.FK,{children:[(0,i.Y)(w,{direction:"left",visible:W,onClick:Q(-1)}),(0,i.Y)(w,{direction:"right",visible:j,onClick:Q(1)})]})," "]})}function I(e){let{width:t}=e;return(0,i.Y)(_.az,{as:"span",className:g.A.carouselSpacer,width:t})}function b(e){let{asset:t,explicit:a,onClick:r,readOnly:n,width:s,height:l,carouselHeight:o,children:c}=e,u=o*(s&&l?s/l:1);return(0,i.Y)(d.Vn,{asset:t,explicit:a,onClick:r,readOnly:n,width:u,height:o,className:g.A.carouselImage,maxWidth:u,children:c})}function w(e){let{direction:t,visible:a,onClick:r}=e;return(0,i.Y)(A.pT,{position:"absolute",className:l()(g.A.arrowContainer,g.A["".concat(t)]),alignItems:"center",justifyContent:"center",children:(0,i.Y)(h.Nm,{onClick:e=>{e.preventDefault(),e.stopPropagation(),null==r||r()},resetCss:!0,className:l()(g.A.arrowButton,!a&&g.A.hidden),display:"flex",alignItems:"center",justifyContent:"center","aria-label":"left"===t?"Previous":"Next",children:(0,i.Y)(c.A,{size:20,className:g.A.arrowIcon})})})}},78895:function(e,t,a){a(4006),a(97731)},94328:function(e,t,a){a.d(t,{LM:()=>E,b_:()=>m,u8:()=>g});var r=a(4006),n=a(87677),i=a(17402),s=a(32999),l=a(84605),o=a(27749),c=a(2675),d=a(67024),u=a(75840),_=a(68349),h=a(75303),A=a(81929),p=a(504),f=a(8791);let E=()=>{let{iString:e}=(0,l.GO)();return(0,r.Y)(A.vw,{theme:"error",priority:"primary",className:f.A.livePill,children:e("LIVE")})},g=e=>{let{viewerCount:t}=e;return(0,r.Y)(A.Jq,{priority:"primary",leading:(0,r.Y)(s.A,{size:18}),children:(0,d.q)(t)})},m=e=>{let{item:t,pub:a,post:s,onViewEpisodeClick:d}=e,{iString:h}=(0,l.GO)(),f=(0,c.vZ)({post:s,publication:a,urlParams:{autoPlay:"true"}}),E=(0,o.PK)(),g=(0,i.useContext)(u.P);return(0,r.Y)(A.Jq,{priority:"primary",onClick:e=>{null===_.dO||void 0===_.dO||_.dO.emit("play",{}),t&&(0,p.Qb)(t,E,"watch_full_episode",{tabId:g}),null==d||d(),f(e)},trailing:(0,r.Y)(n.A,{size:16}),children:h("View full episode")})};(0,h.I4)({display:"flex",direction:"row",gap:8,alignItems:"center",className:f.A.viewerCountContainer})},31392:function(e,t,a){a.d(t,{D2:()=>i,Ut:()=>n}),a(99851);var r=a(17402);function n(){let[e,t]=(0,r.useState)(()=>{if("undefined"!=typeof window){let e=localStorage.getItem("colorScheme"),t="dark"===e?"dark":"light"===e?"light":null;return t||(t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),t}return"light"});return(0,r.useEffect)(()=>{let e=e=>{t(e.scheme)};return window.addEventListener("substackcolorschemechange",e),()=>{window.removeEventListener("substackcolorschemechange",e)}},[]),e}function i(){let[e,t]=(0,r.useState)(()=>"undefined"!=typeof window&&window.matchMedia("(prefers-color-scheme: dark)").matches);return(0,r.useEffect)(()=>{let e=e=>{t(e.matches)},a=window.matchMedia("(prefers-color-scheme: dark)");return a.addEventListener("change",e),()=>{a.removeEventListener("change",e)}},[]),{darkMode:e}}Event},67250:function(e,t,a){a.d(t,{H:()=>i});var r=a(84605),n=a(67140);function i(e){let{value:t,format:a,currency:i,currencyIsMinorUnits:s}=e,{userLocale:l}=(0,r.GO)();return(0,n.V)(t,a,i,s,l)}},35276:function(e,t,a){a(4006)},2548:function(e,t,a){a.d(t,{IE:()=>d,p2:()=>c});var r=a(69277),n=a(4006),i=a(32485),s=a.n(i);a(17402),a(17988),a(56804),a(68349),a(76977),a(63136),a(95187);var l=a(24216);a(28379),a(11510),a(49807);var o=a(50321);(0,l.a)("reader2-page-top"),(0,l.a)(o.A.pageTopFixed),(0,l.a)("reader2-page-body"),(0,l.a)(o.A.pageStack),(0,l.a)("reader2-page-center"),(0,l.a)("reader2-modal-title-text"),(0,l.a)("reader2-column"),(0,l.a)("reader2-text-h3 reader2-section-title"),(0,l.a)("reader2-text-h4"),(0,l.a)("reader2-item-title"),(0,l.a)("reader2-item-meta"),(0,l.a)("reader2-form-error"),(0,l.a)("reader2-subtitle"),(0,l.a)("reader2-separator","hr"),(0,l.a)("reader2-page-section withTitle"),(0,l.a)("reader2-row reader2-split-row");let c=(0,l.a)(s()(o.A.hoverLink,"pencraft"),"a");function d(e){return(0,n.Y)(c,(0,r._)({target:"_blank"},e))}},91392:function(e,t,a){a.d(t,{FI:()=>n,HY:()=>i,Pv:()=>s});var r=a(69277);let n={ANONYMOUS_ID:"ajs_anonymous_id",AB_TESTING_ID:"ab_testing_id",AB_EXPERIMENT_SAMPLED:"ab_experiment_sampled",LIKELY_LOGGED_IN:"substack.lli",VISIT_ID:"visit_id",HIDE_COOKIE_BANNER:"hideCookieBanner",INTRO_POPUP_LAST_HIDDEN_AT:"intro_popup_last_hidden_at",LIKE_UPSELL_LAST_SHOWN_AT:"like_upsell_last_shown_at",CHATBOT_TERMS_LAST_ACCEPTED_AT:"chatbot_terms_last_accepted_at",SESSION_SID:"substack.sid",CUSTOM_DOMAIN_SESSION_SID:"connect.sid",DISABLE_HTML_PIXELS:"disable_html_pixels",DISABLE_EXPERIMENTS:"disable_experiments",COOKIE_STORAGE_KEY:"cookie_storage_key",PREFERRED_LANGUAGE:"preferred_language",OAUTH_INTERACTION:"substack.oauth_interaction",OAUTH_SESSION:"substack.oauth_session",OAUTH_RESUME:"substack.oauth_resume"},i=(0,r._)({GA_TRACKING:"_ga_tracking-substack",GA_TAG_MANAGER:"_ga_tag_manager-substack",AD_QUICK_TRACKING_PIXEL:"ad_quick_tracking_pixel-substack",META_TRACKING_PIXEL:"meta_tracking_pixel-substack",EXPERIMENTS:"experiments-substack",AWSALB:"AWSALB-substack",MUX_DATA:"muxData-substack",DATADOG_S:"_dd_s-substack",CF_CLEARENCE:"cf_clearance-substack",CF_BM:"__cf_bm-substack",FULLSTORY_UID:"fs_uid-substack",ZENDESK_ID:"__zlcmid-substack"},n),s={GA_TRACKING:"_ga_tracking-publisher",GA_TAG_MANAGER:"_ga_tag_manager-publisher",FB_PIXEL:"fb_pixel-publisher",TWITTER_PIXEL:"twitter_pixel-publisher",PARSELY_PIXEL:"parsely_pixel-publisher"};i.FULLSTORY_UID,i.GA_TRACKING,i.GA_TAG_MANAGER,s.GA_TRACKING,s.GA_TAG_MANAGER,s.PARSELY_PIXEL,s.TWITTER_PIXEL,s.FB_PIXEL,i.DATADOG_S,i.AD_QUICK_TRACKING_PIXEL,n.AB_TESTING_ID,n.ANONYMOUS_ID,n.VISIT_ID,i.EXPERIMENTS}}]);