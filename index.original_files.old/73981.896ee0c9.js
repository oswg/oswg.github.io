!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e.SENTRY_RELEASE={id:"substack@af5f699"};var t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="782b6bd4-05af-4bff-938f-9533502e2921",e._sentryDebugIdIdentifier="sentry-dbid-782b6bd4-05af-4bff-938f-9533502e2921")}catch(e){}}(),(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["73981"],{14792:function(e,t,r){var n=r(13222),i=r(55808);e.exports=function(e){return i(n(e).toLowerCase())}},78659:function(e,t,r){var n=r(87133),i=r(99374);e.exports=function(e,t,r){return void 0===r&&(r=t,t=void 0),void 0!==r&&(r=(r=i(r))==r?r:0),void 0!==t&&(t=(t=i(t))==t?t:0),n(i(e),t,r)}},2404:function(e,t,r){var n=r(60270);e.exports=function(e,t){return n(e,t)}},68090:function(e){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},91648:function(e,t,r){var n=r(83915),i=r(69302),a=r(83693);e.exports=i(function(e,t){return a(e)?n(e,t):[]})},16233:function(e,t,r){"use strict";r.d(t,{B:()=>i});var n=r(88285);let i=n.bP.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:e}){return["br",(0,n.KV)(this.options.HTMLAttributes,e)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:r,editor:n})=>e.first([()=>e.exitCode(),()=>e.command(()=>{let{selection:e,storedMarks:i}=r;if(e.$from.parent.type.spec.isolating)return!1;let{keepMarks:a}=this.options,{splittableMarks:u}=n.extensionManager,o=i||e.$to.parentOffset&&e.$from.marks();return t().insertContent({type:this.name}).command(({tr:e,dispatch:t})=>{if(t&&o&&a){let t=o.filter(e=>u.includes(e.type.name));e.ensureMarks(t)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}})},11167:function(e,t,r){"use strict";r.d(t,{BE:()=>U,Es:()=>L,Tn:()=>s,X3:()=>k,ZH:()=>a,aw:()=>J,b0:()=>o,bZ:()=>b,bu:()=>M,dO:()=>R,iX:()=>Z,lK:()=>C,lg:()=>A,mF:()=>I,mf:()=>O,qm:()=>j,qv:()=>u,r9:()=>v,rL:()=>l,sb:()=>P,uv:()=>$});var n=r(17402);let i=()=>{},a=i(),u=Object,o=e=>e===a,s=e=>"function"==typeof e,l=(e,t)=>({...e,...t}),d=new WeakMap,c=0,f=e=>{let t,r,n=typeof e,i=e&&e.constructor,a=i==Date;if(u(e)!==e||a||i==RegExp)t=a?e.toJSON():"symbol"==n?e.toString():"string"==n?JSON.stringify(e):""+e;else{if(t=d.get(e))return t;if(t=++c+"~",d.set(e,t),i==Array){for(r=0,t="@";r<e.length;r++)t+=f(e[r])+",";d.set(e,t)}if(i==u){t="#";let n=u.keys(e).sort();for(;!o(r=n.pop());)o(e[r])||(t+=r+":"+f(e[r])+",");d.set(e,t)}}return t},b=new WeakMap,g={},E={},p="undefined",h=typeof window!=p,m=typeof document!=p,v=(e,t)=>{let r=b.get(e);return[()=>!o(t)&&e.get(t)||g,n=>{if(!o(t)){let i=e.get(t);t in E||(E[t]=i),r[5](t,l(i,n),i||g)}},r[6],()=>!o(t)&&t in E?E[t]:!o(t)&&e.get(t)||g]},w=!0,[y,T]=h&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[i,i],_={initFocus:e=>(m&&document.addEventListener("visibilitychange",e),y("focus",e),()=>{m&&document.removeEventListener("visibilitychange",e),T("focus",e)}),initReconnect:e=>{let t=()=>{w=!0,e()},r=()=>{w=!1};return y("online",t),y("offline",r),()=>{T("online",t),T("offline",r)}}},R=!n.default.useId,k=!h||"Deno"in window,O=e=>h&&typeof window.requestAnimationFrame!=p?window.requestAnimationFrame(e):setTimeout(e,1),L=k?n.useEffect:n.useLayoutEffect,V="undefined"!=typeof navigator&&navigator.connection,S=!k&&V&&(["slow-2g","2g"].includes(V.effectiveType)||V.saveData),C=e=>{if(s(e))try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?f(e):"",t]},D=0,A=()=>++D;var M={__proto__:null,ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:0,MUTATE_EVENT:2,RECONNECT_EVENT:1};async function I(...e){let[t,r,n,i]=e,u=l({populateCache:!0,throwOnError:!0},"boolean"==typeof i?{revalidate:i}:i||{}),d=u.populateCache,c=u.rollbackOnError,f=u.optimisticData,g=!1!==u.revalidate,E=u.throwOnError;if(s(r)){let e=[];for(let n of t.keys())!/^\$(inf|sub)\$/.test(n)&&r(t.get(n)._k)&&e.push(n);return Promise.all(e.map(p))}return p(r);async function p(r){let i,[u]=C(r);if(!u)return;let[l,p]=v(t,u),[h,m,w,y]=b.get(t),T=h[u],_=()=>g&&(delete w[u],delete y[u],T&&T[0])?T[0](2).then(()=>l().data):l().data;if(e.length<3)return _();let R=n,k=A();m[u]=[k,0];let O=!o(f),L=l(),V=L.data,S=L._c,D=o(S)?V:S;if(O&&p({data:f=s(f)?f(D,V):f,_c:D}),s(R))try{R=R(D)}catch(e){i=e}if(R&&s(R.then)){let e;if(R=await R.catch(e=>{i=e}),k!==m[u][0]){if(i)throw i;return R}i&&O&&(e=i,"function"==typeof c?c(e):!1!==c)&&(d=!0,p({data:R=D,_c:a}))}d&&!i&&(s(d)&&(R=d(R,D)),p({data:R,error:a,_c:a})),m[u][1]=A();let M=await _();if(p({_c:a}),i){if(E)throw i;return}return d?M:R}}let N=(e,t)=>{for(let r in e)e[r][0]&&e[r][0](t)},x=(e,t)=>{if(!b.has(e)){let r=l(_,t),n={},u=I.bind(a,e),o=i,s={},d=(e,t)=>{let r=s[e]||[];return s[e]=r,r.push(t),()=>r.splice(r.indexOf(t),1)},c=(t,r,n)=>{e.set(t,r);let i=s[t];if(i)for(let e of i)e(r,n)},f=()=>{if(!b.has(e)&&(b.set(e,[n,{},{},{},u,c,d]),!k)){let t=r.initFocus(setTimeout.bind(a,N.bind(a,n,0))),i=r.initReconnect(setTimeout.bind(a,N.bind(a,n,1)));o=()=>{t&&t(),i&&i(),b.delete(e)}}};return f(),[e,u,f,o]}return[e,b.get(e)[4]]},[F,H]=x(new Map),P=l({onLoadingSlow:i,onSuccess:i,onError:i,onErrorRetry:(e,t,r,n,i)=>{let a=r.errorRetryCount,u=i.retryCount,s=~~((Math.random()+.5)*(1<<(u<8?u:8)))*r.errorRetryInterval;(o(a)||!(u>a))&&setTimeout(n,s,i)},onDiscarded:i,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:S?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:S?5e3:3e3,compare:(e,t)=>f(e)==f(t),isPaused:()=>!1,cache:F,mutate:H,fallback:{}},{isOnline:()=>w,isVisible:()=>{let e=m&&document.visibilityState;return o(e)||"hidden"!==e}}),q=(e,t)=>{let r=l(e,t);if(t){let{use:n,fallback:i}=e,{use:a,fallback:u}=t;n&&a&&(r.use=n.concat(a)),i&&u&&(r.fallback=l(i,u))}return r},B=(0,n.createContext)({}),U=e=>{let{value:t}=e,r=(0,n.useContext)(B),i=s(t),u=(0,n.useMemo)(()=>i?t(r):t,[i,r,t]),o=(0,n.useMemo)(()=>i?u:q(r,u),[i,r,u]),d=u&&u.provider,c=(0,n.useRef)(a);d&&!c.current&&(c.current=x(d(o.cache||F),u));let f=c.current;return f&&(o.cache=f[0],o.mutate=f[1]),L(()=>{if(f)return f[2]&&f[2](),f[3]},[]),(0,n.createElement)(B.Provider,l(e,{value:o}))},X=h&&window.__SWR_DEVTOOLS_USE__,W=X?window.__SWR_DEVTOOLS_USE__:[],Z=()=>l(P,(0,n.useContext)(B)),$=(e,t)=>{let[r,n]=C(e),[,,,i]=b.get(F);if(i[r])return i[r];let a=t(n);return i[r]=a,a},K=W.concat(e=>(t,r,n)=>{let i=r&&((...e)=>{let[n]=C(t),[,,,i]=b.get(F),a=i[n];return o(a)?r(...e):(delete i[n],a)});return e(t,i,n)}),j=e=>function(...t){let r=Z(),[n,i,a]=s(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(null===t[1]?t[2]:t[1])||{}],u=q(r,a),o=e,{use:l}=u,d=(l||[]).concat(K);for(let e=d.length;e--;)o=d[e](o);return o(n,i||u.fetcher||null,u)},J=(e,t,r)=>{let n=t[e]||(t[e]=[]);return n.push(r),()=>{let e=n.indexOf(r);e>=0&&(n[e]=n[n.length-1],n.pop())}};X&&(window.__SWR_DEVTOOLS_REACT__=n.default)},25250:function(e,t,r){"use strict";r.d(t,{Ay:()=>s,iX:()=>a.iX,uv:()=>a.uv});var n=r(17402),i=r(19888),a=r(11167);let u=n.default.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}),o={dedupe:!0};a.qv.defineProperty(a.BE,"defaultValue",{value:a.sb});let s=(0,a.qm)((e,t,r)=>{let{cache:s,compare:l,suspense:d,fallbackData:c,revalidateOnMount:f,revalidateIfStale:b,refreshInterval:g,refreshWhenHidden:E,refreshWhenOffline:p,keepPreviousData:h}=r,[m,v,w,y]=a.bZ.get(s),[T,_]=(0,a.lK)(e),R=(0,n.useRef)(!1),k=(0,n.useRef)(!1),O=(0,n.useRef)(T),L=(0,n.useRef)(t),V=(0,n.useRef)(r),S=()=>V.current.isVisible()&&V.current.isOnline(),[C,D,A,M]=(0,a.r9)(s,T),I=(0,n.useRef)({}).current,N=(0,a.b0)(c)?r.fallback[T]:c,x=(e,t)=>{for(let r in I)if("data"===r){if(!l(e[r],t[r])&&(!(0,a.b0)(e[r])||!l(Z,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},F=(0,n.useMemo)(()=>{let e=!!T&&!!t&&((0,a.b0)(f)?!V.current.isPaused()&&!d&&(!!(0,a.b0)(b)||b):f),r=t=>{let r=(0,a.rL)(t);return(delete r._k,e)?{isValidating:!0,isLoading:!0,...r}:r},n=C(),i=M(),u=r(n),o=n===i?u:r(i),s=u;return[()=>{let e=r(C());return x(e,s)?(s.data=e.data,s.isLoading=e.isLoading,s.isValidating=e.isValidating,s.error=e.error,s):(s=e,e)},()=>o]},[s,T]),H=(0,i.useSyncExternalStore)((0,n.useCallback)(e=>A(T,(t,r)=>{x(r,t)||e()}),[s,T]),F[0],F[1]),P=!R.current,q=m[T]&&m[T].length>0,B=H.data,U=(0,a.b0)(B)?N:B,X=H.error,W=(0,n.useRef)(U),Z=h?(0,a.b0)(B)?W.current:B:U,$=(!q||!!(0,a.b0)(X))&&(P&&!(0,a.b0)(f)?f:!V.current.isPaused()&&(d?!(0,a.b0)(U)&&b:(0,a.b0)(U)||b)),K=!!(T&&t&&P&&$),j=(0,a.b0)(H.isValidating)?K:H.isValidating,J=(0,a.b0)(H.isLoading)?K:H.isLoading,Y=(0,n.useCallback)(async e=>{let t,n,i=L.current;if(!T||!i||k.current||V.current.isPaused())return!1;let u=!0,o=e||{},s=!w[T]||!o.dedupe,d=()=>a.dO?!k.current&&T===O.current&&R.current:T===O.current,c={isValidating:!1,isLoading:!1},f=()=>{D(c)},b=()=>{let e=w[T];e&&e[1]===n&&delete w[T]},g={isValidating:!0};(0,a.b0)(C().data)&&(g.isLoading=!0);try{if(s&&(D(g),r.loadingTimeout&&(0,a.b0)(C().data)&&setTimeout(()=>{u&&d()&&V.current.onLoadingSlow(T,r)},r.loadingTimeout),w[T]=[i(_),(0,a.lg)()]),[t,n]=w[T],t=await t,s&&setTimeout(b,r.dedupingInterval),!w[T]||w[T][1]!==n)return s&&d()&&V.current.onDiscarded(T),!1;c.error=a.ZH;let e=v[T];if(!(0,a.b0)(e)&&(n<=e[0]||n<=e[1]||0===e[1]))return f(),s&&d()&&V.current.onDiscarded(T),!1;let o=C().data;c.data=l(o,t)?o:t,s&&d()&&V.current.onSuccess(t,T,r)}catch(r){b();let e=V.current,{shouldRetryOnError:t}=e;!e.isPaused()&&(c.error=r,s&&d()&&(e.onError(r,T,e),(!0===t||(0,a.Tn)(t)&&t(r))&&S()&&e.onErrorRetry(r,T,e,e=>{let t=m[T];t&&t[0]&&t[0](a.bu.ERROR_REVALIDATE_EVENT,e)},{retryCount:(o.retryCount||0)+1,dedupe:!0})))}return u=!1,f(),!0},[T,s]),z=(0,n.useCallback)((...e)=>(0,a.mF)(s,O.current,...e),[]);if((0,a.Es)(()=>{L.current=t,V.current=r,(0,a.b0)(B)||(W.current=B)}),(0,a.Es)(()=>{if(!T)return;let e=Y.bind(a.ZH,o),t=0,r=(0,a.aw)(T,m,(r,n={})=>{if(r==a.bu.FOCUS_EVENT){let r=Date.now();V.current.revalidateOnFocus&&r>t&&S()&&(t=r+V.current.focusThrottleInterval,e())}else if(r==a.bu.RECONNECT_EVENT)V.current.revalidateOnReconnect&&S()&&e();else if(r==a.bu.MUTATE_EVENT)return Y();else if(r==a.bu.ERROR_REVALIDATE_EVENT)return Y(n)});return k.current=!1,O.current=T,R.current=!0,D({_k:_}),$&&((0,a.b0)(U)||a.X3?e():(0,a.mf)(e)),()=>{k.current=!0,r()}},[T]),(0,a.Es)(()=>{let e;function t(){let t=(0,a.Tn)(g)?g(C().data):g;t&&-1!==e&&(e=setTimeout(r,t))}function r(){!C().error&&(E||V.current.isVisible())&&(p||V.current.isOnline())?Y(o).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[g,E,p,T]),(0,n.useDebugValue)(Z),d&&(0,a.b0)(U)&&T){if(!a.dO&&a.X3)throw Error("Fallback data is required when using suspense in SSR.");L.current=t,V.current=r,k.current=!1;let e=y[T];if((0,a.b0)(e)||u(z(e)),(0,a.b0)(X)){let e=Y(o);(0,a.b0)(Z)||(e.status="fulfilled",e.value=!0),u(e)}else throw X}return{mutate:z,get data(){return I.data=!0,Z},get error(){return I.error=!0,X},get isValidating(){return I.isValidating=!0,j},get isLoading(){return I.isLoading=!0,J}}})}}]);