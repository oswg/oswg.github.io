!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e.SENTRY_RELEASE={id:"substack@af5f699"};var n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="89e73476-76c6-42b5-b462-f555d8ca638a",e._sentryDebugIdIdentifier="sentry-dbid-89e73476-76c6-42b5-b462-f555d8ca638a")}catch(e){}}();"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["79246"],{37749:function(e,n,t){t.d(n,{A:()=>r});let r={chrome:"chrome-_LLvs8",hidden:"hidden-wHbbPQ",spinner:"spinner-Ti9Gdl",left:"left-YVRGou",right:"right-pvXhar",top:"top-deZX1P",bottom:"bottom-D60oFA",middle:"middle-DqhMOs",img:"img-nwpk1x",loading:"loading-UuPN_c"}},12791:function(e,n,t){t.d(n,{W:()=>f});var r=t(4006),i=t(63950),o=t.n(i),a=t(76977);function l(e){let{children:n}=e;return(0,r.Y)(a.fI,{justifyContent:"center",alignItems:"center",onClick:e=>e.stopPropagation(),paddingBottom:{desktop:12,mobile:0},className:"container-H9iqVx",children:n})}var u=t(75189),c=t(45854);function s(e){let{item:n,comment:t}=e;return(0,r.Y)(l,{children:(0,r.Y)(c.t,{children:(0,r.Y)(u.b,{item:n,comment:t,priority:"primary"})})})}var d=t(59339);function p(e){let{isLoading:n=!1,publication:t,post:i,onLike:o}=e;return(0,r.Y)(l,{children:(0,r.Y)(c.t,{children:(0,r.Y)(d.u,{isLoading:n,publication:t,post:i,onLike:o})})})}function f(e){let{post:n,publication:t,feedItem:i,onLike:a}=e;if(i&&"comment"===i.type)return(0,r.Y)(s,{item:i,comment:i.comment});if(n&&t){var l,u;return(0,r.Y)(p,{publication:null!=(l=null==i?void 0:i.publication)?l:t,post:null!=(u=null==i?void 0:i.post)?u:n,onLike:null!=a?a:o()})}return null}},21441:function(e,n,t){t.d(n,{A:()=>u});var r=t(69277),i=t(70408),o=t(32641),a=t(4006),l=t(97731);let u=e=>{var{size:n=24,className:t}=e,u=(0,o._)(e,["size","className"]);return(0,a.Y)(l.A,(0,i._)((0,r._)({},u),{name:"ChevronRightCircleIcon",svgParams:{viewBox:"0 0 24 24"},stroke:"none",width:n,height:n,className:t,children:(0,a.Y)("path",{d:"M24 12C24 18.553 18.5648 24 12 24C5.44707 24 0 18.553 0 12C0 5.4353 5.4353 0 11.9883 0C18.553 0 24 5.4353 24 12ZM9.22355 6.02354C8.84708 6.37648 8.83531 6.97649 9.21178 7.32943L14.2 12.0117L9.21178 16.7059C8.84708 17.0471 8.84708 17.6353 9.21178 18.0118C9.5412 18.3177 10.1765 18.2942 10.5177 17.9647L15.5647 13.2118C16.2471 12.5765 16.2588 11.4589 15.5647 10.8118L10.5177 6.07061C10.1412 5.71766 9.57649 5.68237 9.22355 6.02354Z"})}))}},19008:function(e,n,t){t.d(n,{h:()=>v});var r=t(4006),i=t(35426),o=t(38390),a=t(23623),l=t(90460);function u(e){let{onClose:n}=e;return(0,r.Y)(o.hJ,{forceMount:!0,className:"backdrop-SPBUoO",onClick:()=>n()})}var c=t(17402);let s=(0,c.forwardRef)((e,n)=>{let{children:t}=e;return(0,r.Y)(o.UC,{forceMount:!0,ref:n,className:"panel-vMauWo",onOpenAutoFocus:e=>e.preventDefault(),onCloseAutoFocus:e=>e.preventDefault(),onPointerDownOutside:e=>{e.preventDefault()},children:t})}),d="transition-Dki0wq",p="from-b7KIRm",f="to-np0fky",m=e=>{let{children:n}=e;return(0,r.Y)(i.e.Child,{as:c.Fragment,enter:d,enterFrom:p,enterTo:f,leave:d,leaveFrom:f,leaveTo:p,children:n})};var h=t(80988),b=t(45346);function v(e){let{isOpen:n,onClose:t=()=>void 0,children:c}=e;return(0,l.h)(n),(0,r.Y)(o.bL,{open:n,onOpenChange:e=>{e||t()},children:(0,r.Y)(o.ZL,{forceMount:!0,children:(0,r.Y)(i.e.Root,{show:n,children:(0,r.FD)(h.k,{children:[(0,r.Y)(b.B,{children:(0,r.Y)(u,{onClose:t})}),(0,r.Y)(a.a,{children:(0,r.Y)(m,{children:(0,r.Y)(s,{children:c})})})]})})})})}},59339:function(e,n,t){t.d(n,{u:()=>y});var r=t(4006),i=t(17402),o=t(58398),a=t(46271),l=t(3228),u=t(48226),c=t(52347),s=t(99978),d=t(69277),p=t(70408),f=t(82634);function m(){return(0,r.FD)(r.FK,{children:[(0,r.Y)(u.c,{disabled:!1,priority:"primary"}),(0,r.Y)(l.k,{disabled:!1,priority:"primary"}),(0,r.Y)(f.Q,{disabled:!1,priority:"primary"}),(0,r.Y)(s.w,{disabled:!1,priority:"primary"})]})}var h=t(49807),b=t(82776),v=t(57324);function y(e){let{isLoading:n=!1,publication:t,post:f,onLike:y}=e,k=(0,a.Jd)(),[Y,g]=(0,i.useState)(!1),{isLiked:C,likeCount:w,handleLike:_}=function(e,n){let[t,r]=(0,i.useState)(()=>!!(null==e?void 0:e.reaction)),[o,a]=(0,i.useState)(()=>{var n;return null!=(n=null==e?void 0:e.reactions["❤"])?n:0});(0,i.useEffect)(()=>{if(e){var n;r(!!e.reaction),a(null!=(n=e.reactions["❤"])?n:0)}},[e]);let l=(0,i.useCallback)(()=>{if(!e)return;let i=!t;r(i),a(e=>e+(i?1:-1)),n(e.id,i)},[n,e,t]);return{isLiked:t,likeCount:o,handleLike:l}}(f,y),{handleRestack:D,postWithRestackState:L}=function(e){let[n,t]=(0,i.useState)(()=>!!(null==e?void 0:e.restacked)),[r,o]=(0,i.useState)(()=>{var n;return null!=(n=null==e?void 0:e.restacks)?n:0});return(0,i.useEffect)(()=>{if(e){var n;t(!!e.restacked),o(null!=(n=e.restacks)?n:0)}},[null==e?void 0:e.id]),{handleRestack:(0,i.useCallback)(e=>{t(n=>n!==e?(o(n=>n+(e?1:-1)),e):n)},[]),postWithRestackState:(0,i.useMemo)(()=>e?(0,p._)((0,d._)({},e),{restacked:n,restacks:r}):null,[e,n,r])}}(f);if(n)return(0,r.Y)(m,{});if(!t||!f)return null;let F=!k||!t.community_enabled,I=(0,b.showCommentsOnPost)({publication:t,post:f}),P="profile"===t.homepage_type?(0,h.q$n)(t,f):(0,h.wu9)(t,f,{comments:!0,urlParams:{utm_source:v.VU.substack,utm_medium:v.Jn.web,utm_campaign:v._9.postViewer}});return(0,r.FD)(r.FK,{children:[(0,r.Y)(u.c,{onClick:_,count:w,active:C,disabled:F,priority:"primary"}),(0,r.Y)(l.k,{href:P,count:f.comment_count,newTab:"profile"!==t.homepage_type,disabled:F||!I,priority:"primary"}),(0,r.Y)(c.H,{pub:t,post:L,priority:"primary",onRestack:D}),(0,r.Y)(s.w,{priority:"primary",onClick:()=>{g(!0)}}),(0,r.Y)(o.Z,{isOpen:Y,onClose:()=>g(!1),medium:"post viewer",utm_campaign:"post-expanded-share",user:k,post:f,pub:t})]})}},45854:function(e,n,t){t.d(n,{t:()=>o});var r=t(4006),i=t(76977);function o(e){let{children:n}=e;return(0,r.Y)(i.fI,{justifyContent:"space-between",alignItems:"center",sizing:"border-box",gap:32,className:"layout-Pwsidg",children:n})}},70568:function(e,n,t){t(4006),t(10278),t(42686),t(2675),t(8103),t(22858),t(78479),t(89490),t(93812),t(39318)}}]);