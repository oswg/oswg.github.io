!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e.SENTRY_RELEASE={id:"substack@af5f699"};var t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="bec2cff4-284a-454f-ae04-2bd777ec299c",e._sentryDebugIdIdentifier="sentry-dbid-bec2cff4-284a-454f-ae04-2bd777ec299c")}catch(e){}}();"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["58112"],{27747:function(e,t,n){n.d(t,{KQ:()=>D});var i=n(69277),l=n(4006),o=n(32485),a=n.n(o),d=n(17402),r=n(99070),s=n(23623),u=n(84605),c=n(68410),p=n(89490),f=n(76977),b=n(28734),m=n(56371),h=n(13348),g=n(69825),v=n(31790),_=n(8734),y=n(60649),k=n(7755),w=n(56458),P=n(4016),T=n(56262),Y=n(92967),U=n(91867);let D=e=>{let{isFreeSubscribed:t,isSubscribed:n,isTesting:i,post:o,pub:a,section:r,variant:s,reaction_token:u,trackingProps:c}=e,[p,f]=(0,d.useState)(!1),b=(0,d.useRef)(null),m=!n&&(0,T.isPaidAudience)(o.audience);if(!o.podcastUpload)return null;let h=(0,P.zM)({post:o}),g=o.podcastUpload.is_free_preview,_=!h&&m&&(p||!g&&"notes-embed"!==s)&&!(0,w.Ed)({post:o});return(0,l.FD)(l.FK,{children:[(0,l.Y)(F,{audioFileUrl:o.podcast_url,audioPlayerRef:b,metricsPost:o,hidePreviewUI:h,paywallComponent:_?(0,l.Y)(v.v,{inlineIcon:"notes-embed"===s,isFreeSubscribed:t,post:o,pub:a,medium:"audio",variant:"overlay",onRestart:g?()=>{var e;(null==(e=b.current)?void 0:e.player)&&(f(!1),b.current.player.currentTime=0,b.current.player.play())}:void 0,magicToken:u}):void 0,podcastDuration:o.podcast_duration,podcastUpload:o.podcastUpload,post:o,postId:o.id,postTitle:o.title,pub:a,section:r,showPaidLabel:m&&!g,user:null,variant:s,onFinishAudio:()=>{f(!0)},useBlur:!0,trackingProps:c}),i&&(0,l.Y)("button",{onClick:()=>{f(!0)},children:"finish audio"})]})},I={"episode-page":400,editor:320,"notes-embed":128,"notes-full":250},F=e=>{var t,n,o;let{audioFileUrl:d,audioPlayerRef:v,explicitHeight:w,explicitPodcastUrl:P,feedUrl:T,hasFreePodcastUrlSet:D,hidePreviewUI:F,hideUfi:A,isPrivateFeed:C,isServingFreePodcastUrl:E,metricsPost:M,postId:R,postTitle:S,podcastDuration:z,pub:x,podcastUpload:B,radius:j,section:K,showPaidLabel:L,podcastPreviewUpload:N,post:H,ufiComponent:O,editComponent:X,paywallComponent:$,variant:q,user:G,onFinishAudio:Q,useBlur:J,trackingProps:V}=e,{isMobile:W}=(0,c.sM)(),{iString:Z}=(0,u.GO)(),ee=K?null!=(t=K.podcastPalette)?t:null:null!=(n=x.podcastPalette)?n:null,{title:et,backgroundUrl:en,artUrl:ei}=(0,k.ed)({pub:x,podcastUpload:B,section:K,thumbnailInfo:(null==B?void 0:B.full_podcast_info)&&R?{post_id:R,media_upload_id:B.full_podcast_info.media_upload_id,thumbnail_id:B.full_podcast_info.thumbnail_id}:null}),el=null!=w?w:I[q],eo="notes-embed"===q,ea=W||eo,ed=!!$,er=J||ei===en,es=!!X,eu=(null==B?void 0:B.is_free_preview)||N;return(0,l.Y)(r.A,{ref:v,duration:z,metricsPost:M,preventSnappingToCurrentTime:!0,pub:x,skipPreloading:E,src:d,updateOnEveryFrame:z<300,onFinishAudio:Q,mediaUpload:null!=B?B:void 0,trackingProps:(0,i._)({contentType:"post",entityType:"post",entityKey:null!=(o=null==H?void 0:H.id)?o:"unknown",surface:"editor"===q?"editor":"post"},V),render:e=>{var t;let{currentTime:n,dragTime:i,isPlaying:o,playbackRate:r,progress:u,progressBarRef:c,progressBarOnMouseDown:v,remainingTime:k,setPlaybackRate:w,skipBack:I,skipForward:M,togglePlayback:R}=e;return(0,l.Y)(s.a,{children:(0,l.FD)(p.az,{position:"relative",style:{minHeight:W?Math.min(200,el):el},children:[(0,l.Y)(b._,{backgroundUrl:eo?null:en,blurAmount:eo?40:120,isBlurred:er,palette:ee,radius:j}),(0,l.FD)(f.I1,{position:"absolute",inset:0,justifyContent:ea?"space-between":void 0,children:[(0,l.FD)(f.Ye,{alignItems:"stretch",flex:ea?void 0:"grow",justifyContent:"space-between",children:[(!ea||!ed)&&(0,l.Y)(p.az,{padding:ea||"notes-full"===q?16:24,paddingBottom:"notes-embed"===q?0:void 0,overflow:"hidden",flex:"grow",children:(0,l.Y)(m.P,{isDisabled:ed,explicitPodcastUrl:P,pub:x,post:H,postTitle:S,section:K,showUpgradeButton:E,showTitle:et,variant:"notes-embed"===q?"notes-embed":W||"notes-full"===q?"mini":"regular"})}),!ea&&!ed&&!A&&O&&(0,l.Y)(f.Ye,{alignItems:"center",paddingX:24,children:O}),null!=X?X:null]}),!ed&&"notes-embed"!==q&&(0,l.Y)(f.I1,{paddingX:16,position:ea?void 0:"absolute",className:a()({[U.A.controlsCentered]:!ea}),children:(0,l.Y)(g.w,{audioFileUrl:d,feedUrl:T,isPlaying:null!=o&&o,isPrivateFeed:!!C,playbackRate:r,sectionId:K?K.id:null,user:G,onChangePlaybackRate:w,onSkipBack:I,onSkipForward:M,onTogglePlayback:R})}),(!ea||!ed)&&(0,l.FD)(f.Ye,{className:a()(U.A.track),alignItems:"center",gap:16,opacity:ed?20:void 0,padding:ea||"notes-full"===q?16:24,paddingTop:"notes-embed"===q?8:void 0,pointerEvents:ed?"none":void 0,onClick:e=>{L||(e.stopPropagation(),e.preventDefault())},children:[eu&&es&&N&&(0,l.Y)(_.d,{children:(0,Y.kq)(null!=(t=N.duration)?t:0)}),eu&&!F&&!es&&(0,l.Y)(_.d,{children:Z("Preview")}),L&&(0,l.Y)(_.d,{children:Z("Paid")}),D&&(0,l.Y)(_.d,{children:Z("Free url set")}),(0,l.Y)(y.v,{containerRef:c,currentTime:n,dragTime:i,hideStartingTimestamp:W,progress:u,remainingTime:k,onMouseDown:v}),"notes-embed"===q&&(0,l.Y)(h.gD,{isPlaying:null!=o&&o,size:40,onTogglePlayback:R})]})]}),$]})})}})}},7755:function(e,t,n){n.d(t,{Pi:()=>s,ed:()=>r,fU:()=>u});var i=n(69277),l=n(70408);n(83673),n(38970),n(36233),n(86500),n(68349),n(56458);var o=n(46009);n(56262);var a=n(39318),d=n(49807);let r=e=>{let{pub:t,podcastUpload:n,section:r,thumbnailInfo:s,useSection:u}=e;if(u){let e=r?(0,d.Dor)(t,{section:r}):(0,d.$_T)(t);return r?{artUrl:r.logo_url,backgroundUrl:r.cover_photo_url,description:r.description,paidArtUrl:null,title:r.name,url:e}:{artUrl:t.logo_url,backgroundUrl:t.cover_photo_url,description:null,paidArtUrl:null,title:t.name,url:e}}let{title:c,description:p,artUrl:f,paidEpisodeArtUrl:b}=r&&!u?(0,o.lL)({pub:t,section:r}):(0,o.j_)({pub:t}),m=r?(0,d.Dor)(t,{section:r}):(0,d.$_T)(t),h=f;if(n&&s&&s.thumbnail_id>1){let e=(0,a.Pzx)((0,l._)((0,i._)({},n),{id:s.media_upload_id,post_id:s.post_id,thumbnail_id:s.thumbnail_id}));e&&(h=e)}else if(n&&n.thumbnail_id>1){let e=(0,a.Pzx)(n);e&&(h=e)}return{artUrl:f,backgroundUrl:h,description:p,paidArtUrl:null!=b?b:null,title:c,url:m}},s="https://support.substack.com/hc/en-us/articles/4519588148244-How-do-I-listen-to-episodes-on-my-podcast-app-",u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=(null==t?void 0:t.decimals)===1,i=Math.floor(e/3600),l=Math.floor(e%3600/60),o=Math.floor(e%60),a=i?"".concat(i,":").concat(l<10?"0":"").concat(l,":").concat(o<10?"0":"").concat(o):"".concat(l,":").concat(o<10?"0":"").concat(o);if(n){let t=Math.round(e%1*10);return"".concat(a,".").concat(t)}return a}}}]);