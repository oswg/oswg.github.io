!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e.SENTRY_RELEASE={id:"substack@af5f699"};var t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="514156d2-1512-4b69-9926-b2c2410fd5bd",e._sentryDebugIdIdentifier="sentry-dbid-514156d2-1512-4b69-9926-b2c2410fd5bd")}catch(e){}}();"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["25363"],{58155:function(e,t,i){i.d(t,{A:()=>l});var a=i(4006);let l=function(e){let{width:t,fill:i="#B6B6B6"}=e;return(0,a.Y)("svg",{style:{stroke:"none"},width:t,viewBox:"0 0 17 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.Y)("path",{d:"M16.25 18.3389C16.25 19.2233 16.25 19.6655 15.9669 19.8846C15.6839 20.1039 15.2673 19.9844 14.434 19.7455L1.0434 15.9058C0.541363 15.7619 0.290284 15.6899 0.145142 15.4942C-3.93731e-07 15.2985 0 15.0321 0 14.4993V5.50076C0 4.96794 -3.93731e-07 4.70151 0.145142 4.50582C0.290284 4.31013 0.541363 4.23813 1.0434 4.09419L14.434 0.254502C15.2673 0.0155953 15.6839 -0.103874 15.9669 0.115345C16.25 0.334564 16.25 0.776752 16.25 1.66113V18.3389ZM3.33956 14.654L14.427 17.8336V11.4747L3.33956 14.654ZM1.82281 13.1789L12.9081 10L1.82281 6.82113V13.1789ZM3.33943 5.34607L14.427 8.52538V2.16644L3.33943 5.34607Z",fill:i})})}},64851:function(e,t,i){i.d(t,{A:()=>l});var a=i(4006);let l=function(e){let{width:t,fill:i="#363737",stroke:l="#363737"}=e;return(0,a.FD)("svg",{width:t,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.Y)("path",{d:"M10 0.461914C11.2035 0.461969 12.3335 0.796775 13.3037 1.37988C13.6583 1.59331 13.7726 2.05432 13.5596 2.40918C13.3462 2.76401 12.8852 2.87925 12.5303 2.66602C11.7847 2.21791 10.9212 1.96197 10 1.96191C7.21954 1.9621 4.91713 4.31246 4.91699 7.27246C4.91699 10.2326 7.21946 12.5828 10 12.583C12.7806 12.5828 15.084 10.2326 15.084 7.27246C15.0841 6.85837 15.4199 6.52246 15.834 6.52246C16.2478 6.5228 16.5838 6.85858 16.584 7.27246C16.584 9.28886 15.7305 11.1123 14.3701 12.3643L15.3125 15.1934L15.3252 15.2344C15.4029 15.5223 15.4159 15.8249 15.3623 16.1182C15.3087 16.4116 15.1898 16.6902 15.0137 16.9316C14.8376 17.173 14.6081 17.3712 14.3418 17.5088C14.1419 17.612 13.9254 17.6792 13.7031 17.7061L13.4785 17.7197H6.46387C6.16983 17.714 5.88175 17.6389 5.62207 17.502C5.36243 17.365 5.13857 17.1697 4.96582 16.9336C4.79324 16.6976 4.67465 16.4261 4.61914 16.1396C4.56368 15.8531 4.57212 15.5568 4.64258 15.2734L4.66016 15.2139L5.62598 12.3613C4.26782 11.1094 3.41699 9.28709 3.41699 7.27246C3.41713 3.53857 6.3376 0.462096 10 0.461914ZM6.0957 15.6484C6.08082 15.7158 6.07864 15.7864 6.0918 15.8545C6.10578 15.9265 6.13551 15.9926 6.17578 16.0479C6.21613 16.103 6.26691 16.146 6.32129 16.1748C6.37553 16.2034 6.43425 16.2185 6.49219 16.2197H13.4785C13.5377 16.2196 13.5977 16.2054 13.6533 16.1768C13.7091 16.1479 13.7605 16.1043 13.8018 16.0479C13.8432 15.9911 13.8732 15.9228 13.8867 15.8486C13.8999 15.7761 13.8953 15.7017 13.877 15.6309L13.0957 13.2842C12.1751 13.7927 11.1227 14.083 10 14.083C8.87468 14.083 7.8195 13.792 6.89746 13.2812L6.0957 15.6484Z",fill:i,stroke:"none"}),(0,a.Y)("path",{d:"M15.1044 2.94971L15.1953 5.32719M13.9602 4.13845H16.3395",stroke:l,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}},89181:function(e,t,i){i.d(t,{a:()=>P,I:()=>b});var a=i(79785),l=i(4006),n=i(38221),o=i.n(n),r=i(76316);if(/^(23133|90887)$/.test(i.j))var d=i(90232);var s=i(98445),c=i(17402),p=i(58155),u=i(84605),h=i(94729),v=i(35369),m=i(76977),g=i(16993),y=i(57820),f=i(63136),w=i(46754);let Y="previewButton-li2AnF",C="previewOverlay-kMGgQY";function U(){let e=(0,a._)(['No polymarkets match "','"']);return U=function(){return e},e}function b(e){let{query:t,onQueryChange:i,onSelect:a,searchVariant:n="big"}=e,{iString:d,iTemplate:s}=(0,u.GO)(),p=void 0!==t,[v,g]=(0,c.useState)(""),w=p?t:v,[Y,C]=(0,c.useState)([]),[b,P]=(0,c.useState)([]),[F,D]=(0,c.useState)(!1),[S,M]=(0,c.useState)(!1),[L,_]=(0,c.useState)(!1),T=(0,c.useCallback)(async e=>{if(!e.trim())return void C([]);M(!0);try{let t=await (0,h.x6)("/api/v1/polymarket/search?q=".concat(encodeURIComponent(e)));C(t.events||[])}catch(e){console.error("Error searching Polymarket:",e),C([])}finally{M(!1)}},[]),x=(0,c.useMemo)(()=>o()(e=>{T(e),_(!1)},300,{trailing:!0,leading:!1}),[T]),A=e=>{p||g(e),null==i||i(e),x(e),_(!0)};(0,c.useEffect)(()=>{(async()=>{D(!0);try{let e=await (0,h.x6)("/api/v1/polymarket/trending");P(e.events||[])}catch(e){console.error("Error fetching trending Polymarket events:",e)}finally{D(!1)}})()},[]);let N=e=>{a(e.slug)};return(0,l.FD)(m.I1,{gap:16,children:["none"===n?null:"small"===n?(0,l.Y)(k,{value:w,onChange:A,placeholder:d("Search Polymarket")}):(0,l.Y)(E,{value:w,onChange:A,placeholder:d("Search prediction market data on Polymarket")}),(0,l.Y)(m.I1,{paddingX:16*("big"===n),children:S||L?(0,l.Y)(m.pT,{justifyContent:"center",padding:40,children:(0,l.Y)(y.y$,{})}):Y.length>0?(0,l.Y)(I,{events:Y,onEventClick:N}):!w.trim()||L||S?(0,l.FD)(l.FK,{children:[b.length>0&&(0,l.FD)(m.I1,{gap:6,children:[(0,l.FD)(m.Ye,{gap:4,alignItems:"center",paddingLeft:12,children:[(0,l.Y)(r.A,{style:{color:"var(--color-fg-secondary)"},size:16}),(0,l.Y)(f.EY.Meta,{weight:"semibold",children:d("Trending")})]}),(0,l.Y)(I,{events:b,onEventClick:N})]}),F&&0===b.length&&(0,l.Y)(m.pT,{justifyContent:"center",padding:40,children:(0,l.Y)(y.y$,{})})]}):(0,l.Y)("div",{className:"emptyState-Rnj1ho",children:(0,l.Y)(f.EY.B3,{color:"secondary",children:s(U(),w)})})})]})}function P(e){let{isOpen:t,onClose:i,onSelect:a}=e,{iString:n}=(0,u.GO)(),[o,r]=(0,c.useState)(null),s=()=>{r(null),i()};return(0,l.FD)(g.aF,{isOpen:t,onClose:s,width:o?900:600,children:[o?(0,l.FD)(m.Ye,{padding:16,borderBottom:"detail",alignItems:"center",gap:12,children:[(0,l.Y)(v.K0,{priority:"tertiary",size:"sm",onClick:()=>{r(null)},"aria-label":n("Back"),children:(0,l.Y)(d.A,{size:20})}),(0,l.Y)(f.EY.B3,{weight:"semibold",children:n("Polymarket")}),(0,l.Y)(m.pT,{style:{marginLeft:"auto"},children:(0,l.Y)(v.K0,{priority:"tertiary",size:"sm",onClick:s,"aria-label":n("Close"),children:(0,l.Y)(f.EY.B3,{children:"\xd7"})})})]}):(0,l.Y)(g.rQ,{showClose:!0,onClose:s,title:n("Polymarket")}),(0,l.Y)(m.I1,{padding:32,children:o?(0,l.Y)(S,{eventSlug:o,onSelect:e=>{o&&(a(o,e),i(),r(null))}}):(0,l.Y)(m.I1,{paddingTop:0,border:"detail",radius:"md",children:(0,l.Y)(b,{onSelect:e=>{r(e)}})})})]})}function E(e){let{value:t,onChange:i,placeholder:a}=e,n=(0,c.useRef)(null);return(0,c.useEffect)(()=>{var e;null==(e=n.current)||e.focus()},[]),(0,l.FD)(m.Ye,{gap:8,alignItems:"center",paddingX:12,className:"searchInputLarge-hv_K7I",borderBottom:"detail",children:[(0,l.Y)(s.A,{size:20,style:{color:"var(--color-fg-secondary)"}}),(0,l.Y)("input",{ref:n,value:t,onChange:e=>{e.target instanceof HTMLInputElement&&i(e.target.value)},onKeyDown:e=>e.stopPropagation(),placeholder:a})]})}function k(e){let{value:t,onChange:i,placeholder:a}=e,n=(0,c.useRef)(null);return(0,c.useEffect)(()=>{var e;null==(e=n.current)||e.focus()},[]),(0,l.FD)(m.Ye,{gap:6,alignItems:"center",paddingX:8,paddingY:6,border:"detail",radius:"sm",bg:"primary",className:"searchInputSmall-QhMDjI",children:[(0,l.Y)(s.A,{size:18,style:{color:"var(--color-fg-secondary)"}}),(0,l.Y)("input",{ref:n,value:t,onChange:e=>{e.target instanceof HTMLInputElement&&i(e.target.value)},onKeyDown:e=>e.stopPropagation(),placeholder:a})]})}function I(e){let{events:t,onEventClick:i}=e;return(0,l.Y)(m.I1,{overflowY:"auto",children:t.map(e=>(0,l.Y)(F,{event:e,onClick:()=>i(e)},e.id))})}function F(e){let{event:t,onClick:i}=e;return(0,l.Y)(v.Nm,{className:"resultItem-KhOJwd",onClick:i,children:(0,l.FD)(m.Ye,{gap:12,alignItems:"center",justifyContent:"space-between",children:[(0,l.FD)(m.Ye,{className:"resultItemTitleWrap-guKBm5",gap:6,alignItems:"center",children:[t.image?(0,l.Y)("img",{src:t.image,alt:t.title,className:"eventIcon-AZRLL5"}):(0,l.Y)(m.pT,{width:40,height:40,radius:"sm",bg:"secondary",alignItems:"center",justifyContent:"center",children:(0,l.Y)(p.A,{width:20})}),(0,l.Y)(f.EY.B4,{weight:"semibold",className:"resultItemTitle-dNHAkn",children:t.title})]}),void 0!==t.likelihood&&(0,l.FD)(m.I1,{gap:0,className:"likelihoodWrap-Q7Ea2B",textAlign:"right",children:[(0,l.FD)(f.EY.B2,{className:"likelihood-zdhpmN",weight:"semibold",children:[t.likelihood,"%"]}),t.likelihoodLabel&&(0,l.Y)(f.EY.B5,{className:"likelihoodLabel-QTBI9_",color:"secondary",children:t.likelihoodLabel})]})]})})}function D(e){let{src:t,title:i,initialHeight:a=300}=e,n=(0,c.useRef)(null),[o,r]=(0,c.useState)(a);return(0,c.useEffect)(()=>{let e=e=>{n.current&&e.source===n.current.contentWindow&&e.data.iframeHeight&&"number"==typeof e.data.iframeHeight&&r(e.data.iframeHeight)};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},[]),(0,l.Y)("iframe",{ref:n,src:t,style:{width:"100%",height:"".concat(o,"px"),pointerEvents:"none"},title:i})}function S(e){let{eventSlug:t,onSelect:i}=e,{iString:a}=(0,u.GO)(),n=(0,w.fE)(t,void 0,!1),o=(0,w.fE)(t,void 0,!0);return(0,l.Y)(m.I1,{gap:16,border:"detail",radius:"md",padding:16,overflowX:"auto",children:(0,l.FD)(m.Ye,{gap:16,children:[(0,l.FD)(m.I1,{gap:8,style:{flex:1},children:[(0,l.Y)(f.EY.B4,{weight:"semibold",children:a("Snapshot")}),(0,l.FD)(v.Nm,{onClick:()=>i(!1),className:Y,style:{position:"relative",overflow:"hidden"},children:[(0,l.Y)(D,{src:n,title:a("Normal embed preview")}),(0,l.Y)("div",{className:C})]})]}),(0,l.FD)(m.I1,{gap:8,style:{flex:1},children:[(0,l.Y)(f.EY.B4,{weight:"semibold",children:a("Trend view")}),(0,l.FD)(v.Nm,{onClick:()=>i(!0),className:Y,children:[(0,l.Y)(D,{src:o,title:a("Chart embed preview")}),(0,l.Y)("div",{className:C})]})]})]})})}},95032:function(e,t,i){i.d(t,{A:()=>V,V:()=>O});var a=i(99851),l=i(69277),n=i(70408),o=i(4006),r=i(32485),d=i.n(r),s=i(50802),c=i(3213),p=i(94796),u=i(32708),h=i(15734),v=i.n(h),m=i(41873),g=i(84605),y=i(85936),f=i(29797),w=i(22431),Y=i(291),C=i(32465),U=i(41696),b=i(51091),P=i(22714),E=i(5461),k=i(60005),I=i(86500),F=i(68349),D=i(12387),S=i(35369),M=i(76977),L=i(88774),_=i(63136),T=i(65120),x=i(13348),A=i(82776),N=i(22347);class V extends Y.Ay{componentDidUpdate(e,t){var i,a,l;(null==(i=this.state.mediaUpload)?void 0:i.state)==="transcoded"&&(null==(a=t.mediaUpload)?void 0:a.state)!==(null==(l=this.state.mediaUpload)?void 0:l.state)&&this.activateThumbnailSetter(),this.props.initialFile!==e.initialFile&&this.setState({file:this.props.initialFile}),super.componentDidUpdate(e,t)}render(){var e,t,i;let{pub:a,postId:l,setPostId:n,onUploadStarted:r,onUploadCanceled:h,videoFeature:v,mediaUpload:g,onProgress:y,onOpenDrawer:P,setVideoRecorderOpen:E,language:I,audioExtractPreviewMediaUpload:F,onOpenVideoSettings:D,postMediaComposition:M}=this.props,{settingThumbnail:V,settingPreview:R,file:O}=this.state,K=(null==g?void 0:g.media_type)==="video"&&"embed"!==this.props.videoFeature,z=!K&&R,H=V||R,{iString:j}=this.i18n,W=(null==g?void 0:g.state)==="transcoded",Z="podcastDrawer"===v,Q=!M||"completed"===M.workflow_state,q=g&&["cancelled","error"].includes(g.state),G=g&&"uploaded"===g.state,X=!!(null==g?void 0:g.id);return(0,o.Y)("div",{className:d()("video-editor",{[N.A.videoEditorEmbed]:["embed","podcast","podcastDrawer"].includes(v)}),children:W&&Q?Z?(0,o.FD)(o.FK,{children:[(0,o.Y)("input",{ref:this.assignInput,type:"file",accept:Y.vj,onChange:e=>{this.removeUpload({skipConfirm:!0});let t=e.target,i=t.files?t.files[0]:null;this.setState({file:i})},style:{display:"none"}}),(0,o.Y)(T.B,{padding:16,border:"detail",radius:"sm",marginTop:16,children:(0,o.Y)(T.z,{icon:(0,o.Y)(s.A,{}),title:j("Uploaded video"),subtitle:g.primary_file_size?(0,A.numberToHumanFileSize)(g.primary_file_size):"",action:(0,o.FD)(L.W1,{trigger:(0,o.Y)(S.K0,{size:"sm",priority:"quaternary",rounded:!1,children:(0,o.Y)(c.A,{})}),children:[(0,o.Y)(L.H9,{isFirst:!0,children:(0,o.Y)(L.Dr,{leading:(0,o.Y)(p.A,{}),onClick:()=>{var e;return null==(e=this.input)?void 0:e.click()},children:j("Replace")})}),(0,o.Y)(L.H9,{children:(0,o.Y)(L.Dr,{leading:(0,o.Y)(u.A,{}),priority:"destructive",onClick:()=>this.removeUpload(),children:j("Remove")})})]})})})]}):(0,o.FD)("div",{className:"video-editor-player",children:[(0,o.Y)(m.A,{ref:this.assignVideoPlayer,mediaUpload:g,pub:a,noPreview:H,noControls:z,noKeyboardShortcuts:z,showPreviewWhenPaused:!0,renderPlayButton:()=>(0,o.Y)(x.ro,{isPlaying:!1,size:72}),surface:"editor",contentType:"post",entityType:"post",entityKey:null!=l?l:"unknown",stopPropagation:!0}),(0,o.Y)(f.A,{videoPlayerRef:null==(e=this.videoPlayer)?void 0:e.player,videoUpload:g,active:V,onCancel:()=>this.setState({settingThumbnail:!1}),onUpdate:e=>{this.onMediaUploadUpdated(e),this.setState({settingThumbnail:!1})}}),(0,o.Y)(w.h,{videoPlayerRef:null==(t=this.videoPlayer)?void 0:t.player,videoUpload:g,active:R,onCancel:()=>this.setState({settingPreview:!1}),onUpdate:e=>{this.setState({settingPreview:!1}),this.onMediaUploadUpdated(e)},audioPreviewMediaUpload:F,onAudioExtractPreviewMediaUpload:this.onAudioExtractPreviewMediaUpload}),"embed"!==this.props.videoFeature&&(0,o.Y)(k.A,{videoPlayer:this.videoPlayer,pub:a,postId:null!=l?l:null,mediaUpload:g,audioExtractMediaUpload:null!=(i=this.state.audioExtractMediaUpload)?i:null,onOpenThumbnail:()=>this.setState({settingThumbnail:!0}),onThumbnailUpdated:this.onMediaUploadUpdated,onOpenSettings:function(){let{tab:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};null==P||P({mediaType:"video",initialTab:e})},onOpenFreePreview:()=>this.setState({settingPreview:!0}),onRemoveFreePreview:()=>this.removeFreePreview(),onRemoveMedia:()=>this.removeUpload(),active:!H,onOpenVideoSettings:D}),H&&K&&(0,o.Y)("div",{className:N.A.topLabels,children:(0,o.Y)(_.EY.B4,{className:N.A.topLabel,children:V?j("Edit thumbnail"):R?j("Create free preview"):""})})]}):q?(0,o.Y)(C.a,{onClick:()=>this.removeUpload()}):G?(0,o.Y)(b.Q,{onCancel:()=>this.removeUpload()}):X?(0,o.Y)(U.V,{}):(0,o.Y)(B,{initialFile:O,videoFeature:v,mediaType:"video",postId:l,onUpload:e=>{this.onMediaUpload({mediaUpload:e.mediaUpload}),this.onAudioExtractMediaUpload({mediaUpload:e.audioExtractMediaUpload})},setPostId:n,onProgress:y,setVideoRecorderOpen:E,onUploadStarted:r,onUploadCanceled:h,language:I,maxVideoDurationSeconds:null,onVideoTooLong:null})})}constructor(e,t){var i,n;super(e,t),(0,a._)(this,"videoPlayer",null),(0,a._)(this,"input",null),(0,a._)(this,"assignVideoPlayer",e=>{this.videoPlayer=e}),(0,a._)(this,"assignInput",e=>{this.input=e}),(0,a._)(this,"loadVideoFrame",async e=>{var t,i;if(!(null==(t=this.videoPlayer)?void 0:t.player))return void console.error("loadVideoFrame called, but videoPlayer not set");if(this.videoPlayer.player.readyState<2){let e,t=new Promise(t=>e=t);this.videoPlayer.player.addEventListener("canplay",e),this.videoPlayer.player.load(),await Promise.race([t,new Promise(e=>setTimeout(e,1e3))]),null==(i=this.videoPlayer)||i.player.removeEventListener("canplay",e)}this.videoPlayer&&(this.videoPlayer.player.currentTime=e),await new Promise(e=>setTimeout(e,100))}),(0,a._)(this,"activateThumbnailSetter",async()=>{var e,t;if(null==(e=this.optionsDropdown)||e.close(),!this.state.settingThumbnail){if(!this.state.mediaUpload)return void console.error("activateThumbnailSetter, mediaUpload is not set ");(null==(t=this.videoPlayer)?void 0:t.player)&&(await this.loadVideoFrame((this.state.mediaUpload.thumbnail_id-1)*5),this.setState({settingThumbnail:!0,settingPreview:!1}))}}),(0,a._)(this,"activatePreviewSetter",async()=>{var e,t;if((null==(e=this.optionsDropdown)||e.close(),!this.state.settingPreview)&&(null==(t=this.videoPlayer)?void 0:t.player)){if(!this.state.mediaUpload)return void console.error("activatePreviewSetter, mediaUpload is not set");await this.loadVideoFrame(this.state.mediaUpload.preview_start||0),this.setState({settingPreview:!0,settingThumbnail:!1})}}),(0,a._)(this,"removeFreePreview",async()=>{var e,t;let{iString:i}=this.i18n;if(!confirm(i("Remove free preview. Are you sure?")))return;if(!this.state.mediaUpload)return void console.error("removeFreePreview called, mediaUpload not set");let a=(0,l._)({},this.state.audioExtractPreviewMediaUpload),{preview_start:n,preview_duration:r}=this.state.mediaUpload;null==(e=this.optionsDropdown)||e.close(),this.setState({settingPreview:!1}),this.onMediaUploadUpdated({preview_start:null,preview_duration:null}),(null==(t=this.state.audioExtractPreviewMediaUpload)?void 0:t.src_media_upload_id)===this.state.mediaUpload.id&&this.onAudioExtractPreviewMediaUpload({mediaUpload:null});try{await v().delete("/api/v1/video/upload/".concat(this.state.mediaUpload.id,"/preview")),(0,E.O)((0,o.Y)(o.FK,{children:i("Free preview removed")}))}catch(e){this.onMediaUploadUpdated({preview_start:n,preview_duration:r}),this.onAudioExtractMediaUpload({mediaUpload:this.state.audioExtractMediaUpload}),this.onAudioExtractPreviewMediaUpload({mediaUpload:a}),alert((0,F.uX)(e))}}),this.state={settingThumbnail:!1,settingPreview:!1,mediaUpload:null!=(i=this.props.mediaUpload)?i:null,mediaUploadId:null!=(n=this.props.mediaUploadId)?n:null,audioExtractMediaUploadId:e.audioExtractMediaUploadId,audioExtractMediaUpload:e.audioExtractMediaUpload||null,audioExtractPreviewMediaUploadId:e.audioExtractPreviewMediaUploadId,audioExtractPreviewMediaUpload:e.audioExtractPreviewMediaUpload||null,estimatedTimeLeftAt:null,timeLeft:0,percentComplete:1,file:this.props.initialFile}}}class B extends Y.v1{trackUploadClicked(){(0,I.u4)(I.qY.UPLOAD_VIDEO_CLICKED)}render(){let{props:e,state:t}=this,{iString:i}=this.i18n,{hideVideoInfoPanel:a}=t,l=this.state.existingEtags.length>0&&!a&&t.uploading;return(0,o.FD)(M.VP,{gap:12,children:[l&&(0,o.Y)(R,{onDismiss:()=>this.setState({hideVideoInfoPanel:!0})}),t.uploading?(0,o.Y)(y.h,{percentComplete:t.percentComplete,onCancel:()=>{if(confirm(i("Are you sure you want to cancel the upload?"))){var e,t;this.cancelUpload(),null==(e=(t=this.props).onUploadCanceled)||e.call(t)}}}):(0,o.Y)(P.k,{accepts:this.props.accepts||this.accepts,onUploadClicked:()=>this.onUploadClicked(),onFileSelected:e=>this.onFileSelected(e),onVideoRecorded:e=>{let t=new File([e],"web_recording_".concat(Date.now(),".webm"),{type:e.type});this.uploadToS3(t)},videoFeature:e.videoFeature,setVideoRecorderOpen:e.setVideoRecorderOpen})]})}constructor(e,t){super(e,t),(0,a._)(this,"input",null),(0,a._)(this,"assignInput",e=>{this.input=e}),this.state=(0,n._)((0,l._)({},this.state),{hideVideoInfoPanel:!1,videoRecorderModalOpen:!1})}}function R(e){let{onDismiss:t}=e,{iString:i}=(0,g.GO)();return(0,o.Y)(D.F,{title:i("Resuming upload..."),theme:"warn",description:i("This video was partially uploaded before. We saved your progress and will now resume."),onDismiss:t})}class O extends Y.v1{trackUploadClicked(){(0,I.u4)(I.qY.UPLOAD_VIDEO_CLICKED,{source:"notes"})}render(){return null}constructor(e,t){super(e,t),this.state=(0,n._)((0,l._)({},this.state),{hideVideoInfoPanel:!1})}}}}]);