!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e.SENTRY_RELEASE={id:"substack@af5f699"};var t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="ea386fe1-6f3d-42cf-b0a1-cd7bfc58f0d1",e._sentryDebugIdIdentifier="sentry-dbid-ea386fe1-6f3d-42cf-b0a1-cd7bfc58f0d1")}catch(e){}}();"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["38546"],{82121:function(e,t,n){n.d(t,{A:()=>r});let r={closeWelcomeModal:"closeWelcomeModal-KVUfKQ",maybeLater:"maybeLater-PlK9NK",publicationCoverPhotoLeft:"publicationCoverPhotoLeft-txdH2G",publicationCoverPhotoRight:"publicationCoverPhotoRight-RHPl8T",largePublicationCoverPhotoRight:"largePublicationCoverPhotoRight-A77S35",column:"column-_rp_8U",largeColumn:"largeColumn-bqn6Me",centeredColumn:"centeredColumn-M8Fujf",largeCenteredColumn:"largeCenteredColumn-AfeswM",hideColumnSmallScreens:"hideColumnSmallScreens-rlLOgZ",hideLargeColumnSmallScreens:"hideLargeColumnSmallScreens-LQBTX8",publicationCoverPhotoCenter:"publicationCoverPhotoCenter-rMU5R1",publicationLogo:"publicationLogo-EWjoMq",coverPrimary:"coverPrimary-cGRhhL",coverSecondary:"coverSecondary-pfbfwO",blurbImage:"blurbImage-bS0Pkx",containerClassName:"containerClassName-iHFmrN",promptClassName:"promptClassName-fM9VHe",inputClassName:"inputClassName-v5NZvy",subscribeButtonClassName:"subscribeButtonClassName-wpxkEl",largeHeading:"largeHeading-ZEJJF0",largeSubHeading:"largeSubHeading-lGmUwg",largePromptClassName:"largePromptClassName-Uexj1F",largeInputWrapperClassName:"largeInputWrapperClassName-VqAUAb",largeInputClassName:"largeInputClassName-zCK22A",largeSubscribeButtonClassName:"largeSubscribeButtonClassName-gTO6Dt",postContainer:"postContainer-iqizM2",postTitle:"postTitle-uVmG1_",postSubtitle:"postSubtitle-sIac6Y",postImage:"postImage-nsvz_r",faces:"faces-igzFCe",face:"face-G_PpVO",first:"first-bCHdQ8",last:"last-GRcjMY",bigSubtitle:"bigSubtitle-o28Z4u",balancedText:"balancedText-oQ__Kv",tosLink:"tosLink-n6HoHl",blurbText:"blurbText-isJ4mY",tosText:"tosText-yAQHNw",emailFormContainer:"emailFormContainer-TcAFa_",dividerText:"dividerText-_CxQGl"}},735:function(e,t,n){n.d(t,{A:()=>r});let r={button:"button-kENIJe"}},74084:function(e,t,n){n.d(t,{A:()=>r});let r={closeButton:"closeButton-YU1ngO",absolute:"absolute-ecQ0HE",imageCloseButton:"imageCloseButton-YQIpP0"}},86160:function(e,t,n){n.d(t,{T:()=>f});var r=n(4006),a=n(17402),i=n(24142),l=n(84605),o=n(86500),s=n(94729),u=n(68349),d=n(35369),c=n(76977),p=n(49807),g=n(57324),b=n(735);let f=e=>{let{publication:t,user:n,email:f,onSubscribeSuccess:m}=e,{iString:_}=(0,l.GO)(),[h,w]=(0,a.useState)(!1),v=(0,a.useCallback)(async()=>{if(!h){w(!0);try{(0,o.u4)(o.qY.APP_STORE_LINK_CLICKED,{source:"intro_popup_app_upsell",utm_campaign:g._9.welcomeSubscribeInApp,utm_source:g.VU.coverPage});let e=f||(null==n?void 0:n.email);if(e)try{await (0,s.x6)("/api/v1/free",{method:"POST",json:{email:e,source:"intro_popup_app_upsell"}})}catch(e){console.error("Failed to subscribe user:",e)}try{await (0,s.x6)("/api/v1/app_intended_state",{method:"POST",json:{data:{category:"publication",publicationId:t.id},useIp:!n}}),await (0,s.x6)("/api/v1/onboarding_intended_recommendations",{method:"POST",json:{recommendations:[{publicationId:t.id,isPrechecked:!0,source:"intro_popup_app_upsell"}],useIp:!n}})}catch(e){console.error("Failed to set app intended state:",e)}m&&m();let r=(0,p.Bte)({subdomain:t.subdomain,utm_source:g.VU.coverPage,utm_campaign:g._9.welcomeSubscribeInApp,redirect:"app-store"});(0,u.V2)(r,{local_navigation:!1})}catch(e){console.error("Failed to handle subscribe in app click:",e)}finally{w(!1)}}},[h,n,f,t,m]);return(0,r.Y)(c.I1,{paddingBottom:24,paddingX:24,style:{width:"100%",maxWidth:"380px"},children:(0,r.Y)(d.$n,{priority:"quaternary",width:"100%",className:b.A.button,onClick:v,disabled:h,loading:h,leading:(0,r.Y)(i.A,{height:20,fill:"#FF6719"}),children:_("Subscribe in the app")})})}},98747:function(e,t,n){n.d(t,{oY:()=>l,wX:()=>o});var r=n(4006),a=n(17402);let i=(0,a.createContext)({hasThemedBackground:!1});function l(){var e;return!!(null==(e=(0,a.useContext)(i))?void 0:e.hasThemedBackground)}function o(e){let{value:t,children:n}=e,l=(0,a.useMemo)(()=>t,Object.values(t));return(0,r.Y)(i.Provider,{value:l,children:n})}i.displayName="ThemeContext"},53928:function(e,t,n){n.d(t,{G1:()=>s,Mz:()=>u,jN:()=>o,ti:()=>i});var r=n(66565),a=n(13022);let i={TRACK_REGISTRATION_SHOWN:"trackRegistrationShown",TRACK_REGISTRATION_COMPLETE:"trackRegistrationComplete",TRACK_PAYWALL_SHOWN:"trackPaywallShown",TRACK_PAYWALL_COMPLETE:"trackPaywallComplete",TRACK_NEWSLETTER_SIGNUP_SHOWN:"trackNewsletterSignupShown",TRACK_NEWSLETTER_SIGNUP_COMPLETE:"trackNewsletterSignupComplete"};function l(){return"undefined"!=typeof window&&!0===(0,a.y0)("chartbeat_enabled")}function o(e,t){var n,r;l()&&"undefined"!=typeof window&&(!function(){if("undefined"==typeof window||window.chartbeat)return;let e=[],t=(t,n)=>{e.push([t,n])};t.q=e,window.chartbeat=t}(),null==(n=(r=window).chartbeat)||n.call(r,e,t))}function s(){var e,t;if("undefined"==typeof window||(null==(t=window._preloads)||null==(e=t.user)?void 0:e.is_subscribed))return;let n=(0,r.zj)();n.properties.chartbeat_registration_sent||n.properties.chartbeat_paywall_complete_sent||(n.properties.chartbeat_registration_sent=!0,o("trackRegistrationComplete"))}function u(e){var t;l()&&"undefined"!=typeof window&&(null==(t=window.pSUPERFLY)||t.virtualPage(e))}},4392:function(e,t,n){n.d(t,{O:()=>r});let r=(0,n(82776).randomString)()},82260:function(e,t,n){n.d(t,{F:()=>l});var r=n(49807);let a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="undefined"!=typeof window&&window._preloads&&window._preloads.pub&&window._preloads.pub.twitter_pixel_id||null;n&&i({p_id:"Twitter",p_user_id:0,txn_id:n,events:JSON.stringify([[e,t]]),tw_sale_amount:(null==t?void 0:t.value)||0,tw_order_quantity:(null==t?void 0:t.num_items)||0,tw_iframe_status:0,tw_document_href:document.location.href})},i=e=>{new Image().src="https://t.co/i/adsct?".concat((0,r.BpC)(e)),new Image().src="https://analytics.twitter.com/i/adsct?".concat((0,r.BpC)(e))},l=function(e){let{quantity:t,price:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("purchase"===e){let e="undefined"!=typeof window&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.twitter_pixel_subscribe_event_id||null;e&&"function"==typeof window.twq&&window.twq("event",e),a("purchase",{num_items:t,value:n})}else if("signup"===e){let e="undefined"!=typeof window&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.twitter_pixel_signup_event_id||null;e&&"function"==typeof window.twq&&window.twq("event",e),a("signup")}else a("pageview")}},12501:function(e,t,n){n.d(t,{U1:()=>m,VL:()=>g,lW:()=>_,qK:()=>p,st:()=>f});var r=n(69277),a=n(70408),i=n(32641),l=n(25568),o=n.n(l),s=n(97200),u=n.n(s),d=n(17402),c=n(94729);function p(e,t){let{auto:l,initialResult:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[u,p]=(0,d.useState)({result:s||null,isLoading:!!l,hasLoadedOnce:!1,error:null,promise:null}),g=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var{abortController:l=new(o())}=t,s=(0,i._)(t,["abortController"]);let u=e((0,a._)((0,r._)({},s),{signal:l.signal})).then(e=>{if(!l.signal.aborted)return p({isLoading:!1,hasLoadedOnce:!0,error:null,result:e,promise:null}),e},e=>{if(!l.signal.aborted)return Promise.all([n.e("50551"),n.e("19565")]).then(n.bind(n,35132)).then(t=>{var n,r;let{Sentry:a}=t,i=e instanceof c.fk?{message:e.getMessage(),url:null==(n=e.url)?void 0:n.toString(),body:e.body}:{message:"There was an error fetching a resource"},l=e instanceof c.fk?{pathname:null==(r=e.url)?void 0:r.pathname}:{};e instanceof c.fk&&[404,500].includes(e.response.status)||a.captureException(e,{extra:i,tags:l})}),p(t=>(0,a._)((0,r._)({},t),{isLoading:!1,error:e,result:null,promise:null})),e});return p(e=>(0,a._)((0,r._)({},e),{isLoading:!0,error:null,promise:u})),u};return(0,d.useEffect)(()=>{if(l){let e=new(o());return g({abortController:e}),()=>{e.abort()}}},t||[]),(0,a._)((0,r._)({},u),{refetch:g,setResult:e=>{p(t=>(0,a._)((0,r._)({},t),{error:null,result:e,isLoading:!1,promise:null}))},clearError:()=>{p((0,a._)((0,r._)({},u),{error:null}))}})}function g(e,t){switch(t.type){case"page_reset":var n;if(null==(n=t.payload)?void 0:n.merge)return e.slice(0,1);return[{isLoading:!0,error:null,result:null}];case"page_start":{let n=e.slice(),{page:i,id:l,merge:o}=t.payload,s={result:null,id:l,isLoading:!0,error:null};return n[i]=o?(0,a._)((0,r._)({},s,n[i]),{id:l}):s,n}case"page_load":{let{id:n,result:i}=t.payload;return e.map(e=>e.id===n?(0,a._)((0,r._)({},e),{isLoading:!1,result:i,error:null}):e)}case"page_error":{let{id:n,error:i}=t.payload;return e.map(e=>e.id===n?(0,a._)((0,r._)({},e),{isLoading:!1,result:null,error:i}):e)}}return e}let b=new Map;function f(e){var{pathname:t,auto:n,initialResult:l,deps:o,cacheTtl:s}=e,u=(0,i._)(e,["pathname","auto","initialResult","deps","cacheTtl"]);let d=p(e=>{var{pathname:n}=e,a=(0,i._)(e,["pathname"]);if(!t)throw Error("useFetch requires a pathname");if(s){let e=b.get(t);if(e){let{ts:t,ttl:n,promise:r}=e;if(t+n>Date.now())return r}}let l=(0,c.x6)(null!=n?n:t,(0,r._)({},u,a));return s&&b.set(t,{ts:Date.now(),ttl:s,promise:l}),l},o||[],{auto:n,initialResult:l});return(0,a._)((0,r._)({},d),{setResult:e=>{t&&s&&b.set(t,{ts:Date.now(),ttl:s,promise:Promise.resolve(e)}),d.setResult(e)}})}function m(e){var{pathname:t,auto:n,initialResult:l,deps:s,getPageInit:p,pages:b,dispatch:f}=e,m=(0,i._)(e,["pathname","auto","initialResult","deps","getPageInit","pages","dispatch"]);return function(e,t){var n;let{auto:l,initialResult:s,pages:c,dispatch:p}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[b,f]=(0,d.useReducer)(g,[{result:s||null,isLoading:!!l,error:null}],void 0),m=null!=c?c:b,_=null!=p?p:f,h=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var{abortController:n=new(o()),page:a=m.length,merge:l=!1,options:s}=t,d=(0,i._)(t,["abortController","page","merge","options"]);let c=m[a-1],p=u()();return _({type:"page_start",payload:{page:a,id:p,merge:l}}),e({options:(0,r._)({},s,d),signal:n.signal,page:a,lastPage:c}).then(e=>{if(!n.signal.aborted)return _({type:"page_load",payload:{page:a,id:p,result:e}}),e},e=>{if(!n.signal.aborted)return _({type:"page_error",payload:{page:a,id:p,error:e}}),e})},w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var{merge:t=!1}=e,n=(0,i._)(e,["merge"]);return _({type:"page_reset",payload:{merge:t}}),h((0,a._)((0,r._)({},n),{page:0,merge:t}))};(0,d.useEffect)(()=>{if(l){let e=new(o());return w({abortController:e}),()=>{e.abort()}}},t||[]);let v=!1,y=async()=>{if(!v){let e=m[m.length-1];if(!e.isLoading&&!e.error)return v=!0,await h()}},C=m[m.length-1];return{pages:m,page:m.length,lastPage:C,fetchMore:y,canFetchMore:C&&!C.isLoading&&!C.error,fetchFirstPage:w,hasLoadedOnce:!!(null==(n=m[0])?void 0:n.result)}}(e=>{let{page:n,lastPage:a,options:i}=e;if(!t)throw Error("useFetch requires a pathname");let l=p({init:(0,r._)({},m,i),page:n,lastPage:a});return(0,c.x6)(t,l)},s||[],{auto:n,initialResult:l,pages:b,dispatch:f})}function _(e,t,n){let r=(0,d.useRef)(null);return(0,d.useCallback)(function(){for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];clearTimeout(r.current),r.current=setTimeout(()=>e(...a),t)},n)}},76171:function(e,t,n){n.d(t,{JU:()=>g,Sy:()=>f,sb:()=>b});var r=n(69277),a=n(70408),i=n(32641),l=n(4006),o=n(75159),s=n(32485),u=n.n(s),d=n(17402),c=n(76977),p=n(63136);let g=(0,d.forwardRef)((e,t)=>{var{className:n,children:s,htmlFor:d}=e,c=(0,i._)(e,["className","children","htmlFor"]);return(0,l.Y)(o.b,{asChild:!0,htmlFor:d,children:(0,l.Y)(p.EY.B4,(0,a._)((0,r._)({as:"label",weight:"medium",color:"primary",ref:t,cursor:"inherit",className:u()("pencraft",n)},c),{children:s}))})}),b=(0,d.forwardRef)((e,t)=>{var{className:n,children:o}=e,s=(0,i._)(e,["className","children"]);return(0,l.Y)(g,(0,a._)((0,r._)({ref:t,className:n},s),{children:(0,l.FD)(c.Ye,{gap:4,alignItems:"center",children:[o,(0,l.Y)(_,{})]})}))}),f=(0,d.forwardRef)((e,t)=>{var{className:n,children:o,hint:s}=e,u=(0,i._)(e,["className","children","hint"]);return(0,l.Y)(g,(0,a._)((0,r._)({ref:t,className:n},u),{children:(0,l.FD)(c.Ye,{gap:4,justifyContent:"space-between",children:[o,(0,l.Y)(m,{text:s})]})}))}),m=e=>{let{text:t}=e;return(0,l.Y)(p.EY,{color:"secondary",weight:"regular",children:t})},_=()=>(0,l.Y)(p.EY,{as:"span",color:"error",children:"*"})},92028:function(e,t,n){n.d(t,{Q:()=>d});var r=n(69277),a=n(32641),i=n(4006),l=n(32485),o=n.n(l);n(17402);var s=n(35369),u=n(78340);function d(e){var{className:t}=e,n=(0,a._)(e,["className"]);return(0,i.Y)(s.Nm,(0,r._)({resetCss:!0,className:o()(t,u.A.textButton)},n))}},49095:function(e,t,n){n.r(t),n.d(t,{ProfileRelationshipBadge:()=>y,RelationshipTag:()=>T,UserBadge:()=>C,UserStatusSymbols:()=>v});var r=n(69277),a=n(70408),i=n(32641),l=n(4006),o=n(32485),s=n.n(o),u=n(84605),d=n(46271),c=n(86500),p=n(89490),g=n(76977),b=n(37598),f=n(81929),m=n(63136),_=n(4257),h=n(62252),w=n(14444);function v(e){var{status:t,tier:n,noRelationshipBadge:o}=e,s=(0,i._)(e,["status","tier","noRelationshipBadge"]);let u=n?{type:"bestseller",tier:n}:null==t?void 0:t.badge,d=o?null:null==t?void 0:t.subscriber;return(0,l.FD)(l.FK,{children:[u&&(0,l.Y)(C,(0,a._)((0,r._)({},s),{userBadge:u})),u&&d&&" ",d&&(0,l.Y)(N,{inline:s.inline,label:d.label})]})}function y(e){var t;let{profile:n}=e,{iString:r}=(0,u.GO)(),a=(0,d.Jd)();if((null==a?void 0:a.id)===n.id)return null;let i=(null==(t=n.status)?void 0:t.subscriber)?n.status.subscriber.label:n.subscribesToViewerSubdomain?r("Subscribes to you"):n.followsViewer?r("Follows you"):null;return i?(0,l.Y)(N,{label:i}):null}function C(e){let{className:t,isStatic:n=!1,inline:r=!1,size:a="lg",userBadge:i,userId:o,hideViewProfileButton:u=!1}=e,d=s()(t,r?w.A.inlineContainer:w.A.container);return n?(0,l.Y)(p.az,{className:d,children:(0,l.Y)(_.u,{badge:i,isStatic:n,size:a})}):o?(0,l.Y)(p.az,{className:d,"data-testid":"user-badge",cursor:"pointer",children:(0,l.Y)(h.q,{userId:o,badge:i,hideViewProfileButton:u,children:(0,l.Y)(_.u,{badge:i,size:a})})}):(0,l.Y)(p.az,{className:d,"data-testid":"user-badge",cursor:"pointer",children:(0,l.Y)(b.A,{trigger:(0,l.Y)(p.az,{children:(0,l.Y)(_.u,{badge:i,size:a})}),onOpen:()=>{"bestseller"===i.type&&(0,c.u4)(c.qY.BESTSELLER_INFO_SHOWN,{tier:i.tier,form:"popover",hovered_user_id:o})},children:(0,l.Y)(S,{badge:i})})})}function S(e){let t,{badge:n}=e,{iString:r}=(0,u.GO)(),a=function(e){let{iString:t}=(0,u.GO)();if("bestseller"===e.type)switch(e.tier){case 100:return t("Hundreds of paid subscribers");case 1e3:return t("Thousands of paid subscribers");case 1e4:return t("Tens of thousands of paid subscribers")}else if("vip"===e.type)return t("Verified on an external service");else if("subscriber"===e.type)switch(e.tier){case 1:return t("Paid subscriber to 1+ Substacks");case 5:return t("Paid subscriber to 5+ Substacks");case 10:return t("Paid subscriber to 10+ Substacks")}return t("Unverified user")}(n);return t=r("bestseller"===n.type?"Bestseller":"subscriber"===n.type?"Paid subscriber":"vip"===n.type?"Externally verified":"Unverified user"),(0,l.FD)(g.VP,{alignItems:"center",gap:16,padding:20,children:[(0,l.Y)(_.u,{size:"xl",badge:n}),(0,l.FD)(g.VP,{alignItems:"center",gap:2,children:[(0,l.Y)(m.EY.H4,{children:t}),(0,l.Y)(m.EY.B4,{align:"center",color:"secondary",children:a})]})]})}function N(e){let{label:t,inline:n}=e;return(0,l.Y)("div",{className:n?w.A.inlineContainer:w.A.container,children:(0,l.Y)(f.vw,{priority:"secondary",children:t})})}let T=(0,p.I4)({sizing:"border-box",display:"inline-flex",alignSelf:"center",height:20,paddingX:6,paddingY:2,gap:4,font:"text",fontSize:11,fontWeight:"medium",alignItems:"center",bg:"secondary",color:"secondary",radius:"xs"})},55298:function(e,t,n){n.d(t,{cx:()=>i,wH:()=>a,zw:()=>l});var r=n(92636);let a=e=>(0,r.yR)("".concat((0,r.Ew)(),"/app/app-store-redirect"),e),i=e=>(0,r.yR)("".concat((0,r.Ew)(),"/app/get-ios"),e),l=e=>(0,r.yR)("".concat((0,r.Ew)(),"/app/get-android"),e)},53168:function(e,t,n){n.d(t,{AG:()=>s,GJ:()=>i,QW:()=>l,Up:()=>o,eQ:()=>r,iC:()=>a});let r=1003,a=1002,i=1001,l=1e3,o=999,s=998}}]);