!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e.SENTRY_RELEASE={id:"substack@af5f699"};var t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="6accef3e-c1c3-4bf1-a317-7edc61ea0d1a",e._sentryDebugIdIdentifier="sentry-dbid-6accef3e-c1c3-4bf1-a317-7edc61ea0d1a")}catch(e){}}(),(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["43485"],{20311:function(e){"use strict";e.exports=function(e,t,n,r,u,o,i,l){if(!e){var _;if(void 0===t)_=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,u,o,i,l],a=0;(_=Error(t.replace(/%s/g,function(){return s[a++]}))).name="Invariant Violation"}throw _.framesToPop=1,_}}},58156:function(e,t,n){var r=n(47422);e.exports=function(e,t,n){var u=null==e?void 0:r(e,t);return void 0===u?n:u}},2404:function(e,t,n){var r=n(60270);e.exports=function(e,t){return r(e,t)}},63950:function(e){e.exports=function(){}},6498:function(e,t,n){e.exports=n(42e3)(function(e,t,n){e[+!n].push(t)},function(){return[[],[]]})},97200:function(e,t,n){var r=n(13222),u=0;e.exports=function(e){var t=++u;return r(e)+t}},6585:function(e){function t(e,t,n,r){return Math.round(e/n)+" "+r+(t>=1.5*n?"s":"")}e.exports=function(e,n){n=n||{};var r,u,o,i,l=typeof e;if("string"===l&&e.length>0){var _=e;if(!((_=String(_)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(_);if(s){var a=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return 864e5*a;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*a;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*a;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:break}}}return}if("number"===l&&isFinite(e)){return n.long?(u=Math.abs(r=e))>=864e5?t(r,u,864e5,"day"):u>=36e5?t(r,u,36e5,"hour"):u>=6e4?t(r,u,6e4,"minute"):u>=1e3?t(r,u,1e3,"second"):r+" ms":(i=Math.abs(o=e))>=864e5?Math.round(o/864e5)+"d":i>=36e5?Math.round(o/36e5)+"h":i>=6e4?Math.round(o/6e4)+"m":i>=1e3?Math.round(o/1e3)+"s":o+"ms"}throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},50172:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:()=>T,Fragment:()=>S,cloneElement:()=>F,createContext:()=>W,createElement:()=>w,createRef:()=>x,h:()=>w,hydrate:()=>I,isValidElement:()=>i,options:()=>u,render:()=>j,toChildArray:()=>function e(t,n){return n=n||[],null==t||"boolean"==typeof t||(m(t)?t.some(function(t){e(t,n)}):n.push(t)),n}});var r,u,o,i,l,_,s,a,c,f,d,p,h,y={},v=[],g=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,m=Array.isArray;function b(e,t){for(var n in t)e[n]=t[n];return e}function k(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function w(e,t,n){var u,o,i,l={};for(i in t)"key"==i?u=t[i]:"ref"==i?o=t[i]:l[i]=t[i];if(arguments.length>2&&(l.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)null==l[i]&&(l[i]=e.defaultProps[i]);return E(e,l,u,o,null)}function E(e,t,n,r,i){var l={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==i?++o:i,__i:-1,__u:0};return null==i&&null!=u.vnode&&u.vnode(l),l}function x(){return{current:null}}function S(e){return e.children}function T(e,t){this.props=e,this.context=t}function C(e,t){if(null==t)return e.__?C(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?C(e):null}function O(e){(!e.__d&&(e.__d=!0)&&l.push(e)&&!P.__r++||_!=u.debounceRendering)&&((_=u.debounceRendering)||s)(P)}function P(){for(var e,t,n,r,o,i,_=1;l.length;)l.length>_&&l.sort(a),e=l.shift(),_=l.length,e.__d&&(t=void 0,r=(n=e.__v).__e,o=[],i=[],e.__P&&((t=b({},n)).__v=n.__v+1,u.vnode&&u.vnode(t),D(e.__P,t,n,e.__n,e.__P.namespaceURI,32&n.__u?[r]:null,o,null==r?C(n):r,!!(32&n.__u),i),t.__v=n.__v,t.__.__k[t.__i]=t,A(o,t,i),t.__e!=r&&function e(t){var n,r;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if(null!=(r=t.__k[n])&&null!=r.__e){t.__e=t.__c.base=r.__e;break}return e(t)}}(t)));P.__r=0}function R(e,t,n,r,o,i,l,_,s,a,c){var f,d,p,h,g,b,w=r&&r.__k||v,x=t.length;for(s=function(e,t,n,r,o){var i,l,_,s,a,c=n.length,f=c,d=0;for(e.__k=Array(o),i=0;i<o;i++)null!=(l=t[i])&&"boolean"!=typeof l&&"function"!=typeof l?(s=i+d,(l=e.__k[i]="string"==typeof l||"number"==typeof l||"bigint"==typeof l||l.constructor==String?E(null,l,null,null,null):m(l)?E(S,{children:l},null,null,null):null==l.constructor&&l.__b>0?E(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):l).__=e,l.__b=e.__b+1,_=null,-1!=(a=l.__i=function(e,t,n,r){var u,o,i=e.key,l=e.type,_=t[n];if(null===_&&null==e.key||_&&i==_.key&&l==_.type&&0==(2&_.__u))return n;if(r>+(null!=_&&0==(2&_.__u)))for(u=n-1,o=n+1;u>=0||o<t.length;){if(u>=0){if((_=t[u])&&0==(2&_.__u)&&i==_.key&&l==_.type)return u;u--}if(o<t.length){if((_=t[o])&&0==(2&_.__u)&&i==_.key&&l==_.type)return o;o++}}return -1}(l,n,s,f))&&(f--,(_=n[a])&&(_.__u|=2)),null==_||null==_.__v?(-1==a&&(o>c?d--:o<c&&d++),"function"!=typeof l.type&&(l.__u|=4)):a!=s&&(a==s-1?d--:a==s+1?d++:(a>s?d--:d++,l.__u|=4))):e.__k[i]=null;if(f)for(i=0;i<c;i++)null!=(_=n[i])&&0==(2&_.__u)&&(_.__e==r&&(r=C(_)),function e(t,n,r){var o,i;if(u.unmount&&u.unmount(t),(o=t.ref)&&(o.current&&o.current!=t.__e||U(o,null,n)),null!=(o=t.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){u.__e(e,n)}o.base=o.__P=null}if(o=t.__k)for(i=0;i<o.length;i++)o[i]&&e(o[i],n,r||"function"!=typeof t.type);r||k(t.__e),t.__c=t.__=t.__e=void 0}(_,_));return r}(n,t,w,s,x),f=0;f<x;f++)null!=(p=n.__k[f])&&(d=-1==p.__i?y:w[p.__i]||y,p.__i=f,b=D(e,p,d,o,i,l,_,s,a,c),h=p.__e,p.ref&&d.ref!=p.ref&&(d.ref&&U(d.ref,null,p),c.push(p.ref,p.__c||h,p)),null==g&&null!=h&&(g=h),4&p.__u||d.__k===p.__k?s=function e(t,n,r){var u,o;if("function"==typeof t.type){for(u=t.__k,o=0;u&&o<u.length;o++)u[o]&&(u[o].__=t,n=e(u[o],n,r));return n}t.__e!=n&&(n&&t.type&&!r.contains(n)&&(n=C(t)),r.insertBefore(t.__e,n||null),n=t.__e);do n=n&&n.nextSibling;while(null!=n&&8==n.nodeType);return n}(p,s,e):"function"==typeof p.type&&void 0!==b?s=b:h&&(s=h.nextSibling),p.__u&=-7);return n.__e=g,s}function V(e,t,n){"-"==t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||g.test(t)?n:n+"px"}function L(e,t,n,r,u){var o;e:if("style"==t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||V(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||V(e.style,t,n[t])}else if("o"==t[0]&&"n"==t[1])o=t!=(t=t.replace(c,"$1")),t=t.toLowerCase()in e||"onFocusOut"==t||"onFocusIn"==t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=f,e.addEventListener(t,o?p:d,o)):e.removeEventListener(t,o?p:d,o);else{if("http://www.w3.org/2000/svg"==u)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function M(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.t)t.t=f++;else if(t.t<n.u)return;return n(u.event?u.event(t):t)}}}function D(e,t,n,o,i,l,_,s,a,c){var f,d,p,h,v,g,w,E,x,O,P,V,M,D,A,U,j,I=t.type;if(null!=t.constructor)return null;128&n.__u&&(a=!!(32&n.__u),l=[s=t.__e=n.__e]),(f=u.__b)&&f(t);e:if("function"==typeof I)try{if(E=t.props,x="prototype"in I&&I.prototype.render,O=(f=I.contextType)&&o[f.__c],P=f?O?O.props.value:f.__:o,n.__c?w=(d=t.__c=n.__c).__=d.__E:(x?t.__c=d=new I(E,P):(t.__c=d=new T(E,P),d.constructor=I,d.render=N),O&&O.sub(d),d.props=E,d.state||(d.state={}),d.context=P,d.__n=o,p=d.__d=!0,d.__h=[],d._sb=[]),x&&null==d.__s&&(d.__s=d.state),x&&null!=I.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=b({},d.__s)),b(d.__s,I.getDerivedStateFromProps(E,d.__s))),h=d.props,v=d.state,d.__v=t,p)x&&null==I.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),x&&null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(x&&null==I.getDerivedStateFromProps&&E!==h&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(E,P),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(E,d.__s,P)||t.__v==n.__v){for(t.__v!=n.__v&&(d.props=E,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(e){e&&(e.__=t)}),V=0;V<d._sb.length;V++)d.__h.push(d._sb[V]);d._sb=[],d.__h.length&&_.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(E,d.__s,P),x&&null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(h,v,g)})}if(d.context=P,d.props=E,d.__P=e,d.__e=!1,M=u.__r,D=0,x){for(d.state=d.__s,d.__d=!1,M&&M(t),f=d.render(d.props,d.state,d.context),A=0;A<d._sb.length;A++)d.__h.push(d._sb[A]);d._sb=[]}else do d.__d=!1,M&&M(t),f=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++D<25);d.state=d.__s,null!=d.getChildContext&&(o=b(b({},o),d.getChildContext())),x&&!p&&null!=d.getSnapshotBeforeUpdate&&(g=d.getSnapshotBeforeUpdate(h,v)),U=f,null!=f&&f.type===S&&null==f.key&&(U=function e(t){return"object"!=typeof t||null==t||t.__b&&t.__b>0?t:m(t)?t.map(e):b({},t)}(f.props.children)),s=R(e,m(U)?U:[U],t,n,o,i,l,_,s,a,c),d.base=t.__e,t.__u&=-161,d.__h.length&&_.push(d),w&&(d.__E=d.__=null)}catch(e){if(t.__v=null,a||null!=l)if(e.then){for(t.__u|=a?160:128;s&&8==s.nodeType&&s.nextSibling;)s=s.nextSibling;l[l.indexOf(s)]=null,t.__e=s}else for(j=l.length;j--;)k(l[j]);else t.__e=n.__e,t.__k=n.__k;u.__e(e,t,n)}else null==l&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):s=t.__e=function(e,t,n,o,i,l,_,s,a){var c,f,d,p,h,v,g,b=n.props,w=t.props,E=t.type;if("svg"==E?i="http://www.w3.org/2000/svg":"math"==E?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),null!=l){for(c=0;c<l.length;c++)if((h=l[c])&&"setAttribute"in h==!!E&&(E?h.localName==E:3==h.nodeType)){e=h,l[c]=null;break}}if(null==e){if(null==E)return document.createTextNode(w);e=document.createElementNS(i,E,w.is&&w),s&&(u.__m&&u.__m(t,l),s=!1),l=null}if(null==E)b===w||s&&e.data==w||(e.data=w);else{if(l=l&&r.call(e.childNodes),b=n.props||y,!s&&null!=l)for(b={},c=0;c<e.attributes.length;c++)b[(h=e.attributes[c]).name]=h.value;for(c in b)if(h=b[c],"children"==c);else if("dangerouslySetInnerHTML"==c)d=h;else if(!(c in w)){if("value"==c&&"defaultValue"in w||"checked"==c&&"defaultChecked"in w)continue;L(e,c,null,h,i)}for(c in w)h=w[c],"children"==c?p=h:"dangerouslySetInnerHTML"==c?f=h:"value"==c?v=h:"checked"==c?g=h:s&&"function"!=typeof h||b[c]===h||L(e,c,h,b[c],i);if(f)s||d&&(f.__html==d.__html||f.__html==e.innerHTML)||(e.innerHTML=f.__html),t.__k=[];else if(d&&(e.innerHTML=""),R("template"==t.type?e.content:e,m(p)?p:[p],t,n,o,"foreignObject"==E?"http://www.w3.org/1999/xhtml":i,l,_,l?l[0]:n.__k&&C(n,0),s,a),null!=l)for(c=l.length;c--;)k(l[c]);s||(c="value","progress"==E&&null==v?e.removeAttribute("value"):null==v||v===e[c]&&("progress"!=E||v)&&("option"!=E||v==b[c])||L(e,c,v,b[c],i),c="checked",null!=g&&g!=e[c]&&L(e,c,g,b[c],i))}return e}(n.__e,t,n,o,i,l,_,a,c);return(f=u.diffed)&&f(t),128&t.__u?void 0:s}function A(e,t,n){for(var r=0;r<n.length;r++)U(n[r],n[++r],n[++r]);u.__c&&u.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){u.__e(e,t.__v)}})}function U(e,t,n){try{if("function"==typeof e){var r="function"==typeof e.__u;r&&e.__u(),r&&null==t||(e.__u=e(t))}else e.current=t}catch(e){u.__e(e,n)}}function N(e,t,n){return this.constructor(e,n)}function j(e,t,n){var o,i,l,_;t==document&&(t=document.documentElement),u.__&&u.__(e,t),i=(o="function"==typeof n)?null:n&&n.__k||t.__k,l=[],_=[],D(t,e=(!o&&n||t).__k=w(S,null,[e]),i||y,y,t.namespaceURI,!o&&n?[n]:i?null:t.firstChild?r.call(t.childNodes):null,l,!o&&n?n:i?i.__e:t.firstChild,o,_),A(l,e,_)}function I(e,t){j(e,t,I)}function F(e,t,n){var u,o,i,l,_=b({},e.props);for(i in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)"key"==i?u=t[i]:"ref"==i?o=t[i]:_[i]=null==t[i]&&null!=l?l[i]:t[i];return arguments.length>2&&(_.children=arguments.length>3?r.call(arguments,2):n),E(e.type,_,u||e.key,o||e.ref,null)}function W(e){function t(e){var n,r;return this.getChildContext||(n=new Set,(r={})[t.__c]=this,this.getChildContext=function(){return r},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(e){this.props.value!=e.value&&n.forEach(function(e){e.__e=!0,O(e)})},this.sub=function(e){n.add(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n&&n.delete(e),t&&t.call(e)}}),e.children}return t.__c="__cC"+h++,t.__=e,t.Provider=t.__l=(t.Consumer=function(e,t){return e.children(t)}).contextType=t,t}r=v.slice,u={__e:function(e,t,n,r){for(var u,o,i;t=t.__;)if((u=t.__c)&&!u.__)try{if((o=u.constructor)&&null!=o.getDerivedStateFromError&&(u.setState(o.getDerivedStateFromError(e)),i=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(e,r||{}),i=u.__d),i)return u.__E=u}catch(t){e=t}throw e}},o=0,i=function(e){return null!=e&&null==e.constructor},T.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=b({},this.state),"function"==typeof e&&(e=e(b({},n),this.props)),e&&b(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),O(this))},T.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),O(this))},T.prototype.render=S,l=[],s="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,a=function(e,t){return e.__v.__b-t.__v.__b},P.__r=0,c=/(PointerCapture)$|Capture$/i,f=0,d=M(!1),p=M(!0),h=0},30115:function(e){var t="undefined"!=typeof Element,n="function"==typeof Map,r="function"==typeof Set,u="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;e.exports=function(e,o){try{return function e(o,i){if(o===i)return!0;if(o&&i&&"object"==typeof o&&"object"==typeof i){var l,_,s,a;if(o.constructor!==i.constructor)return!1;if(Array.isArray(o)){if((l=o.length)!=i.length)return!1;for(_=l;0!=_--;)if(!e(o[_],i[_]))return!1;return!0}if(n&&o instanceof Map&&i instanceof Map){if(o.size!==i.size)return!1;for(a=o.entries();!(_=a.next()).done;)if(!i.has(_.value[0]))return!1;for(a=o.entries();!(_=a.next()).done;)if(!e(_.value[1],i.get(_.value[0])))return!1;return!0}if(r&&o instanceof Set&&i instanceof Set){if(o.size!==i.size)return!1;for(a=o.entries();!(_=a.next()).done;)if(!i.has(_.value[0]))return!1;return!0}if(u&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(i)){if((l=o.length)!=i.length)return!1;for(_=l;0!=_--;)if(o[_]!==i[_])return!1;return!0}if(o.constructor===RegExp)return o.source===i.source&&o.flags===i.flags;if(o.valueOf!==Object.prototype.valueOf&&"function"==typeof o.valueOf&&"function"==typeof i.valueOf)return o.valueOf()===i.valueOf();if(o.toString!==Object.prototype.toString&&"function"==typeof o.toString&&"function"==typeof i.toString)return o.toString()===i.toString();if((l=(s=Object.keys(o)).length)!==Object.keys(i).length)return!1;for(_=l;0!=_--;)if(!Object.prototype.hasOwnProperty.call(i,s[_]))return!1;if(t&&o instanceof Element)return!1;for(_=l;0!=_--;)if(("_owner"!==s[_]&&"__v"!==s[_]&&"__o"!==s[_]||!o.$$typeof)&&!e(o[s[_]],i[s[_]]))return!1;return!0}return o!=o&&i!=i}(e,o)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},2833:function(e){e.exports=function(e,t,n,r){var u=n?n.call(r,e,t):void 0;if(void 0!==u)return!!u;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(t),_=0;_<o.length;_++){var s=o[_];if(!l(s))return!1;var a=e[s],c=t[s];if(!1===(u=n?n.call(r,a,c,s):void 0)||void 0===u&&a!==c)return!1}return!0}},87369:function(e,t,n){var r=n(84129),u=[n(99653),n(65416),n(9234),n(81529)];e.exports=r.createStore(u,[])},25250:function(e,t,n){"use strict";n.d(t,{Ay:()=>_,Tk:()=>o.Tk,iX:()=>o.iX,uv:()=>o.uv});var r=n(17402),u=n(19888),o=n(11167);let i=r.default.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}),l={dedupe:!0};o.qv.defineProperty(o.BE,"defaultValue",{value:o.sb});let _=(0,o.qm)((e,t,n)=>{let{cache:_,compare:s,suspense:a,fallbackData:c,revalidateOnMount:f,revalidateIfStale:d,refreshInterval:p,refreshWhenHidden:h,refreshWhenOffline:y,keepPreviousData:v}=n,[g,m,b,k]=o.bZ.get(_),[w,E]=(0,o.lK)(e),x=(0,r.useRef)(!1),S=(0,r.useRef)(!1),T=(0,r.useRef)(w),C=(0,r.useRef)(t),O=(0,r.useRef)(n),P=()=>O.current.isVisible()&&O.current.isOnline(),[R,V,L,M]=(0,o.r9)(_,w),D=(0,r.useRef)({}).current,A=(0,o.b0)(c)?n.fallback[w]:c,U=(e,t)=>{for(let n in D)if("data"===n){if(!s(e[n],t[n])&&(!(0,o.b0)(e[n])||!s(z,t[n])))return!1}else if(t[n]!==e[n])return!1;return!0},N=(0,r.useMemo)(()=>{let e=!!w&&!!t&&((0,o.b0)(f)?!O.current.isPaused()&&!a&&(!!(0,o.b0)(d)||d):f),n=t=>{let n=(0,o.rL)(t);return(delete n._k,e)?{isValidating:!0,isLoading:!0,...n}:n},r=R(),u=M(),i=n(r),l=r===u?i:n(u),_=i;return[()=>{let e=n(R());return U(e,_)?(_.data=e.data,_.isLoading=e.isLoading,_.isValidating=e.isValidating,_.error=e.error,_):(_=e,e)},()=>l]},[_,w]),j=(0,u.useSyncExternalStore)((0,r.useCallback)(e=>L(w,(t,n)=>{U(n,t)||e()}),[_,w]),N[0],N[1]),I=!x.current,F=g[w]&&g[w].length>0,W=j.data,B=(0,o.b0)(W)?A:W,H=j.error,$=(0,r.useRef)(B),z=v?(0,o.b0)(W)?$.current:W:B,X=(!F||!!(0,o.b0)(H))&&(I&&!(0,o.b0)(f)?f:!O.current.isPaused()&&(a?!(0,o.b0)(B)&&d:(0,o.b0)(B)||d)),q=!!(w&&t&&I&&X),Z=(0,o.b0)(j.isValidating)?q:j.isValidating,J=(0,o.b0)(j.isLoading)?q:j.isLoading,K=(0,r.useCallback)(async e=>{let t,r,u=C.current;if(!w||!u||S.current||O.current.isPaused())return!1;let i=!0,l=e||{},_=!b[w]||!l.dedupe,a=()=>o.dO?!S.current&&w===T.current&&x.current:w===T.current,c={isValidating:!1,isLoading:!1},f=()=>{V(c)},d=()=>{let e=b[w];e&&e[1]===r&&delete b[w]},p={isValidating:!0};(0,o.b0)(R().data)&&(p.isLoading=!0);try{if(_&&(V(p),n.loadingTimeout&&(0,o.b0)(R().data)&&setTimeout(()=>{i&&a()&&O.current.onLoadingSlow(w,n)},n.loadingTimeout),b[w]=[u(E),(0,o.lg)()]),[t,r]=b[w],t=await t,_&&setTimeout(d,n.dedupingInterval),!b[w]||b[w][1]!==r)return _&&a()&&O.current.onDiscarded(w),!1;c.error=o.ZH;let e=m[w];if(!(0,o.b0)(e)&&(r<=e[0]||r<=e[1]||0===e[1]))return f(),_&&a()&&O.current.onDiscarded(w),!1;let l=R().data;c.data=s(l,t)?l:t,_&&a()&&O.current.onSuccess(t,w,n)}catch(n){d();let e=O.current,{shouldRetryOnError:t}=e;!e.isPaused()&&(c.error=n,_&&a()&&(e.onError(n,w,e),(!0===t||(0,o.Tn)(t)&&t(n))&&P()&&e.onErrorRetry(n,w,e,e=>{let t=g[w];t&&t[0]&&t[0](o.bu.ERROR_REVALIDATE_EVENT,e)},{retryCount:(l.retryCount||0)+1,dedupe:!0})))}return i=!1,f(),!0},[w,_]),Y=(0,r.useCallback)((...e)=>(0,o.mF)(_,T.current,...e),[]);if((0,o.Es)(()=>{C.current=t,O.current=n,(0,o.b0)(W)||($.current=W)}),(0,o.Es)(()=>{if(!w)return;let e=K.bind(o.ZH,l),t=0,n=(0,o.aw)(w,g,(n,r={})=>{if(n==o.bu.FOCUS_EVENT){let n=Date.now();O.current.revalidateOnFocus&&n>t&&P()&&(t=n+O.current.focusThrottleInterval,e())}else if(n==o.bu.RECONNECT_EVENT)O.current.revalidateOnReconnect&&P()&&e();else if(n==o.bu.MUTATE_EVENT)return K();else if(n==o.bu.ERROR_REVALIDATE_EVENT)return K(r)});return S.current=!1,T.current=w,x.current=!0,V({_k:E}),X&&((0,o.b0)(B)||o.X3?e():(0,o.mf)(e)),()=>{S.current=!0,n()}},[w]),(0,o.Es)(()=>{let e;function t(){let t=(0,o.Tn)(p)?p(R().data):p;t&&-1!==e&&(e=setTimeout(n,t))}function n(){!R().error&&(h||O.current.isVisible())&&(y||O.current.isOnline())?K(l).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[p,h,y,w]),(0,r.useDebugValue)(z),a&&(0,o.b0)(B)&&w){if(!o.dO&&o.X3)throw Error("Fallback data is required when using suspense in SSR.");C.current=t,O.current=n,S.current=!1;let e=k[w];if((0,o.b0)(e)||i(Y(e)),(0,o.b0)(H)){let e=K(l);(0,o.b0)(z)||(e.status="fulfilled",e.value=!0),i(e)}else throw H}return{mutate:Y,get data(){return D.data=!0,z},get error(){return D.error=!0,H},get isValidating(){return D.isValidating=!0,Z},get isLoading(){return D.isLoading=!0,J}}})}}]);