!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e.SENTRY_RELEASE={id:"substack@af5f699"};var i=(new e.Error).stack;i&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[i]="14f0970e-5a97-4b8e-a2b0-5b6b0e9319c4",e._sentryDebugIdIdentifier="sentry-dbid-14f0970e-5a97-4b8e-a2b0-5b6b0e9319c4")}catch(e){}}();"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["41091"],{50756:function(e,i,t){t.d(i,{A:()=>a});let a={container:"container-D8CZbL","videoContainer-clip":"videoContainer-clip-KcDC9v",videoContainerClip:"videoContainer-clip-KcDC9v",videoContainerWrapper:"videoContainerWrapper-VrqlAM",videoIcon:"videoIcon-JWfwBB",videoContainer:"videoContainer-S7toSI",video:"video-dep_Pc",fullScreenContainer:"fullScreenContainer-oPOI4W","playerContainer-vertical":"playerContainer-vertical-nqZGWC",playerContainerVertical:"playerContainer-vertical-nqZGWC","playerContainer-landscape":"playerContainer-landscape-R9mTfd",playerContainerLandscape:"playerContainer-landscape-R9mTfd","playerContainer-vertical_fit":"playerContainer-vertical_fit-j9atXq",playerContainerVerticalFit:"playerContainer-vertical_fit-j9atXq","videoContainer-vertical_fit":"videoContainer-vertical_fit-ku5xgX",videoContainerVerticalFit:"videoContainer-vertical_fit-ku5xgX","video-vertical_fit":"video-vertical_fit-aJ3XQJ",videoVerticalFit:"video-vertical_fit-aJ3XQJ","playerContainer-vertical_fill":"playerContainer-vertical_fill-As6E90",playerContainerVerticalFill:"playerContainer-vertical_fill-As6E90","videoContainer-vertical_fill":"videoContainer-vertical_fill-pCmPd2",videoContainerVerticalFill:"videoContainer-vertical_fill-pCmPd2","video-vertical_fill":"video-vertical_fill-UOGFke",videoVerticalFill:"video-vertical_fill-UOGFke",videoPlayer:"videoPlayer-ySwQUq",generateClips:"generateClips-qHOZUt",spinner:"spinner-FpLDBB",backDrop:"backDrop-EWGPYa",downloadModal:"downloadModal-SupuMR"}},79994:function(e,i,t){t.d(i,{X:()=>l}),t(4006),t(33031);var a=t(17402);t(15734),t(85478),t(84810),t(76528);let n=(0,a.createContext)({existingClips:[],mediaClipsRequest:null,isTranscribing:!1,podcastUpload:null,setExistingClips:()=>void 0,setIsTranscribing:()=>void 0,setMediaClipsRequest:()=>void 0,setTranscription:()=>void 0,setUploadProgress:()=>void 0,syncClips:()=>Promise.resolve(),transcription:null,transcriptionGenerated:!1,uploadProgress:null,transcodeProgress:null,setTranscodeProgress:()=>void 0,nonStandardInputReasons:{},uploadState:"no-upload",videoUpload:null,onVideoTranscodeUpdate:()=>Promise.resolve(),postMediaComposition:null,setPostMediaComposition:()=>void 0,updatingActivePostMediaComposition:!1,setUpdatingActivePostMediaComposition:()=>void 0,fetchPostMediaComposition:()=>Promise.resolve()}),l=()=>(0,a.useContext)(n)},4246:function(e,i,t){t.d(i,{Jf:()=>_,Vi:()=>A,rN:()=>S});var a=t(4006),n=t(17402),l=t(69715),o=t(86500),r=t(68410),s=t(76977),d=t(90531),c=t(7998),p=t(43959),u=t(59017),v=t(97885),h=t(31584),f=t(76670),g=t(41815),m=t(17806),C=t(50794),y=t(82318),b=t(1235),Y=t(99243);let _=e=>{var i,t,_,S;let{autoPlayMuted:A,forLiveStream:T=!1,disableSharing:w=!1,disableShortcuts:D=!1,disableTooltips:F=!1,disableCaptions:I=!1,duration:x,handle:E,hasPaywall:N=!1,hasTranscript:R=!1,hideNextVideoButton:P=!1,hidePip:k=!1,hideCaptions:O=!1,hideSettings:U=!1,isActive:M,isAudio:B=!1,isFocused:L,mediaRef:V,mediaUpload:q,podcastUpload:X,post:K,pub:W,showPaywall:z,showTranscript:G,size:J="md",onShareMenuClose:j,onShareMenuOpen:Z,onToggleShowTranscript:H,onBlur:Q,hoverOptions:$}=e,{transition:ee=.5,transitionDelay:ei=.1}=null!=$?$:{},{isClipping:et}=(0,l.MC)(),{isMobile:ea}=(0,r.sM)(),en=M&&!z,el=(0,n.useRef)(null),[eo,er]=(0,n.useState)(!1),[es,ed]=(0,n.useState)(!1),[ec,ep]=(0,n.useState)(null),eu=e=>{let{current:i}=V;i&&(i.isShowingCaptionsElsewhere=e),ed(e)};(0,n.useEffect)(()=>{(et||A)&&ev({showCaptions:!0,userInitiated:!1})},[et,A]);let ev=e=>{let{showCaptions:i,userInitiated:t}=e;eu(i),i&&(null==eh?void 0:eh.length)&&eh[0]&&(ep(eh[0].language),t&&(0,o.u4)(o.qY.VIDEO_CLOSED_CAPTIONS_BUTTON_CLICKED,{language:eh[0].language}))};(0,n.useEffect)(()=>{en||er(!1)},[en]);let eh=null!=(_=null==X||null==(i=X.transcription)?void 0:i.signed_captions)?_:[],ef=!!(null==X||null==(t=X.transcription)?void 0:t.approved_at);return(0,a.FD)("div",{ref:el,style:{zIndex:et?10:+!!eo},onBlur:Q,children:[(null==E?void 0:E.active)?(0,a.Y)("div",{className:Y.A.topOverlaysContainer,style:{opacity:+!!en,transform:en||ea?"translateY(0)":"translateY(-20%)"},children:(0,a.FD)(s.Ye,{justifyContent:"space-between",paddingBottom:32,children:[(0,a.Y)(s.Ye,{padding:16}),(0,a.Y)(s.Ye,{padding:16})]})}):null,(0,a.Y)("div",{}),!T&&(0,a.Y)("div",{className:Y.A.settingsControlsContainer,style:{opacity:eo&&en?1:0,pointerEvents:eo?"auto":"none"},children:(0,a.FD)(s.I1,{children:[(0,a.Y)(s.Ye,{className:Y.A.settingsControlsBox,children:(0,a.Y)(m.A,{hideSharePostAtCurrentTime:B,mediaRef:V,post:K,pub:W,podcastUpload:X,subtitles:ec,setSubtitles:e=>{ep(e),!e&&es?eu(!1):e&&!es&&eu(!0)},setIsSettingsOpen:er})}),(0,a.Y)("div",{style:{height:"60px"}})]})}),(0,a.FD)("div",{className:Y.A.bottomControlsContainer,style:{transform:en||ea?"translateY(0)":"translateY(40px)",transition:"transform ".concat(ee,"s ease"),transitionDelay:"".concat(ei,"s")},children:[(0,a.Y)("div",{className:Y.A.backDrop,style:{opacity:+!!en}}),(0,a.FD)(s.I1,{flex:"grow",gap:8,paddingY:4,children:[V.current&&X&&!N&&E&&q&&!I&&(0,a.Y)("div",{className:Y.A.captionsContainer,children:(0,a.Y)(d.A,{handle:E,mediaUpload:X,showCaptions:es,size:J,subtitles:ec,videoEle:null!=(S=V.current.player)?S:null,withHighlight:et})}),(0,a.Y)("div",{className:Y.A.bottomInnerControlsContainer,style:{opacity:+!!en,transition:void 0!=ee?"opacity ".concat(ee,"s ease"):"opacity 0.5s ease"},children:(0,a.FD)(s.I1,{flex:"grow",children:[!T&&(0,a.Y)(s.Ye,{flex:"grow",paddingBottom:4,children:(0,a.Y)(C.K,{disableSharing:B||w,mediaRef:V,mediaUpload:q,post:K,pub:W,size:J,onShareMenuClose:j,onShareMenuOpen:Z})}),(0,a.FD)(s.Ye,{paddingX:4,children:[(0,a.FD)(s.pT,{gap:8,alignItems:"center",children:[!T&&(0,a.Y)(f.A,{disableShortcuts:D,disableTooltips:F,isFocused:L,mediaRef:V}),!P&&(null==q?void 0:q.post_id)&&(0,a.Y)(u.A,{disableShortcuts:D,isFocused:L,postId:q.post_id,pub:W}),(0,a.Y)(b.A,{disableShortcuts:D,disableTooltips:F,isFocused:L,mediaRef:V}),!T&&(0,a.Y)(h.A,{duration:B&&null!=x?x:null,mediaRef:V})]}),(0,a.Y)(s.pT,{flex:"grow"}),(0,a.FD)(s.pT,{gap:8,alignItems:"center",children:[!B&&H&&!T&&(0,a.Y)(y.A,{disableShortcuts:D,disableTooltips:F,disabled:N||!R,isFocused:L,showTranscript:null!=G&&G,onToggleShowTranscript:H}),!B&&!O&&!T&&(0,a.Y)(c.A,{disableShortcuts:D,disableTooltips:F,disabled:!ef||N,isFocused:L,setShowCaptions:ev,showCaptions:es}),!B&&!k&&(0,a.Y)(v.A,{disableShortcuts:D,disableTooltips:F,isFocused:L,mediaRef:V}),!B&&E&&(0,a.Y)(p.A,{disableShortcuts:D,disableTooltips:F,handle:E,isFocused:L}),!T&&!U&&(0,a.Y)(g.A,{disableTooltips:F,isSettingsOpen:eo,setIsSettingsOpen:er})]})]})]})})]})]})]})},S=e=>{var i,t,l,u,v,g;let{mediaRef:m,mediaUpload:y,handle:_,isActive:S,pub:A,size:T="sm",startTime:w,duration:D,useCaptions:F=!1,captionsStyle:I,hoverOptions:x,onBlur:E}=e,{transition:N=.5,transitionDelay:R=.1}=null!=x?x:{},{isMobile:P}=(0,r.sM)(),k=(0,n.useRef)(null),[O,U]=(0,n.useState)(!1),[M,B]=(0,n.useState)(null),L=null!=(v=null==y||null==(t=y.extractedAudio)||null==(i=t.transcription)?void 0:i.signed_captions)?v:[],V=!!(null==y||null==(u=y.extractedAudio)||null==(l=u.transcription)?void 0:l.approved_at);return(0,n.useEffect)(()=>{let e=()=>{var e;(null==(e=m.current)?void 0:e.player)&&!isNaN(m.current.player.duration)&&(m.current.player.currentTime=w)};if(m.current){var i;null==(i=m.current.player)||i.addEventListener("durationchange",e)}return()=>{if(m.current){var i;null==(i=m.current.player)||i.removeEventListener("durationchange",e)}}},[m]),(0,a.FD)("div",{ref:k,onBlur:E,children:[(null==_?void 0:_.active)?(0,a.Y)("div",{className:Y.A.topOverlaysContainer,style:{opacity:+!!S,transform:S||P?"translateY(0)":"translateY(-20%)"},children:(0,a.FD)(s.Ye,{justifyContent:"space-between",paddingBottom:32,children:[(0,a.Y)(s.Ye,{padding:16}),(0,a.Y)(s.Ye,{padding:16})]})}):null,m.current&&(null==y?void 0:y.extractedAudio)&&_&&F&&(0,a.Y)("div",{className:Y.A.captionsContainer,style:{bottom:0},children:(0,a.Y)(d.A,{handle:_,mediaUpload:y.extractedAudio,showCaptions:O,size:T,subtitles:M,videoEle:null!=(g=m.current.player)?g:null,captionsStyle:I,withHighlight:!0})}),(0,a.FD)("div",{className:Y.A.bottomControlsContainer,style:{transform:S||P?"translateY(0)":"translateY(40px)",transition:void 0!=N?"transform ".concat(N,"s ease"):"transform 0.5s ease",transitionDelay:void 0!=R?"".concat(R,"s"):"0.1s"},children:[(0,a.Y)("div",{className:Y.A.backDrop,style:{opacity:+!!S}}),(0,a.Y)(s.I1,{flex:"grow",gap:8,paddingY:4,children:(0,a.Y)("div",{className:Y.A.bottomInnerControlsContainer,style:{opacity:+!!S,transition:void 0!=N?"opacity ".concat(N,"s ease"):"opacity 0.5s ease"},children:(0,a.FD)(s.I1,{flex:"grow",children:[(0,a.Y)(s.Ye,{flex:"grow",paddingBottom:4,children:(0,a.Y)(C.K,{disableSharing:!0,mediaRef:m,mediaUpload:y,post:void 0,pub:A,size:"sm",startTime:w,endTime:D?w+D:void 0})}),(0,a.FD)(s.Ye,{paddingX:4,children:[(0,a.FD)(s.pT,{gap:8,alignItems:"center",children:[(0,a.Y)(f.A,{disableShortcuts:!0,disableTooltips:!0,isFocused:!1,mediaRef:m}),(0,a.Y)(b.A,{disableShortcuts:!0,disableTooltips:!0,isFocused:!1,mediaRef:m}),(0,a.Y)(h.P,{startTime:w,duration:null!=D?D:null,mediaRef:m})]}),(0,a.Y)(s.pT,{flex:"grow"}),(0,a.Y)(c.A,{disableShortcuts:!0,disableTooltips:!0,disabled:!V,setShowCaptions:e=>{let{showCaptions:i,userInitiated:t}=e;U(i),i&&(null==L?void 0:L.length)&&L[0]&&(B(L[0].language),t&&(0,o.u4)(o.qY.VIDEO_CLOSED_CAPTIONS_BUTTON_CLICKED,{language:L[0].language}))},showCaptions:O,isFocused:!1}),_&&(0,a.Y)(p.A,{disableShortcuts:!0,disableTooltips:!0,handle:_,isFocused:!1})]})]})})})]})]})},A=e=>{let{mediaRef:i,mediaUpload:t,isActive:l,pub:o,startTime:d,duration:c,hoverOptions:p,onBlur:u}=e,{transition:v=.5,transitionDelay:g=.1}=null!=p?p:{},{isMobile:m}=(0,r.sM)(),y=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let e=()=>{var e;(null==(e=i.current)?void 0:e.player)&&!isNaN(i.current.player.duration)&&(i.current.player.currentTime=d)};if(i.current){var t;null==(t=i.current.player)||t.addEventListener("durationchange",e)}return()=>{if(i.current){var t;null==(t=i.current.player)||t.removeEventListener("durationchange",e)}}},[i]),(0,a.Y)("div",{ref:y,onBlur:u,children:(0,a.FD)("div",{className:Y.A.bottomControlsContainer,style:{transform:l||m?"translateY(0)":"translateY(40px)",transition:"transform ".concat(v,"s ease"),transitionDelay:"".concat(g,"s")},children:[(0,a.Y)("div",{className:Y.A.backDrop,style:{opacity:+!!l}}),(0,a.Y)(s.I1,{flex:"grow",gap:8,paddingY:4,children:(0,a.Y)("div",{className:Y.A.bottomInnerControlsContainer,style:{opacity:+!!l,transition:void 0!=v?"opacity ".concat(v,"s ease"):"opacity 0.5s ease"},children:(0,a.FD)(s.I1,{flex:"grow",children:[(0,a.Y)(s.Ye,{flex:"grow",paddingBottom:4,children:(0,a.Y)(C.K,{disableSharing:!0,mediaRef:i,mediaUpload:t,post:void 0,pub:o,size:"sm",startTime:d,endTime:c?d+c:void 0})}),(0,a.FD)(s.Ye,{paddingX:4,children:[(0,a.FD)(s.pT,{gap:8,alignItems:"center",children:[(0,a.Y)(f.A,{disableShortcuts:!0,disableTooltips:!0,isFocused:!1,mediaRef:i}),(0,a.Y)(b.A,{disableShortcuts:!0,disableTooltips:!0,isFocused:!1,mediaRef:i}),(0,a.Y)(h.P,{startTime:d,duration:null!=c?c:null,mediaRef:i})]}),(0,a.Y)(s.pT,{flex:"grow"})]})]})})})]})})}},96209:function(e,i,t){t.d(i,{C9:()=>a}),t(42877);let a=(e,i)=>{let t,{showLiveOverlay:a,subtitle:n,aspectRatio:l,pub:o,includeBumper:r,includeHeadlines:s,headlineText:d}=null!=i?i:{},c={skip_bumper:!r},p=!1,u=e.width&&e.height?e.width/e.height:1,v=!!e.live_stream_id,h=!(e.live_stream_id&&u>=1);if(e.liveStream){var f,g,m;p=(null!=(g=e.liveStream.joinedOrCompletedLiveStreamInvites)?g:[]).length>0,t=null!=(m=null==(f=e.liveStream.user)?void 0:f.handle)?m:void 0}return(null==o?void 0:o.author_handle)&&(t=o.author_handle),(v||a)&&(h||(c.legacy_watermark={type:"legacy_watermark",show:!1}),(u<1||["vertical_fill","vertical_fit"].includes(null!=l?l:""))&&(a&&(c.live_overlay={type:"live_overlay",position:p?"bottom":"center",subtitle:n||(t?"@".concat(t):void 0)}),c.captions={type:"captions",position:p?["center","center"]:["center",700]})),s&&d&&(c.headline={type:"headline",text:d,position:v&&p?["center","center"]:["center",142]},c.legacy_watermark={type:"legacy_watermark",show:!1},delete c.live_overlay),c}}}]);