!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e.SENTRY_RELEASE={id:"substack@af5f699"};var t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="d90f78a7-a64d-49d5-9343-e460048af50d",e._sentryDebugIdIdentifier="sentry-dbid-d90f78a7-a64d-49d5-9343-e460048af50d")}catch(e){}}();"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["77340"],{94285:function(e,t,n){n.d(t,{A:()=>i});let i={root:"root-ke3ITh",theme_error:"theme_error-EdHJ89",themeError:"theme_error-EdHJ89",xs:"xs-u94A3p",sm:"sm-rkc_jb",md:"md-FWdzy4",icon:"icon-JVHTJb",theme_accent:"theme_accent-BLPCPx",themeAccent:"theme_accent-BLPCPx",theme_success:"theme_success-K1reIy",themeSuccess:"theme_success-K1reIy",theme_select:"theme_select-db4cFz",themeSelect:"theme_select-db4cFz",theme_highlight:"theme_highlight-c5Va8G",themeHighlight:"theme_highlight-c5Va8G",theme_mono:"theme_mono-w3BrBe",themeMono:"theme_mono-w3BrBe"}},57241:function(e,t,n){n.d(t,{A:()=>i});let i={layout:"layout-q5QzAB"}},62614:function(e,t,n){n.d(t,{A:()=>i});let i={tag:"tag-XbOVLt",clickable:"clickable-nTmG6b",trailing:"trailing-TAQX7m",leading:"leading-mI5Ihl",fillIcon:"fillIcon-dQ0mii",theme_default:"theme_default-ZkFeoy",themeDefault:"theme_default-ZkFeoy",priority_primary:"priority_primary-uPxff5",priorityPrimary:"priority_primary-uPxff5",theme_accent:"theme_accent-Y2sqZY",themeAccent:"theme_accent-Y2sqZY",theme_error:"theme_error-Ob6GzK",themeError:"theme_error-Ob6GzK",theme_success:"theme_success-rIz3Am",themeSuccess:"theme_success-rIz3Am",theme_warn:"theme_warn-Cpi08d",themeWarn:"theme_warn-Cpi08d",theme_paid:"theme_paid-dQGqrS",themePaid:"theme_paid-dQGqrS",theme_substack:"theme_substack-jJ5UVL",themeSubstack:"theme_substack-jJ5UVL",theme_select:"theme_select-sAp6Wr",themeSelect:"theme_select-sAp6Wr",priority_secondary:"priority_secondary-AEjb79",prioritySecondary:"priority_secondary-AEjb79","priority_secondary-outline":"priority_secondary-outline-RpooJS",prioritySecondaryOutline:"priority_secondary-outline-RpooJS",priority_tertiary:"priority_tertiary-HMnJV4",priorityTertiary:"priority_tertiary-HMnJV4",media:"media-cKchX2"}},24142:function(e,t,n){n.d(t,{A:()=>_});var i=n(69277),r=n(70408),a=n(32641),s=n(4006),l=n(97731),o=n(21076);let _=e=>{var{svgParams:t}=e,n=(0,a._)(e,["svgParams"]);return(0,s.FD)(l.A,(0,r._)((0,i._)({},n),{name:"SubstackIcon",svgParams:(0,i._)({height:1e3,width:1e3,fill:o.vW,stroke:"none"},t),children:[(0,s.Y)("path",{d:"M764.166 348.371H236.319V419.402H764.166V348.371Z"}),(0,s.Y)("path",{d:"M236.319 483.752V813.999L500.231 666.512L764.19 813.999V483.752H236.319Z"}),(0,s.Y)("path",{d:"M764.166 213H236.319V284.019H764.166V213Z"})]}))}},84565:function(e,t,n){n.d(t,{Ke:()=>h,NQ:()=>f,sV:()=>p,yq:()=>b});var i,r,a=n(69277),s=n(70408),l=n(4006),o=n(17402),_=n(52820),d=n(85478);let c=(0,_.Kd)(),u="undefined"!=typeof window&&null!=(r=null==(i=window._preloads)?void 0:i.siteConfigs)?r:{},m=(e,t)=>(0,a._)({},(0,_.EL)(e,t),(0,d.UE)(e)),h=(0,o.createContext)(m(u,c));function p(e){let{siteConfigs:t={},experimentInfo:n,children:i}=e,r=n||c,a=(0,o.useMemo)(()=>m(t,r),[t,r]);return(0,l.Y)(h.Provider,{value:a,children:i})}function f(){return(0,o.useContext)(h)}h.displayName="ExperimentsAndSiteConfigContext";let b=e=>{let t=(0,o.forwardRef)((t,n)=>{let i=f();return(0,l.Y)(e,(0,s._)((0,a._)({},i,t),{ref:n}))});return t.displayName="withExperimentsAndSiteConfigContext(".concat(e.displayName||e.name||"Anonymous",")"),t}},53989:function(e,t,n){n.d(t,{Fm:()=>h,Pu:()=>p,S0:()=>m,l9:()=>u});var i,r,a=n(69277),s=n(70408),l=n(4006),o=n(17402),_=n(94729);let d="undefined"!=typeof window&&null!=(r=null==(i=window._preloads)?void 0:i.publicationSettings)?r:{};function c(e){return t=>{if(!t||!e)return null;let n=e[t];return void 0===n?null:n}}let u=(0,o.createContext)({getSettingFor:c(d),changeSetting:()=>Promise.resolve(void 0),preloadedPubSettings:d});u.displayName="PublicationSettingsContext";let m=e=>{let t=(0,o.forwardRef)((t,n)=>{let i=p();return(0,l.Y)(e,(0,s._)((0,a._)({},i,t),{ref:n}))});return t.displayName="withPubSettingsContext(".concat(e.displayName||e.name||"Anonymous",")"),t};function h(e){let{settings:t={},children:n}=e,[i,r]=(0,o.useState)(t),s=async e=>{r((0,a._)({},i,e));try{await (0,_.x6)("/api/v1/publication_settings",{method:"PUT",json:e})}catch(e){console.error(e)}},d=(0,o.useMemo)(()=>({getSettingFor:c(i),changeSetting:s,preloadedPubSettings:i}),[i]);return(0,l.Y)(u.Provider,{value:d,children:n})}function p(){return(0,o.useContext)(u)}},3084:function(e,t,n){n.d(t,{iB:()=>m});var i,r,a=n(69277),s=n(70408),l=n(4006),o=n(17402),_=n(94729);let d="undefined"!=typeof window&&null!=(r=null==(i=window._preloads)?void 0:i.publicationUserSettings)?r:{},c=e=>({getSettingForPubUser:t=>{if(!t||!e)return null;let n=e[t];return void 0===n?null:n}}),u=(0,o.createContext)((0,s._)((0,a._)({},c(d)),{changeUserSetting:()=>Promise.resolve(void 0)}));function m(e){let{preloadPubUserSettings:t={},children:n}=e,[i,r]=(0,o.useState)(t),d=(0,o.useCallback)(async(e,t)=>{r(n=>(0,s._)((0,a._)({},n),{[e]:t}));try{await (0,_.x6)("/api/v1/publication_user_settings/user",{method:"PUT",json:{type:e,value:t}})}catch(e){console.error(e)}},[r]),m=(0,o.useMemo)(()=>(0,s._)((0,a._)({},c(i)),{changeUserSetting:d}),[i,d]);return(0,l.Y)(u.Provider,{value:m,children:n})}u.displayName="PublicationUserSettingsContext"},85478:function(e,t,n){n.d(t,{P_:()=>m,UE:()=>d,W8:()=>c,eE:()=>u,mJ:()=>h});var i,r,a=n(69277),s=n(70408),l=n(4006),o=n(17402);let _="undefined"!=typeof window&&null!=(r=null==(i=window._preloads)?void 0:i.siteConfigs)?r:{},d=e=>({allConfigs:e,getConfigFor:t=>{if(!t||!e)return null;let n=e[t];return void 0===n?null:n}}),c=(0,o.createContext)(d(_));function u(e){let{siteConfigs:t={},children:n}=e,i=(0,o.useMemo)(()=>d(t),[t]);return(0,l.Y)(c.Provider,{value:i,children:n})}c.displayName="SiteConfigsContext";let m=e=>{let t=(0,o.forwardRef)((t,n)=>{let i=h();return(0,l.Y)(e,(0,s._)((0,a._)({},i,t),{ref:n}))});return t.displayName="withSiteConfigContext(".concat(e.displayName||e.name||"Anonymous",")"),t};function h(){return(0,o.useContext)(c)}},46271:function(e,t,n){n.d(t,{Jd:()=>b,Qg:()=>y,ur:()=>g,vu:()=>f});var i,r,a,s,l=n(69277),o=n(70408),_=n(4006),d=n(17402),c=n(94729),u=n(37764);let m="undefined"!=typeof window&&null!=(a=null==(i=window._preloads)?void 0:i.user)?a:null,h="undefined"!=typeof window&&null!=(s=null==(r=window._preloads)?void 0:r.userSettings)?s:{},p=(0,d.createContext)({user:m,setUser:()=>void 0,userSettings:h,changeSetting:()=>Promise.resolve()});function f(e){let{defaultValue:t,userSettings:n,children:i}=e,[r,a]=(0,d.useState)(t||m),[s,f]=(0,d.useState)(null!=n?n:h),b=async(e,t,n,i)=>{if(!r&&!(null==i?void 0:i.token))return;let a=s[e];f((0,o._)((0,l._)({},s),{[e]:t}));try{await (0,c.x6)("/api/v1/user-setting",{method:"PUT",json:{type:u.hn[e],value_bool:"bool"!==n&&(n||"boolean"!=typeof t)?void 0:t,value_datetime:"datetime"!==n&&(n||"string"!=typeof t)?void 0:t,value_text:"text"===n?t:void 0,token:null==i?void 0:i.token}})}catch(t){if(t instanceof c.fk)alert(t.getMessage()),f(t=>(0,o._)((0,l._)({},t),{[e]:a}));else throw t}},y=(0,d.useMemo)(()=>({user:r,setUser:a,userSettings:s,changeSetting:b}),[r,s]);return(0,_.Y)(p.Provider,{value:y,children:i})}function b(){return(0,d.useContext)(p).user}function y(){return(0,d.useContext)(p).userSettings}function g(){return(0,d.useContext)(p)}p.displayName="UserContext"},39520:function(e,t,n){n.d(t,{L:()=>s});var i=n(38221),r=n.n(i),a=n(17402);function s(e){let{text:t,truncationRules:n,ellipsesText:i}=e,s=(0,a.useRef)(null),[l,o]=(0,a.useState)(t),[_,d]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let e=()=>{if(!s.current||0===n.length)return;s.current.innerText="-";let e=s.current.clientHeight;s.current.innerText=t;let r=Math.round(s.current.clientHeight/e);d(r);let a=n.filter(e=>r>=e.minLines).sort((e,t)=>t.minLines-e.minLines)[0];if(a)if(r>a.truncateTo){let n=e*a.truncateTo,r=0,l=0,_=t.length;for(;r<=_;)l=Math.floor((r+_)/2),s.current.innerText=t.slice(0,l)+i,s.current.clientHeight<=n?r=l+1:_=l-1;s.current.innerText="",o(t.slice(0,_))}else s.current.innerText="",o(t)},a=r()(e,200,{maxWait:200});return e(),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a),a.cancel()}},[t,n,i]),{truncatedText:l,measureRef:s,lineCount:_}}},35369:function(e,t,n){n.d(t,{$n:()=>w,Bj:()=>S,C3:()=>v,K0:()=>x,Nm:()=>y,az:()=>A,fv:()=>C,mZ:()=>k,vx:()=>g});var i=n(69277),r=n(70408),a=n(32641),s=n(4006),l=n(32485),o=n.n(l),_=n(17402),d=n(84605),c=n(68349),u=n(89490),m=n(76977),h=n(64456),p=n(57820),f=n(63136),b=n(78340);let y=(0,_.forwardRef)((e,t)=>{var{onClick:n,href:l,localNavigation:_,newTab:d,className:m,resetCss:h,state:p,replace:f}=e,y=(0,a._)(e,["onClick","href","localNavigation","newTab","className","resetCss","state","replace"]);let g=l?e=>{n&&(n.call(e.target,e),e.defaultPrevented)||(0,c.V2)(l,{event:e,local_navigation:_,newTab:d,replace:f,state:p})}:n;return(0,s.Y)(u.az,(0,r._)((0,i._)({as:"button",tabIndex:0,type:"button"},y),{ref:t,className:o()("pencraft",m,h&&b.A.buttonBase),onClick:g,"data-href":l}))});function g(e){var{href:t,children:n,newTab:l,localNavigation:_=!0,className:d,resetCss:c,priority:u="primary",size:m="md",rounded:h=!1,leading:p,trailing:f,loading:y}=e,g=(0,a._)(e,["href","children","newTab","localNavigation","className","resetCss","priority","size","rounded","leading","trailing","loading"]);return(0,s.FD)("a",(0,r._)((0,i._)({className:v({className:o()("pencraft",d,c&&b.A.buttonBase),priority:u,size:m,rounded:h,leading:p,trailing:f,loading:y}),href:t,target:l?"_blank":void 0,"data-native":_?"":void 0},g),{children:[y&&(0,s.Y)(A,{priority:u}),p,n,f]}))}function v(e){let{className:t,priority:n,size:i,rounded:r,leading:a,trailing:s,loading:l}=e;return o()(t,b.A.buttonBase,b.A.buttonText,b.A.buttonStyle,b.A["priority_".concat(n)],b.A["size_".concat(i)],r&&b.A.rounded,null!=a&&b.A.hasLeading,null!=s&&b.A.hasTrailing,l&&b.A.loading)}y.displayName="UnstyledButton";let w=(0,_.forwardRef)(function(e,t){var{className:n,priority:l="primary",size:o="md",rounded:_,disabled:d,leading:c,trailing:u,children:m,loading:h}=e,p=(0,a._)(e,["className","priority","size","rounded","disabled","leading","trailing","children","loading"]);return(0,s.FD)(y,(0,r._)((0,i._)({className:v({className:n,priority:l,size:o,rounded:_,leading:c,trailing:u,loading:h}),disabled:d||h,"aria-busy":h?"true":void 0},p),{ref:t,children:[h&&(0,s.Y)(A,{priority:l}),c,m,u]}))}),A=e=>{let{priority:t}=e,{iString:n}=(0,d.GO)();return(0,s.FD)(s.FK,{children:[(0,s.Y)(p.y$,{size:20,className:o()(b.A.buttonSpinner,("primary"===t||"primary-mono"===t||"destructive"===t)&&b.A.spinnerLight)}),(0,s.Y)("span",{className:"sr-only",children:n("Loading")})]})};w.displayName="Button";let S=(0,_.forwardRef)((e,t)=>{var{className:n,priority:l="primary",size:_="md",rounded:d,disabled:c,leading:u,trailing:m,children:h}=e,p=(0,a._)(e,["className","priority","size","rounded","disabled","leading","trailing","children"]);return(0,s.Y)(w,(0,r._)((0,i._)({className:o()(n,b.A.media,d&&b.A.rounded),priority:l,size:_,disabled:c,leading:u,trailing:m,children:h},p),{ref:t}))});S.displayName="MediaButton";let x=(0,_.forwardRef)((e,t)=>{var{className:n,size:l="md",priority:_="secondary",rounded:d=!1,children:c}=e,u=(0,a._)(e,["className","size","priority","rounded","children"]);let m=(0,h.j)(c),p=u["aria-label"]||m;return(0,s.Y)(y,(0,r._)((0,i._)({className:o()(n,b.A.iconButton,b.A.buttonStyle,null!=l&&b.A["size_".concat(l)],_&&b.A["priority_".concat(_)],d&&b.A.rounded),"aria-label":p},u),{ref:t,children:c}))});x.displayName="IconButton";let C=(0,_.forwardRef)((e,t)=>{var{label:n,icon:l,size:_=56,priority:d="secondary",className:c}=e,u=(0,a._)(e,["label","icon","size","priority","className"]);return(0,s.FD)(m.VP,{gap:8,alignItems:"center",width:_,children:[(0,s.Y)(y,(0,r._)((0,i._)({resetCss:!0,className:o()(c,b.A.buttonStyle,d&&b.A["priority_".concat(d)]),display:"flex",justifyContent:"center",alignItems:"center",width:_,height:_,radius:"lg",overflow:"hidden",position:"relative",animate:!0,"aria-label":n},u),{ref:t,children:l})),(0,s.Y)(f.EY.B5,{weight:"semibold",color:"primary",textAlign:"center",children:n})]})}),k=(0,_.forwardRef)((e,t)=>{var{className:n,size:l="md",priority:_="primary",children:d}=e,c=(0,a._)(e,["className","size","priority","children"]);let u=(0,h.j)(d),m=c["aria-label"]||u;return(0,s.Y)(x,(0,r._)((0,i._)({className:o()(n,b.A.media,b.A["size_".concat(l)],b.A["priority_".concat(_)]),size:l,priority:_,"aria-label":m},c),{ref:t,children:d}))});k.displayName="MediaIconButton"},48028:function(e,t,n){n.d(t,{I:()=>u});var i=n(69277),r=n(4006),a=n(38390),s=n(32485),l=n.n(s),o=n(17402),_=n(84014),d=n(11510),c=n(18359);let u=(0,o.forwardRef)((e,t)=>{let{children:n,className:s,fullscreenMobile:o,width:u,style:m,onClose:h,disableCloseOnBackdropClick:p,testId:f,initialFocus:b}=e,y=(0,d.Iu)(),g=y&&!o&&h;return(0,r.FD)(a.UC,{forceMount:!0,ref:t,"data-testid":f,className:l()(s,c.A.panel,y&&c.A.mobile,o&&c.A.fullscreenMobile),style:(0,i._)({width:y?void 0:u},m),onOpenAutoFocus:e=>{(null==b?void 0:b.current)&&(e.preventDefault(),b.current.focus())},onCloseAutoFocus:e=>{e.preventDefault()},onPointerDownOutside:e=>{e.preventDefault()},onEscapeKeyDown:e=>{p&&e.preventDefault()},children:[g&&(0,r.Y)(_.D,{close:h}),n]})});u.displayName="ModalPanel"},55734:function(e,t,n){n.d(t,{r:()=>m,p:()=>u});var i=n(4006),r=n(35426),a=n(32485),s=n.n(a),l=n(17402);let o="transition-vApOKl",_="mobile-v3F3YQ",d="from-yIK2iV",c="to-tgOjA4",u=e=>{let{children:t}=e;return(0,i.Y)(r.e.Child,{as:l.Fragment,enter:o,enterFrom:d,enterTo:c,leave:o,leaveFrom:c,leaveTo:d,children:t})},m=e=>{let{children:t}=e;return(0,i.Y)(r.e.Child,{as:l.Fragment,enter:s()(o,_),enterFrom:s()(d,_),enterTo:s()(c,_),leave:s()(o,_),leaveFrom:s()(c,_),leaveTo:s()(d,_),children:t})}},53217:function(e,t,n){n.d(t,{h:()=>i});let i={activityPosts:"activity_posts_enabled",activity_likes_enabled:"activity_likes_enabled",autoPlayVideo:"auto_play_video",dashboard_nav_refresh_enabled:"dashboard_nav_refresh_enabled",hasSeenLikeNux:"has_seen_like_nux",prepublishPaywallPromptHidden:"prepublish_paywall_prompt_hidden",prepublishSubscribeCtaPromptHidden:"prepublish_subscribe_cta_prompt_hidden",prepublishSendAsEmailPromptHidden:"prepublish_send_as_email_prompt_hidden",savedPostsViewedAt:"saved_posts_viewed_at",hasBeenRedirectedToReaderOnboardingFromLoginFlow:"has_been_redirected_to_reader_onboarding_from_login_flow",manageSubscriptionHighlightedId:"manage_subscription_highlighted_id",twitterProfileVisible:"twitter_profile_visible",facebookProfileVisible:"facebook_profile_visible",bestsellerBadgeEnabled:"bestseller_badge_enabled",hasDismissedSectionToNewsletterRename:"has_dismissed_section_to_newsletter_rename",chatDigestSentAt:"chat_digest_sent_at",newest_seen_chat_item_published_at:"newest_seen_chat_item_published_at",smartDeliveryEnabled:"smart_delivery_enabled",lastSmartDeliveryBatchEmailSentAt:"last_smart_delivery_batch_email_sent_at",feed_digest_email_last_sent_at:"feed_digest_email_last_sent_at",feed_new_note_last_sent_at:"feed_new_note_last_sent_at",feed_new_note_subscriber_notification_last_sent_at:"feed_new_note_subscriber_notification_last_sent_at",is_guest_post_enabled:"is_guest_post_enabled",feed_web_nux_seen_at:"feed_web_nux_seen_at",invite_friends_nux_dismissed_at:"invite_friends_nux_dismissed_at",has_seen_reader_to_writer_upsell:"has_seen_reader_to_writer_upsell",suggestions_feed_item_last_shown_at:"suggestions_feed_item_last_shown_at",has_seen_select_to_restack_tooltip_nux:"has_seen_select_to_restack_tooltip_nux",has_seen_select_to_restack_modal:"has_seen_select_to_restack_modal",last_notification_alert_shown_at:"last_notification_alert_shown_at",disable_reply_hiding:"disable_reply_hiding",contactsSyncEmailBlastSent:"contacts_sync_email_blast_sent",unifiedHomeEmailBlastSent:"unified_home_email_blast_sent",explicitContentEnabled:"explicit_content_enabled",contactMatchingEnabled:"contact_matching_enabled",messageRequestLevel:"message_request_level",creditTokensTreatmentExposed:"credit_tokens_treatment_exposed",appBadgeIncludesChat:"app_badge_includes_chat",unreadPostsDigestEmailLastSentAt:"unread_posts_digest_email_last_sent_at",chatbotTermsLastAcceptedAt:"chatbot_terms_last_accepted_at",has_seen_notes_post_app_upsell:"has_seen_notes_post_app_upsell",liveStreamAcceptableInviteLevel:"live_stream_acceptable_invite_level",liveStreamAcceptableChatLevel:"live_stream_acceptable_chat_level",substack_summer_nux_dismissed_at:"substack_summer_nux_dismissed_at",messages_unread_requests_email_last_sent_at:"messages_unread_requests_email_last_sent_at",contacts_sync_lifecycle_push_sent:"contacts_sync_lifecycle_push_sent",contacts_sync_lifecycle_email_sent:"contacts_sync_lifecycle_email_sent",first_note_id:"first_note_id",show_concurrent_live_stream_viewers:"show_concurrent_live_stream_viewers",has_dismissed_fp_download_pdf_nux:"has_dismissed_fp_download_pdf_nux",edit_profile_feed_item_dismissed_at:"edit_profile_feed_item_dismissed_at",mobile_permalink_app_upsell_seen_at:"mobile_permalink_app_upsell_seen_at",new_user_checklist_enabled:"new_user_checklist_enabled",new_user_follow_subscribe_prompt_dismissed_at:"new_user_follow_subscribe_prompt_dismissed_at",has_seen_youtube_shorts_auto_publish_announcement:"has_seen_youtube_shorts_auto_publish_announcement",has_seen_publish_youtube_connect_upsell:"has_seen_publish_youtube_connect_upsell",notificationQualityFilterEnabled:"notification_quality_filter_enabled",last_outlier_subscription_notification_sent_at:"last_outlier_subscription_notification_sent_at",hasSeenOnboardingNewslettersScreen:"hasSeenOnboardingNewslettersScreen",hasSelfIdentifiedAsCreator:"has_self_identified_as_creator"}}}]);