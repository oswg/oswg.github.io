!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e.SENTRY_RELEASE={id:"substack@af5f699"};var t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="725e8acc-481f-47c1-837a-73fa232f9df9",e._sentryDebugIdIdentifier="sentry-dbid-725e8acc-481f-47c1-837a-73fa232f9df9")}catch(e){}}();"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["55010"],{61060:function(e,t,n){n.d(t,{A:()=>r});let r={root:"root-LeqPP3",badge:"badge-WYVub3",circle:"circle-_ZTVoA"}},77043:function(e,t,n){n.d(t,{$L:()=>o,Rc:()=>l,TB:()=>a,YR:()=>i,be:()=>r});let r=20,l=24,i=24;function o(e,t,n){let r=t/16;return r+(e-t)/(n-t)*(n/16-r)}function a(e){let{layout:t,navPosition:n,navStyle:l,isPostView:i=!1}=e;return"stacked"===t?i?{min:r,max:110}:"top"===n?{min:r,max:220}:{min:r,max:110}:"stacked"===l?{min:r,max:110}:{min:r,max:80}}},63558:function(e,t,n){n.d(t,{A:()=>s});var r=n(69277),l=n(70408),i=n(32641),o=n(4006),a=n(97731);let s=e=>{var{size:t=20,fill:n="var(--color-fg-primary)"}=e,s=(0,i._)(e,["size","fill"]);return(0,o.Y)(a.A,(0,l._)((0,r._)({},s),{name:"PauseIconFilled",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,fill:n,children:(0,o.Y)("path",{stroke:"none",d:"M5.29883 17.9082H7.52539C8.375 17.9082 8.82422 17.459 8.82422 16.5996V3.29883C8.82422 2.41016 8.375 2 7.52539 2H5.29883C4.44922 2 4 2.44922 4 3.29883V16.5996C4 17.459 4.44922 17.9082 5.29883 17.9082ZM12.3984 17.9082H14.6152C15.4746 17.9082 15.9141 17.459 15.9141 16.5996V3.29883C15.9141 2.41016 15.4746 2 14.6152 2H12.3984C11.5391 2 11.0898 2.44922 11.0898 3.29883V16.5996C11.0898 17.459 11.5391 17.9082 12.3984 17.9082Z"})}))}},43510:function(e,t,n){n.d(t,{A:()=>s});var r=n(69277),l=n(70408),i=n(32641),o=n(4006),a=n(97731);let s=e=>{var{size:t=20,fill:n="var(--color-fg-primary)"}=e,s=(0,i._)(e,["size","fill"]);return(0,o.Y)(a.A,(0,l._)((0,r._)({},s),{name:"PlayIconFilled",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,fill:n,children:(0,o.Y)("path",{stroke:"none",d:"M5.04688 18.5527C5.4375 18.5527 5.76953 18.3965 6.16016 18.1719L17.5469 11.5898C18.3574 11.1113 18.6406 10.7988 18.6406 10.2812C18.6406 9.76367 18.3574 9.45117 17.5469 8.98242L6.16016 2.39063C5.76953 2.16602 5.4375 2.01953 5.04688 2.01953C4.32422 2.01953 3.875 2.56641 3.875 3.41602V17.1465C3.875 17.9961 4.32422 18.5527 5.04688 18.5527Z"})}))}},59307:function(e,t,n){n.d(t,{A:()=>a});var r=n(69277),l=n(70408),i=n(4006),o=n(97731);let a=e=>(0,i.Y)(o.A,(0,l._)((0,r._)({},e),{name:"PlayIconRounded",svgParams:{height:16,width:16},stroke:"none",children:(0,i.Y)("path",{d:"M3.35866 16C2.58101 16 2 15.4101 2 14.4447V1.55531C2 0.598883 2.58101 0 3.35866 0C3.75196 0 4.10056 0.134078 4.54749 0.393296L15.1575 6.54302C15.9531 7.00782 16.3106 7.39218 16.3106 8C16.3106 8.61676 15.9531 9.00112 15.1575 9.45698L4.54749 15.6067C4.10056 15.8659 3.75196 16 3.35866 16Z"})}))},78895:function(e,t,n){n.d(t,{A:()=>a});var r=n(69277),l=n(70408),i=n(4006),o=n(97731);let a=e=>(0,i.FD)(o.A,(0,l._)((0,r._)({},e),{name:"SubstackLogoIcon",svgParams:{height:18,width:16,fill:"#ff6719",stroke:"none"},children:[(0,i.Y)("path",{d:"M16 4H0V6H16V4Z"}),(0,i.Y)("path",{d:"M0 8V18L7.9993 13.534L16 18V8H0Z"}),(0,i.Y)("path",{d:"M16 0H0V2H16V0Z"})]}))},20504:function(e,t,n){n.d(t,{AI:()=>eL,at:()=>eR,TV:()=>eP,jB:()=>eD,I:()=>eE,Z1:()=>eF,sZ:()=>eB,cX:()=>eT,W1:()=>eH,mj:()=>eM,H$:()=>ez,b3:()=>eW});var r=n(69277),l=n(4006),i=n(32485),o=n.n(i),a=n(69843),s=n.n(a),c=n(60250),d=n(17402),u=n(78895),m=n(70408),h=n(90883),p=n(77043),f=n(2977),g=n(84605),v=n(53989),b=n(85478),y=n(78338);let _=e=>{let{pub:t,isChatActive:n,isMeetingsActive:r}=e,{language:l}=(0,g.GO)(),{getSettingFor:i}=(0,v.Pu)(),{getConfigFor:o}=(0,b.mJ)(),a=!!o("publication_tabs_reorder"),s=!!i("notes_feed_enabled"),c=!!(i("reader_referrals_enabled")&&i("reader_referrals_leaderboard_enabled")),u=!!i("group_sections_and_podcasts_in_menu_enabled"),m=(0,d.useMemo)(()=>(0,y.Bf)(t.navigationBarItems||[],{isFeedEnabled:s,isChatActive:!!n,isChatEnabled:!!t.threads_v2_enabled,isMeetingsActive:!!r,hasMultipleNewsletters:t.sections&&t.sections.length>0,isReaderReferralsLeaderboardActive:c,language:l,useReordering:a}).filter(e=>!e.is_hidden),[t.navigationBarItems,t.threads_v2_enabled,t.sections,s,n,r,c,l,a]);return(0,d.useMemo)(()=>z({groupNewsletters:u,navBarItems:m,pub:t,language:l}),[u,m,t,l])};var k=n(75107),w=n(87677),Y=n(8853),C=n(37767),S=n(68410),x=n(76977),I=n(88774);let A=e=>{var t,n;return null!=(n=null==(t=e.subItems)?void 0:t.some(e=>e.subItems&&e.subItems.length>0))&&n};function N(e){let{className:t,hideBorders:n,items:r,menuItemClassName:i,selectedMenuItemClassName:a,selectedSlug:s,pub:u,maxWidth:m}=e,{isMobile:h}=(0,S.sM)(),p=(0,d.useRef)(null),[f,g]=(0,d.useState)(!1),[v,b]=(0,d.useState)(!1);function y(e){let{scrollLeft:t,scrollWidth:n,clientWidth:r}=e;g(t>10),b(n-(r+t)>10)}let _=e=>()=>{let{current:t}=p;t&&t.scrollBy({left:250*e,behavior:"smooth"})};return(0,d.useEffect)(()=>{y(p.current)},[]),(0,l.Y)("div",{className:o()("overflow-list-container",t),style:{maxWidth:m},children:(0,l.FD)(x.Ye,{borderBottom:n?void 0:"detail",borderTop:n||h?void 0:"detail",className:o()("section-bar",{scroll:!0,"overflow-left":f,"overflow-right":v}),font:"text",height:h?44:48,justifyContent:h?"start":"center",paddingX:4,position:"relative",children:[(0,l.Y)("div",{ref:p,className:"overflow-items",onScroll:e=>y(e.target),children:r.map(e=>{let{label:t,href:n,slug:r,isNative:c,onClick:d,noFollow:m,subItems:h,newTab:p}=e;return h?(0,l.Y)(I.W1,{placement:"bottom-start",trigger:(0,l.Y)("div",{className:o()("menu-item",{selected:r===s},i,a&&{[a]:r===s}),children:(0,l.FD)(C.A,{native:c,rel:m?"nofollow":null,onClick:d,children:[(0,l.Y)("span",{className:"overflow-item-text",children:t}),(0,l.Y)(k.A,{className:"chevron-_e2GYQ",size:16})]})}),children:h.map(e=>{let{label:t,href:n,isNative:r,onClick:i,noFollow:o,logoUrl:a}=e,s=a||(null==u?void 0:u.logo_url);return(0,l.Y)(I.Dr,{href:n,leading:s?(0,l.Y)(Y.c,{height:24,radius:"xs",src:s,width:24}):null,native:r,rel:o?"nofollow":void 0,onClick:i,children:t})})}):(0,l.Y)("div",{className:o()("menu-item",{selected:r===s},i,a&&{[a]:r===s}),children:(0,l.Y)(C.A,{href:n,native:c,newTab:p,rel:m?"nofollow":null,onClick:d,children:(0,l.Y)("span",{className:"overflow-item-text",children:t})})})})}),(0,l.Y)("div",{className:"left-button",children:(0,l.Y)("div",{className:"scroll-button-hitbox",role:"button",onClick:_(-1),children:(0,l.Y)(c.A,{strokeWidth:1.5})})}),(0,l.Y)("div",{className:"right-button",children:(0,l.Y)("div",{className:"scroll-button-hitbox",role:"button",onClick:_(1),children:(0,l.Y)(w.A,{strokeWidth:1.5})})})]})})}var E=n(96400),L=n(4016),R=n(49807),T=n(82776);let F={zeteo:{121146:"Weâ€™re Not Kidding"}},D=["/about","/chat","/archive","/newsletters","/videos","/watch"],M=e=>{let{isChatActive:t,isMeetingsActive:n,pub:r,selectedSectionId:i,hideBorders:o,maxWidth:a}=e,s=_({pub:r,isChatActive:t,isMeetingsActive:n}).filter(e=>!A(e)&&(!e.subItems||e.subItems.length>0));return(0,l.Y)(N,{items:s,className:"sections-overflow",selectedSlug:i,pub:r,hideBorders:o,maxWidth:a})},B={label:"Recipe Index",subItems:[{label:"By Protein",subItems:[{href:"https://whattocook.substack.com/t/beef",label:"Beef"},{href:"https://whattocook.substack.com/t/chicken",label:"Chicken"},{href:"https://whattocook.substack.com/t/lamb",label:"Lamb"},{href:"https://whattocook.substack.com/t/pork",label:"Pork"},{href:"https://whattocook.substack.com/t/seafood",label:"Seafood"},{href:"https://whattocook.substack.com/t/vegetarian",label:"Vegetarian"},{href:"https://whattocook.substack.com/t/ground-meat",label:"Ground meat"}]},{label:"By Season",subItems:[{href:"https://whattocook.substack.com/t/spring",label:"Spring"},{href:"https://whattocook.substack.com/t/summer",label:"Summer"},{href:"https://whattocook.substack.com/t/fall",label:"Fall"},{href:"https://whattocook.substack.com/t/winter",label:"Winter"}]},{label:"By Meal Type",subItems:[{href:"https://whattocook.substack.com/t/one-pot",label:"One-pot"},{href:"https://whattocook.substack.com/t/sheet-pan",label:"Sheet-pan dinners"},{href:"https://whattocook.substack.com/t/kid-friendly",label:"Kid-friendly"},{href:"https://whattocook.substack.com/t/freezer-friendly",label:"Freezer-friendly"},{href:"https://whattocook.substack.com/t/grill",label:"Grill"},{href:"https://whattocook.substack.com/t/soup",label:"Soup"},{href:"https://whattocook.substack.com/t/salad",label:"Salad"},{href:"https://whattocook.substack.com/t/breakfast",label:"Breakfast"},{href:"https://whattocook.substack.com/t/dessert",label:"Dessert"},{href:"https://whattocook.substack.com/t/15-minute-meals",label:"15-minute meals"},{href:"https://whattocook.substack.com/t/30-minute-meals",label:"30-minute meals"}]},{label:"Meal Plans and More",subItems:[{href:"https://whattocook.substack.com/t/meal-plan",label:"Really simple meal plans"},{href:"https://whattocook.substack.com/t/entertaining-menus",label:"Entertaining Menus"},{href:"https://whattocook.substack.com/t/cooking-tips",label:"Cooking tips"},{href:"https://whattocook.substack.com/t/cooking-videos",label:"Cooking videos"},{href:"https://whattocook.substack.com/t/holiday-meal-plans",label:"Holiday meal plans"}]}]},z=e=>{let{groupNewsletters:t,navBarItems:n,pub:r,language:l}=e,{iString:i}=E.TH.i(l),o=[];o.push({href:"/",label:i("Home"),slug:"/home"}),r.podcast_enabled&&r.show_pub_podcast_tab&&o.push({href:"/podcast",label:i("Podcast"),slug:"/podcast"});let a=[];(0,L.ob)({pub:r})?a=W({navBarItems:n,groups:[{label:"Shows",condition:e=>!!e.section}]}):(0,L.wj)({pub:r})?a=W({navBarItems:n,groups:[{condition:e=>{var t;return(null==(t=e.section)?void 0:t.id)===118995},excludeFromOthers:!0,isStandalone:!0},{condition:e=>{var t;return(null==(t=e.section)?void 0:t.id)===121146},excludeFromOthers:!0,isStandalone:!0},{label:"Shows",condition:e=>{var t,n;return!!(null==(t=e.section)?void 0:t.is_podcast)||(null==(n=e.postTag)?void 0:n.slug)==="townhall"}},{label:"Columns",condition:e=>{var t,n,r;return!!e.section&&!(null==(t=e.section)?void 0:t.is_podcast)&&![132068,243259,214805].includes(null!=(r=null==(n=e.section)?void 0:n.id)?r:-1)}},{label:"Documentaries",condition:e=>{var t,n;return[132068,214805,243259].includes(null!=(n=null==(t=e.section)?void 0:t.id)?n:-1)}}]}):(0,L.s7)({pub:r})?(o.push({href:"/watch",label:"Watch",slug:"/watch"}),o.push({href:"/listen",label:"Shows",slug:"/listen"}),a=W({navBarItems:n.filter(e=>"/watch"!==e.link_url&&(!e.section||!e.section.is_podcast||(0,T.sectionIsSpecificallyMarkedAsNewsletter)({section:e.section,pub:r}))),groups:[{label:"Newsletters",condition:e=>!!e.section}]})):a=(0,L.d4)({pub:r})?W({navBarItems:n,groups:[{label:"Projects",condition:e=>{var t,n;return[146942,146943,150226].includes(null!=(n=null==(t=e.section)?void 0:t.id)?n:-1)},excludeFromOthers:!0},{label:"News / Research",condition:e=>{var t,n;return[146936,146935].includes(null!=(n=null==(t=e.section)?void 0:t.id)?n:-1)},excludeFromOthers:!0},{label:"Calls-to-Action",condition:e=>{var t,n;return[146939,146941,146949].includes(null!=(n=null==(t=e.section)?void 0:t.id)?n:-1)},excludeFromOthers:!0},{label:"Recommendations",condition:e=>{var t,n;return[146958].includes(null!=(n=null==(t=e.section)?void 0:t.id)?n:-1)||"https://bookshop.org/shop/globalfreedoms"===e.link_url},excludeFromOthers:!0},{label:"Podcasts",condition:e=>{var t;return!!(null==(t=e.section)?void 0:t.is_podcast)},excludeFromOthers:!0}]}):t?W({navBarItems:n,groups:[{label:i("Newsletters"),condition:e=>{var t;return!!e.section&&!(null==(t=e.section)?void 0:t.is_podcast)}},{label:i("Podcasts"),condition:e=>{var t;return!!(null==(t=e.section)?void 0:t.is_podcast)}}]}):n;let s=[...o,...P({groupedNavBarItems:a,pub:r})];if((0,L.O3)({pub:r})){var c,d;if((null==(d=r.theme)||null==(c=d.custom_header)?void 0:c.navStyle)==="stacked"){let e=s.findIndex(e=>"RECIPE INDEX"===e.label);-1!==e&&(s[e]=B)}}return s},W=e=>{let{navBarItems:t,groups:n}=e,r=[...t],l=[],i=[...t];for(let e of n)if(e.isStandalone){let t=r.find(e.condition);if(!t)continue;l.push(t),i=i.filter(e=>e!==t),e.excludeFromOthers&&(r=r.filter(e=>e!==t))}else{var o;let t=r.filter(e.condition);if(0===t.length)continue;l.push({label:null!=(o=e.label)?o:"Other",navBarItems:t}),i=i.filter(t=>!e.condition(t)),e.excludeFromOthers&&(r=r.filter(t=>!e.condition(t)))}return[...l,...i]},P=e=>{let{groupedNavBarItems:t,pub:n}=e;return t.map(e=>"navBarItems"in e?{label:e.label,subItems:e.navBarItems.map(e=>O({navBarItem:e,pub:n}))}:O({navBarItem:e,pub:n}))},O=e=>{var t,n,l,i,o,a,s;let{navBarItem:c,pub:d}=e;if(c.is_group)return{label:(0,T.truncateText)((0,y.ly)(c),30),subItems:(null!=(t=c.children)?t:[]).map(e=>O({navBarItem:e,pub:d}))};if(c.section){let e=c.section,t=e.is_podcast&&null!=(o=null==(l=d.sections.find(t=>t.id===e.id))||null==(n=l.podcastSettings)?void 0:n.podcast_art_url)?o:e.logo_url;return(0,m._)((0,r._)({label:null!=(a=null==(i=F[d.subdomain])?void 0:i[e.id])?a:(0,T.truncateText)(e.name,30),href:(0,R.Dor)(d,{section:e})},t?{logoUrl:t}:null),{slug:e.id})}let u=(0,y.DF)(c),h="link"===u&&!(c.standard_key||D.includes(null!=(s=c.link_url)?s:"")),p=h&&d.tier<2;return(0,m._)((0,r._)({href:(0,R.cSL)(d,c,{addBase:h}),label:(0,T.truncateText)((0,y.ly)(c),30)},p?{noFollow:p}:null,"page"===u?{isNative:!0}:null),{slug:(0,R.cSL)(d,c,{addBase:!1}),newTab:h})};var H=n(68349),q=n(35369);let V="visible-S5xqLB",U=e=>{let{isChatActive:t,isMeetingsActive:n,pub:r,selectedSectionId:i,maxWidth:a,withoutLeftPadding:s=!1,withoutRightPadding:c=!1}=e,{language:u}=(0,g.GO)(),{getSettingFor:m}=(0,v.Pu)(),{getConfigFor:h}=(0,b.mJ)(),p=!!h("publication_tabs_reorder"),f="100%"===a,[_,w]=(0,d.useState)(!1),C=!!m("notes_feed_enabled"),S=!!(m("reader_referrals_enabled")&&m("reader_referrals_leaderboard_enabled")),N=z({groupNewsletters:!!m("group_sections_and_podcasts_in_menu_enabled"),navBarItems:(0,y.Bf)(r.navigationBarItems||[],{isFeedEnabled:C,isChatActive:!!t,isChatEnabled:!!r.threads_v2_enabled,isMeetingsActive:!!n,hasMultipleNewsletters:r.sections&&r.sections.length>0,isReaderReferralsLeaderboardActive:S,language:u,useReordering:p}).filter(e=>!e.is_hidden),pub:r,language:u}).filter(e=>!A(e)&&(!e.subItems||e.subItems.length>0)),E=(0,d.useRef)(null),[L,R]=(0,d.useState)(!1),[T,F]=(0,d.useState)(!1),D=(0,d.useCallback)(e=>{let{scrollLeft:t,scrollWidth:n,clientWidth:r}=e;f||R(t>10),F(n-(r+t)>10)},[f]);(0,d.useLayoutEffect)(()=>{E.current&&D(E.current)},[N,D]);let M=(0,d.useCallback)(()=>{E.current&&(E.current.scrollWidth>E.current.clientWidth?w(!0):w(!1))},[]);return(0,d.useLayoutEffect)(()=>(window.addEventListener("resize",M),M(),()=>{window.removeEventListener("resize",M)}),[M]),(0,l.Y)(x.pT,{justifyContent:"center",alignItems:"center",style:{width:a,minWidth:280},paddingX:16*!!f,children:(0,l.FD)("div",{className:"scrollWrapper-acnikR",children:[!f&&(0,l.Y)("div",{className:o()("fadeLeft-eSWM6i",L&&V),style:{marginRight:f?"16px":0}}),(0,l.Y)(x.Ye,{ref:E,justifyContent:_?"start":"center",gap:8,wrap:"nowrap",className:"scrollContainer-Zw8XO7",onScroll:e=>{D(e.target)},paddingY:8,paddingLeft:f||s?0:40,paddingRight:f||c?0:40,children:N.map(e=>{var t,n;if(e.subItems&&e.subItems.length>0)return(0,l.Y)(I.W1,{placement:"bottom-start",trigger:(0,l.FD)(q.$n,{priority:"secondary-outline",size:"sm",rounded:!0,color:"secondary",children:[e.label,(0,l.Y)(k.A,{className:"chevron-W36cpG",size:16})]}),children:e.subItems.map(e=>{var t;let n=e.noFollow?null:e.logoUrl;return(0,l.Y)(I.Dr,{href:e.href,native:e.isNative,onClick:e.onClick,leading:n?(0,l.Y)(Y.c,{height:24,radius:"xs",src:n,width:24}):null,children:e.label},null!=(t=e.slug)?t:e.label)})},null!=(t=e.slug)?t:e.label);let r=e.slug===i;return(0,l.Y)(q.$n,{priority:r?"primary":"secondary-outline",size:"sm",onClick:()=>{e.onClick?e.onClick():e.href&&(0,H.V2)(e.href,{local_navigation:!e.isNative})},rounded:!0,color:r?"inherit":"secondary",children:e.label},null!=(n=e.slug)?n:e.label)})}),(0,l.Y)("div",{className:o()("fadeRight-6i2p1g",T&&V),style:{marginLeft:f?"16px":0}})]})})};var j=n(13950);let K=e=>{let{menuItems:t,maxWidth:n,itemGap:r,moreButtonWidth:l,containerPadding:i=32,isFullWidth:o=!1,windowWidth:a="undefined"!=typeof window?window.innerWidth:0,isSmallScreen:s=!1,reservedWidth:c=0}=e,u=(0,d.useRef)(null),m=(0,d.useRef)(null),h=(0,d.useRef)(null),[p,f]=(0,d.useState)([]),[g,v]=(0,d.useState)([]),[b,y]=(0,d.useState)(!1),_=(0,d.useCallback)(()=>{let e;if(!h.current)return;if(o)e=a-(s?20:40)-i;else if("number"==typeof n&&n>=0)e=n;else if(u.current)e=u.current.offsetWidth-i;else{if(!m.current)return;e=m.current.offsetWidth}e=Math.max(0,e-c);let d=[];h.current.querySelectorAll(".measure-item").forEach((e,n)=>{let r=e.querySelector(".menu-item")||e.querySelector("button"),l=r?r.offsetWidth:e.offsetWidth;t[n]&&d.push({item:t[n],width:l,index:n})});let p=0,g=0;for(let t=0;t<d.length;t++){let n=d[t];if(!n)continue;let i=p+(t>0?r:0)+n.width;if(t===d.length-1){i<=e&&(p=i,g++);break}if(i+(r+l)<=e)p=i,g++;else break}let b=t.slice(0,g),_=t.slice(g);f(e=>e.length!==b.length||e.some((e,t)=>{var n;return e.slug!==(null==(n=b[t])?void 0:n.slug)})?b:e),v(e=>e.length!==_.length||e.some((e,t)=>{var n;return e.slug!==(null==(n=_[t])?void 0:n.slug)})?_:e),y(!0)},[t,n,o,a,s,r,l,i,c]);return(0,d.useLayoutEffect)(()=>{if(_(),!o)return window.addEventListener("resize",_),()=>{window.removeEventListener("resize",_)}},[_,o]),{measurementRef:h,containerRef:m,outerContainerRef:u,visibleItems:p,overflowItems:g,isReady:b}},J="chevron-fUHuKc",$="measurementContainer-Wd518f",G=e=>{let{isChatActive:t,isMeetingsActive:n,pub:r,selectedSectionId:i,hideBorders:a,maxWidth:s,alignStart:c}=e,{iString:u}=(0,g.GO)(),{isMobile:m}=(0,S.sM)(),h="100%"===s,[p,f]=(0,d.useState)("undefined"!=typeof window?window.innerWidth:0),v=p<=992,b=_({pub:r,isChatActive:t,isMeetingsActive:n}).filter(e=>!A(e)&&(!e.subItems||e.subItems.length>0)),y=b.filter(e=>e.subItems&&e.subItems.length>0),w=b.filter(e=>!e.subItems||0===e.subItems.length),N=(0,d.useRef)(null),[E,L]=(0,d.useState)(0),{measurementRef:R,containerRef:T,outerContainerRef:F,visibleItems:D,overflowItems:M,isReady:B}=K({menuItems:w,maxWidth:s,itemGap:0,moreButtonWidth:80,containerPadding:0,isFullWidth:h,windowWidth:p,isSmallScreen:v,reservedWidth:E}),z=(0,d.useMemo)(()=>new Set(D.map(e=>{var t;return null!=(t=e.slug)?t:e.label})),[D]);(0,d.useLayoutEffect)(()=>{if(!N.current)return;let e=N.current.querySelectorAll(".measure-group-item"),t=0;e.forEach(e=>{t+=e.offsetWidth}),L(t)},[y]),(0,d.useLayoutEffect)(()=>{let e=()=>{f(window.innerWidth)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let W=(e,t,n)=>{let{label:r,href:i,isNative:a,onClick:s,noFollow:c,subItems:d,newTab:u}=e;return d?(0,l.Y)(I.W1,{placement:"bottom-start",trigger:(0,l.Y)("div",{className:o()("menu-item",{selected:t}),children:(0,l.FD)(C.A,{native:a,rel:c?"nofollow":null,onClick:s,children:[(0,l.Y)("span",{className:"overflow-item-text",children:r}),(0,l.Y)(k.A,{className:J,size:16})]})}),children:d.map(e=>{let t=e.logoUrl;return(0,l.Y)(I.Dr,{href:e.href,leading:t?(0,l.Y)(Y.c,{height:24,radius:"xs",src:t,width:24}):null,native:e.isNative,rel:e.noFollow?"nofollow":void 0,onClick:e.onClick,children:e.label},e.slug)})},n):(0,l.Y)("div",{className:o()("menu-item",{selected:t}),children:(0,l.Y)(C.A,{href:i,native:a,newTab:u,rel:c?"nofollow":null,onClick:s,children:(0,l.Y)("span",{className:"overflow-item-text",children:r})})},n)};return(0,l.FD)(l.FK,{children:[(0,l.Y)("div",{ref:R,className:o()($,"section-bar","overflow-items"),children:w.map((e,t)=>(0,l.Y)("div",{className:"measure-item",children:W(e,!1,"measure-".concat(t))},t))}),(0,l.Y)("div",{ref:N,className:o()($,"section-bar","overflow-items"),children:y.map((e,t)=>(0,l.Y)("div",{className:"measure-group-item",children:W(e,!1,"measure-group-".concat(t))},t))}),(0,l.Y)("div",{ref:F,className:o()("overflow-list-container","sections-overflow"),style:{maxWidth:h?"100%":s,width:h?"100%":void 0,paddingLeft:h&&!v?20:void 0,paddingRight:h?20:void 0,visibility:B?"visible":"hidden"},children:(0,l.Y)(x.Ye,{ref:T,borderBottom:a?void 0:"detail",borderTop:a||m?void 0:"detail",className:"section-bar",font:"text",height:m?44:48,justifyContent:m||v||c?"start":"center",position:"relative",children:(0,l.FD)("div",{className:"overflow-items",children:[b.map(e=>{var t;let n=e.subItems&&e.subItems.length>0,r=null!=(t=e.slug)?t:e.label;if(!(n||!B||z.has(r)))return null;let l=e.slug===i;return W(e,l,r)}),M.length>0&&(0,l.Y)(I.W1,{placement:"bottom-start",trigger:(0,l.Y)("div",{className:"menu-item",children:(0,l.FD)(C.A,{children:[(0,l.Y)("span",{className:"overflow-item-text",children:u("More")}),(0,l.Y)(k.A,{className:J,size:16})]})}),children:M.map(e=>{let t=e.noFollow?null:e.logoUrl;return(0,l.Y)(I.Dr,{href:e.href,leading:t?(0,l.Y)(Y.c,{height:24,radius:"xs",src:t,width:24}):null,native:e.isNative,rel:e.noFollow?"nofollow":void 0,onClick:e.onClick,children:e.label},e.slug)})},"more-menu")]})})})]})},X="measurementContainer-lK1Sqq",Z="chevron-J7_gYb",Q=e=>{let{isChatActive:t,isMeetingsActive:n,pub:r,selectedSectionId:i,maxWidth:a,alignStart:s}=e,{iString:c}=(0,g.GO)(),u="100%"===a,[m,h]=(0,d.useState)("undefined"!=typeof window?window.innerWidth:0),p=_({pub:r,isChatActive:t,isMeetingsActive:n}).filter(e=>!A(e)&&(!e.subItems||e.subItems.length>0)),f=p.filter(e=>e.subItems&&e.subItems.length>0),v=p.filter(e=>!e.subItems||0===e.subItems.length),b=(0,d.useRef)(null),[y,w]=(0,d.useState)(0),{measurementRef:C,containerRef:S,outerContainerRef:N,visibleItems:E,overflowItems:L,isReady:R}=K({menuItems:v,maxWidth:a,itemGap:6,moreButtonWidth:80,containerPadding:s?40:32,isFullWidth:u,windowWidth:m,reservedWidth:y});return(0,d.useLayoutEffect)(()=>{if(!b.current)return;let e=b.current.querySelectorAll(".measure-group-item"),t=0;e.forEach((n,r)=>{let l=n.querySelector("button");t+=l?l.offsetWidth:n.offsetWidth,r<e.length-1&&(t+=6)}),w(t)},[f]),(0,d.useLayoutEffect)(()=>{let e=()=>{h(window.innerWidth)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,l.FD)(l.FK,{children:[(0,l.Y)("div",{ref:C,className:o()(X),children:v.map((e,t)=>(0,l.Y)("div",{className:"measure-item",children:(0,l.Y)(q.$n,{priority:"secondary-outline",size:"sm",rounded:!0,color:"secondary",children:e.label})},t))}),(0,l.Y)("div",{ref:b,className:o()(X),children:f.map((e,t)=>(0,l.Y)("div",{className:"measure-group-item",children:(0,l.FD)(q.$n,{priority:"secondary-outline",size:"sm",rounded:!0,color:"secondary",children:[e.label,(0,l.Y)(k.A,{className:Z,size:16})]})},t))}),(0,l.Y)(x.pT,{ref:N,justifyContent:s?"start":"center",alignItems:"center",style:{width:u?"100%":a,minWidth:160,visibility:R?"visible":"hidden"},paddingX:16*!!u,paddingLeft:u||s?8:0,children:(0,l.FD)(x.Ye,{ref:S,justifyContent:s?"start":"center",gap:6,wrap:"nowrap",paddingY:8,children:[E.map(e=>{var t;let n=e.slug===i;return(0,l.Y)(q.$n,{priority:n?"primary":"secondary-outline",size:"sm",onClick:()=>{e.onClick?e.onClick():e.href&&(0,H.V2)(e.href,{local_navigation:!e.isNative})},rounded:!0,color:n?"inherit":"secondary",children:e.label},null!=(t=e.slug)?t:e.label)}),f.map(e=>{var t,n;return(0,l.Y)(I.W1,{placement:"bottom-start",trigger:(0,l.FD)(q.$n,{priority:"secondary-outline",size:"sm",rounded:!0,color:"secondary",children:[e.label,(0,l.Y)(k.A,{className:Z,size:16})]}),children:null==(t=e.subItems)?void 0:t.map(e=>{var t;let n=e.noFollow?null:e.logoUrl;return(0,l.Y)(I.Dr,{href:e.href,native:e.isNative,onClick:e.onClick,leading:n?(0,l.Y)(Y.c,{height:24,radius:"xs",src:n,width:24}):null,children:e.label},null!=(t=e.slug)?t:e.label)})},null!=(n=e.slug)?n:e.label)}),L.length>0&&(0,l.Y)(I.W1,{placement:"bottom-start",trigger:(0,l.FD)(q.$n,{priority:"secondary-outline",size:"sm",rounded:!0,color:"secondary",children:[c("More"),(0,l.Y)(k.A,{className:Z,size:16})]}),children:L.map(e=>{let t=e.noFollow?null:e.logoUrl;return(0,l.Y)(I.Dr,{href:e.href,native:e.isNative,onClick:e.onClick,leading:t?(0,l.Y)(Y.c,{height:24,radius:"xs",src:t,width:24}):null,children:e.label},e.slug)})})]})})]})};var ee=n(89230),et=n(3680),en=n(72880),er=n(89490),el=n(91401),ei=n(81203),eo=n(75303),ea=n(63136),es=n(8312);let ec="menuItem-DLEJaw",ed=e=>{let{item:t,pub:n,selectedSectionId:r,onClose:i,depth:o=0}=e,[a,s]=(0,d.useState)(!1),c=t.logoUrl;if(t.subItems&&t.subItems.length>0)return(0,l.FD)(x.VP,{children:[(0,l.Y)(q.$n,{onClick:()=>s(!a),className:ec,priority:"tertiary",children:(0,l.FD)(x.Ye,{alignItems:"center",justifyContent:"space-between",gap:12,paddingY:12,children:[(0,l.Y)(x.Ye,{alignItems:"center",gap:12,children:(0,l.Y)(ea.EY,{weight:"regular",font:"text",children:t.label})}),(0,l.Y)(k.A,{size:20,style:{transform:a?"rotate(0deg)":"rotate(-90deg)",transition:"transform 0.2s ease"}})]})}),a&&(0,l.Y)(x.VP,{paddingTop:8,paddingLeft:0===o?8:16,children:t.subItems.map(e=>(0,l.Y)(ed,{item:e,pub:n,selectedSectionId:r,onClose:i,depth:o+1},e.label))})]});if(t.subItems)return null;let u=t.slug===r;return(0,l.Y)(C.A,{href:t.href,native:t.isNative,rel:t.noFollow?"nofollow":void 0,onClick:()=>{var e;null==(e=t.onClick)||e.call(t),i()},className:ec,"data-selected":u,children:(0,l.FD)(x.Ye,{alignItems:"center",gap:12,paddingLeft:16*!c,paddingY:12,children:[c&&(0,l.Y)(Y.c,{height:24,radius:"xs",src:c,width:24}),(0,l.Y)(ea.EY,{font:"text",children:t.label})]})})},eu=e=>{var t;let{item:n,pub:r,selectedSectionId:i,onClose:o,onToggleExpand:a,isExpanded:s}=e;return(0,l.FD)(x.VP,{gap:0,children:[(0,l.Y)(q.$n,{size:"sm",onClick:()=>null==a?void 0:a(n.label),className:ec,priority:"tertiary",children:(0,l.FD)(x.Ye,{alignItems:"center",justifyContent:"space-between",gap:12,paddingY:4,paddingLeft:8,children:[(0,l.Y)(x.Ye,{alignItems:"center",gap:12,children:(0,l.Y)(ea.EY,{weight:"regular",font:"text",children:n.label})}),(0,l.Y)(k.A,{size:20,style:{transform:s?"rotate(0deg)":"rotate(-90deg)",transition:"transform 0.2s ease"}})]})}),s&&(0,l.Y)(x.VP,{gap:0,paddingTop:8,paddingLeft:8,children:null==(t=n.subItems)?void 0:t.map(e=>(0,l.Y)(ed,{item:e,pub:r,selectedSectionId:i,onClose:o,depth:1},e.label))})]})},em=e=>{let{item:t,selectedSectionId:n,onClose:r}=e,i=t.slug===n,o=t.logoUrl;return(0,l.Y)(C.A,{href:t.href,native:t.isNative,rel:t.noFollow?"nofollow":void 0,onClick:()=>{var e;null==(e=t.onClick)||e.call(t),r()},className:ec,"data-selected":i,children:(0,l.FD)(x.Ye,{alignItems:"center",gap:12,paddingLeft:o?8:16,paddingY:4,sizing:"border-box",height:32,children:[o&&(0,l.Y)(Y.c,{height:24,radius:"xs",src:o,width:24}),(0,l.Y)(ea.EY,{font:"text",children:t.label})]})})},eh=e=>{var t,n,i,o,a,s;let{isChatActive:c,isMeetingsActive:u,pub:h,selectedSectionId:p,showLogo:f}=e,{iString:v}=(0,g.GO)(),[b,y]=(0,d.useState)(!1),[k,w]=(0,d.useState)(new Set),Y=_({pub:h,isChatActive:c,isMeetingsActive:u}).filter(e=>"/"!==e.href&&(!e.subItems||e.subItems.length>0)),C=null==(n=h.theme)||null==(t=n.font_options)?void 0:t.wordmark,S=null!=(s=null==(o=h.theme)||null==(i=o.font_options)?void 0:i.heading)?s:null==(a=h.theme)?void 0:a.font_preset_heading,I=null!=C?C:S,A=I?(0,es.OK)(I):null,N=()=>{y(!1)},E=e=>{w(t=>{let n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})};return(0,l.FD)(l.FK,{children:[f?(0,l.FD)(q.$n,{"aria-label":v("Navigation menu"),priority:"tertiary",onClick:()=>y(!0),style:{gap:6,padding:"0 4px"},children:[(0,l.Y)(ei.Nq,{pub:h,size:32}),(0,l.Y)(ee.A,{size:18})]}):(0,l.Y)(q.K0,{size:"md",priority:"tertiary","aria-label":v("Navigation menu"),onClick:()=>y(!0),children:(0,l.Y)(ee.A,{size:20})}),(0,l.Y)(el._,{isOpen:b,onClose:N,width:320,className:"drawer-_gS8Z4",style:b?{}:{visibility:"hidden"},children:(0,l.Y)(el._.Body,{radius:"none",children:(0,l.FD)(x.VP,{gap:16,children:[(0,l.Y)(x.Ye,{alignItems:"start",paddingX:8,gap:12,children:(0,l.Y)(er.az,{onClick:N,cursor:"pointer",children:(0,l.Y)(et.A,{height:24})})}),(0,l.Y)(x.Ye,{paddingX:8,paddingBottom:4,justifyContent:"center",children:(0,l.Y)(eo.AE,{href:"/",onClick:N,children:h.logo_url_wide?(0,l.Y)(en.o,{src:h.logo_url_wide,maxWidth:224,useRetinaSizing:!0,imageIsFixedWidth:!0}):(0,l.Y)("span",{style:(0,m._)((0,r._)({},A),{width:"224px",textAlign:"center"}),children:h.name})})}),Y.map(e=>{var t;return(null==(t=e.subItems)?void 0:t.length)?(0,l.Y)(eu,{item:e,pub:h,selectedSectionId:p,onClose:N,onToggleExpand:E,isExpanded:k.has(e.label)},e.label):(0,l.Y)(em,{item:e,pub:h,selectedSectionId:p,onClose:N},e.label)})]})})})]})},ep=()=>Math.max(document.documentElement.scrollTop||document.body.scrollTop,0),ef=e=>{let{alwaysShow:t,disable:n,menuContentRef:r,menuHeight:l,ignoreScroll:i=!1}=e,o=(0,d.useRef)(!1),a=(0,d.useRef)(ep()),s=(0,d.useRef)(ep()),c=(0,d.useCallback)((e,t)=>{a.current=t,r.current&&(r.current.style.position=e,r.current.style.top="fixed"===e&&t>=0?"":"".concat(t,"px"))},[r]),u=(0,d.useCallback)(()=>{c("absolute",ep()-l),o.current=!1},[l,c]),m=(0,d.useCallback)(e=>{let t=e.target;((null==t?void 0:t.classList.contains("footnote-number"))||(null==t?void 0:t.classList.contains("footnote-anchor")))&&(o.current=!0,setTimeout(u,0))},[u]),h=(0,d.useCallback)(()=>{var e;if(t)return void c("fixed",0);if(o.current)return;let i=s.current;s.current=ep();let d=s.current,u=(null==(e=r.current)?void 0:e.style.position)==="fixed",m=d<=0||0>=(0,H.A9)(),h=d>=(0,H.A9)(),p=d>i,f=d<i;if(m)return void c("fixed",0);if(n)return void c("absolute",0);if(!h){if(p){if(u&&a.current>=0)return void c("absolute",d);if(!u&&a.current<d-l)return void c("fixed",-l)}if(f){if(a.current>d)return void c("fixed",d);let e=Math.max(d-l,0);if(a.current<e)return void c("absolute",e)}}},[t,r,n,c,l]);(0,d.useEffect)(()=>{if("undefined"!=typeof window&&!i)return window.addEventListener("scroll",h),window.addEventListener("click",m),h(),()=>{window.removeEventListener("scroll",h),window.removeEventListener("click",m)}},[n,m,h,c,i])};var eg=n(86500),ev=n(44333),eb=n(72682),ey=n(71783),e_=n(37764),ek=n(39318),ew=n(57324);let eY={mainMenuContent:"mainMenuContent-DME8DR",profileContext:"profileContext-urkyyv",relative:"relative-ozgOAS",topBar:"topBar-pIF0J1",titleWithWordmark:"titleWithWordmark-GfqxEZ",titleContainer:"titleContainer-DJYq5v",overflowVisible:"overflowVisible-joA5t0",fullScreen:"fullScreen-Zzi89N",title:"title-oOnUGd",buttonsContainer:"buttonsContainer-SJBuep",logoContainer:"logoContainer-p12gJb",wordmark:"wordmark-WcDTTu",logoLeftAvatar:"logoLeftAvatar-XEWHpd",logoLeftWordmark:"logoLeftWordmark-FeTNhG",logoCenterPostAvatar:"logoCenterPostAvatar-MJBapZ",logoCenterPostWordmark:"logoCenterPostWordmark-j7Svao",logoLeftPostWordmark:"logoLeftPostWordmark-ERptdm",logoLeftNav:"logoLeftNav-eAaUI5",logoCenterSlot:"logoCenterSlot-xJtI3r",logoCenterPostSlot:"logoCenterPostSlot-qYOnTB",logoTopCenterSlot:"logoTopCenterSlot-hss6WZ",stackedTopCenter:"stackedTopCenter-TPTTqw",logoCenterPostLeftSlot:"logoCenterPostLeftSlot-EIqNto"},eC=e=>{let{pub:t,wordmarkHeight:n,isMinimized:i=!1,maxWordmarkSize:o,wordmarkFont:a,headingFont:s}=e;if(t.logo_url_wide)return(0,l.Y)("img",{alt:t.name,src:(0,R.dJ9)(t.logo_url_wide,null,{height:2*n,crop:"limit",leadingSegments:["e_trim:10:white","e_trim:10:transparent"],aspect:1318/252}),className:eY.wordmark,style:{maxHeight:Math.max(20,i?eR:n)}});let c=(0,p.$L)(n,p.Rc,o/2),d=null!=a?a:s,u=d?(0,es.OK)(d):null;return(0,l.Y)("span",{style:(0,r._)({fontSize:"min(".concat(c,"rem, 10vw)"),lineHeight:1},u),children:t.name})},eS=e=>{var t;let{pub:n,wordmarkHeight:r,maxWordmarkSize:i,homeHref:a,fullScreen:s=!1,isMinimized:c=!1,anchor:d="center",wordmarkFont:u,headingFont:m}=e,h=n.logo_url_wide?p.be:p.Rc,f=n.logo_url_wide?i:i/2,g=n.logo_url_wide?r:r&&r!==eL?Math.min(Math.max(r,h),f):p.YR;return(0,l.Y)("div",{className:o()(eY.titleContainer,eY.overflowVisible,s&&eY.fullScreen),style:{flexGrow:0},children:(0,l.Y)(ea.EY,{as:"h1",className:o()(eY.title,{[null!=(t=eY.titleWithWordmark)?t:""]:n.logo_url_wide}),font:"pub-headings",id:"wordlogo",children:(0,l.Y)(eo.AE,{href:a,children:(0,l.Y)(eb.c,{anchor:d,max:f,min:h,property:"wordmarkLogoSize",value:g,children:e=>(0,l.Y)(eC,{headingFont:m,isMinimized:c,maxWordmarkSize:i,pub:n,wordmarkFont:u,wordmarkHeight:e})})})})})},ex=e=>{var t,n,i,a,s,g,v,y,_,k,w,Y,C,I,A,N,E,T,F,D;let{className:B,freeSignup:z,freeSignupEmail:W,hideNavBar:P,hideTitle:O,isAccountContext:H,isChatActive:V,isMeetingsActive:K,isPostView:J,pub:$,selectedSectionId:X,showCustomerSupportModeModal:Z,user:ee}=e;O="profile"===$.homepage_type||O;let{getConfigFor:et}=(0,b.mJ)(),{isMobile:en}=(0,S.sM)(),[er,el]=(0,d.useState)(!1),[eo,ea]=(0,d.useState)(!1),[es,ec]=(0,d.useState)(!1),ed=(0,h.md)(ey.Jv),eu=(0,h.md)(ey.MS),{path:em}=(0,ev.zy)(),ep=(0,d.useRef)(null),eb=(0,d.useRef)(null),eC=(0,d.useRef)(null),ex=(0,d.useRef)(null),[eA,eN]=(0,d.useState)(null),eR=(0,d.useRef)(null),eT=(0,d.useRef)(null),[eF,eD]=(0,d.useState)(null);(0,d.useLayoutEffect)(()=>{let e=()=>{el(window.innerWidth<=992),ea(window.innerWidth<=768),ec(window.innerWidth<=600)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let eM="profile"===$.homepage_type,eW=eM&&em.match(/\/profile\/(subscribers|followers|following)/),eP=!eM&&!!$.logo_url&&!(0,L.S2)({pub:$}),eO=!O,eH=!!et("show_menu_on_posts"),eq=J?eH:!P,eV=(e=>{var t,n,r,l,i,o,a;let s,{theme:c,isPostView:d=!1,showNavOnPosts:u=!1}=e,m=(null==c||null==(t=c.custom_header)?void 0:t.layout)||e_.Tb.layout,h=(null==c||null==(n=c.custom_header)?void 0:n.navPosition)||e_.Tb.navPosition,f=(null==c||null==(r=c.custom_header)?void 0:r.navStyle)||e_.Tb.navStyle,{max:g}=(0,p.TB)({layout:m,navPosition:h,navStyle:f,isPostView:d}),v="stacked"===m?"top"===h&&(!d||u)?"bottom-center":"top-center":"logo_left"===m?"top-left":"top-center";return s="stacked"===m?"top"===h?"top-left":"bottom-center":"logo_left"===m?"top-center":"top-left",{layout:m,wordmarkLogoSize:Math.min((null==c||null==(l=c.custom_header)?void 0:l.wordmarkLogoSize)||eL,g),maxWordmarkSize:g,wordmarkPosition:v,publicNavPosition:s,publicNavStyle:(null==c||null==(i=c.custom_header)?void 0:i.navStyle)||"text",backgroundColor:null!=(a=null==c||null==(o=c.custom_header)?void 0:o.backgroundColor)?a:void 0}})({theme:ed&&$.theme?(0,m._)((0,r._)({},$.theme),{custom_header:(0,r._)({},e_.Tb,$.theme.custom_header,ed)}):$.theme,isPostView:J,showNavOnPosts:eH}),{wordmarkPosition:eU,wordmarkLogoSize:ej,maxWordmarkSize:eK,publicNavPosition:eJ,layout:e$}=eV,eG=null!=eu?eu:null==(n=$.theme)||null==(t=n.font_options)?void 0:t.wordmark,eX=null!=(k=null==(a=$.theme)||null==(i=a.font_options)?void 0:i.heading)?k:null==(s=$.theme)?void 0:s.font_preset_heading,eZ="buttons"===eV.publicNavStyle,eQ="stacked"===eV.publicNavStyle,e0="logo_center"===e$&&eQ?"stacked":e$,e1=er&&"logo_left"===e0,e2=er&&"logo_center"===e0,e4=eo&&eQ&&"stacked"===e0,e6=es&&"stacked"===e0&&"top-left"===eJ&&!eQ,e8=en?240:340,e7=en?160:370,e3=en&&("bottom-center"!==eU||eQ)?eE:ej||($.logo_url_wide?eL:p.YR),{currentTopBarHeight:e9,currentMenuHeight:e5,isMinimized:te}=eI({forceMaximized:!J&&!H,forceMinimized:!!H,isMobile:en,showNavBar:"stacked"===e0&&"bottom-center"===eJ&&eq,showWordmark:eO,themeLayoutOptions:eV,scaledWordmarkHeight:e3,isTextWordmark:!$.logo_url_wide}),tt=en?eB:ez,tn=!en&&"top-center"===eU&&("stacked"===e0||"logo_center"===e0),tr="bottom-center"===eU&&!(en&&eQ);ef({alwaysShow:!1,disable:!J,menuContentRef:ep,menuHeight:e5,ignoreScroll:tr});let tl=H?(0,R.$_T)($):"/",ti=eM&&!J&&!H&&!en,to=()=>{(0,eg.u4)(eg.qY.NAV_BAR_HOME_LINK_CLICKED)},ta=!!eV.backgroundColor,ts="logo_left"===e0||"stacked"===e0&&"top-left"===eJ,tc=er&&"stacked"===e0;(0,d.useLayoutEffect)(()=>{let e=()=>{var e,t;let n;if(!ex.current||!eb.current)return;let r=ex.current.getBoundingClientRect(),l=eb.current.getBoundingClientRect(),i=null==(e=eC.current)?void 0:e.getBoundingClientRect(),o=null!=(t=null==i?void 0:i.right)?t:r.left+tt;if(tc){let e=r.left+tt;n=Math.max(0,Math.floor(l.left-e-32))}else{let e=r.left+r.width/2,t=l.left-e;n=Math.max(0,Math.floor((Math.min(e-o,t)-32)*2))}eN(n)};eN(null);let t=requestAnimationFrame(e);return window.addEventListener("resize",e),()=>{cancelAnimationFrame(t),window.removeEventListener("resize",e)}},[tc,tt,e0,eU,eJ]);let td="stacked"===e0&&"top-left"===eJ&&!eQ;return(0,d.useLayoutEffect)(()=>{if(!td)return void eD(null);let e=()=>{var e;if(!eR.current||!eb.current)return;let t=eR.current.getBoundingClientRect(),n=eb.current.getBoundingClientRect(),r=null==(e=eT.current)?void 0:e.getBoundingClientRect(),l=r?r.right+12:t.left;eD(Math.max(0,Math.floor(n.left-l-32)))};eD(null);let t=requestAnimationFrame(e);return window.addEventListener("resize",e),()=>{cancelAnimationFrame(t),window.removeEventListener("resize",e)}},[td]),(0,l.Y)(j.DH,{prefix:ta?"header":void 0,children:(0,l.FD)("div",{className:o()("main-menu",B),"data-testid":"navbar",children:[(0,l.FD)("div",{ref:ep,className:o()(eY.mainMenuContent,ti&&eY.profileContext,tr&&eY.relative),children:[(0,l.FD)(x.Ye,{ref:ex,alignItems:"center",borderBottom:eq?void 0:"detail",className:eY.topBar,gap:12,justifyContent:"space-between",paddingBottom:en?eq&&"bottom-center"===eJ?0:12:0,paddingTop:12*!!en,paddingX:tt,style:en?void 0:{position:"relative",height:e9-1},children:[(e1||e2)&&eq||e4||e6?(0,l.FD)("div",{ref:eC,style:{display:"flex",alignItems:"center",gap:12},children:[(0,l.Y)(eh,{isChatActive:V,pub:$,selectedSectionId:X,showLogo:!e6&&(null==(v=$.theme)||null==(g=v.custom_header)?void 0:g.showLogo)!==!1}),!e6&&(0,l.Y)("div",{className:eY.logoLeftWordmark,children:(0,l.Y)(eS,{anchor:"left",headingFont:eX,homeHref:tl,maxWordmarkSize:eK,pub:$,wordmarkFont:eG,wordmarkHeight:e3,isMinimized:te})})]}):O||"top-left"!==eU?eq&&"top-left"===eJ?(0,l.FD)("div",{ref:eR,className:o()(eY.logoContainer,{[null!=(C=eY.logoLeftNav)?C:""]:"logo_center"===e0}),style:{display:eM?"none":"flex",alignItems:"center",flexBasis:0,flexGrow:1,gap:12},children:["stacked"===e0&&eP&&!eQ&&!eo&&(0,l.Y)("div",{ref:eT,children:(0,l.Y)(ei.wg,{href:tl,pub:$,size:40,onClick:to})}),eZ?(0,l.Y)(Q,{isChatActive:!0,isMeetingsActive:!1,maxWidth:td?null!=eF?eF:void 0:e7,pub:$,selectedSectionId:X,alignStart:!0}):eQ?(0,l.Y)(eh,{isChatActive:V,pub:$,selectedSectionId:X,showLogo:(null==(_=$.theme)||null==(y=_.custom_header)?void 0:y.showLogo)!==!1}):(0,l.Y)(G,{alignStart:!0,hideBorders:!0,isChatActive:V,isMeetingsActive:K,pub:$,selectedSectionId:X,maxWidth:td?null!=eF?eF:void 0:e8})]}):(0,l.FD)("div",{className:o()(eY.logoContainer,{[null!=(I=eY.stackedTopCenter)?I:""]:"stacked"===e0&&"top-center"===eJ,[null!=(A=eY.logoCenterPostLeftSlot)?A:""]:"logo_center"===e0&&J}),style:{display:eM?"none":null,visibility:eP?"visible":"hidden",flex:en||ts?"0 0 auto":"1 0 0"},children:[eM&&(0,l.FD)(x.Ye,{alignItems:"center",gap:40,children:[(0,l.Y)(x.pT,{alignItems:"center",as:"a",height:20,href:(0,R.yRP)((0,R.$_T)(),{utm_content:ew.fL.islandSubstackLogo}),justifyContent:"center",tabIndex:-1,width:20,children:(0,l.Y)(u.A,{style:{transform:"scale(1.4)"}})}),eW&&(0,l.Y)(q.K0,{className:eY.backButton,href:(0,ek.fOI)($),size:"md",children:(0,l.Y)(c.A,{size:20})})]}),eP&&!(en&&"stacked"===e0)&&(0,l.Y)(ei.wg,{href:tl,pub:$,size:40,onClick:to})]}):(0,l.Y)("div",{ref:eC,style:{display:"flex",alignItems:"center",gap:12},children:"logo_left"===eV.layout?(0,l.FD)(l.FK,{children:[(0,l.Y)("div",{className:o()(eY.logoLeftAvatar,{[null!=(w=eY.logoLeftPostAvatar)?w:""]:J}),children:(0,l.Y)(ei.wg,{href:tl,pub:$,size:40,onClick:to})}),(0,l.Y)("div",{className:o()(eY.logoLeftWordmark,{[null!=(Y=eY.logoLeftPostWordmark)?Y:""]:J}),children:(0,l.Y)(eS,{anchor:"left",headingFont:eX,homeHref:tl,maxWordmarkSize:eK,pub:$,wordmarkFont:eG,wordmarkHeight:e3,isMinimized:te})})]}):(0,l.Y)(eS,{anchor:"left",headingFont:eX,homeHref:tl,maxWordmarkSize:eK,pub:$,wordmarkFont:eG,wordmarkHeight:e3,isMinimized:te})}),!O&&"top-center"===eU&&!e2&&!e4&&(0,l.Y)("div",{className:o()({[null!=(N=eY.logoCenterSlot)?N:""]:"logo_center"===e0,[null!=(E=eY.logoCenterPostSlot)?E:""]:"logo_center"===e0&&J,[null!=(T=eY.logoTopCenterSlot)?T:""]:"stacked"===e0}),style:{flexBasis:0,flexGrow:tn||en?2:0,display:"flex",justifyContent:en?"flex-start":"center"},children:"logo_center"===e0?(0,l.FD)(l.FK,{children:[(0,l.Y)("div",{className:o()(eY.logoLeftAvatar,{[null!=(F=eY.logoCenterPostAvatar)?F:""]:J}),style:{visibility:eP?"visible":"hidden"},children:(0,l.Y)(ei.wg,{href:tl,pub:$,size:40,onClick:to})}),(0,l.Y)("div",{className:o()(eY.logoLeftWordmark,{[null!=(D=eY.logoCenterPostWordmark)?D:""]:J}),children:(0,l.Y)(eS,{headingFont:eX,homeHref:tl,maxWordmarkSize:eK,pub:$,wordmarkFont:eG,wordmarkHeight:e3,isMinimized:te})})]}):(0,l.Y)(eS,{headingFont:eX,homeHref:tl,maxWordmarkSize:eK,pub:$,wordmarkFont:eG,wordmarkHeight:e3,isMinimized:te})}),eq&&"top-center"===eJ&&!e1&&!e2&&(0,l.Y)("div",{style:ts?{flex:"1 1 0",minWidth:0}:er&&"stacked"===e0?{flex:"0 0 auto"}:{position:"absolute",left:"50%",transform:"translateX(-50%)",visibility:null!==eA?"visible":"hidden"},children:eZ?(0,l.Y)(Q,{alignStart:ts,isChatActive:!0,isMeetingsActive:!1,maxWidth:ts?void 0:null!=eA?eA:e7,pub:$,selectedSectionId:X}):(0,l.Y)(G,{alignStart:ts||er&&"stacked"===e0,hideBorders:!0,isChatActive:V,isMeetingsActive:K,pub:$,selectedSectionId:X,maxWidth:ts?void 0:null!=eA?eA:e8})}),(0,l.Y)(x.Ye,{alignItems:"center",justifyContent:"end",style:{flexBasis:0,flexGrow:+!ts},children:(0,l.Y)("div",{ref:eb,className:eY.buttonsContainer,children:(0,l.Y)(f.A,{freeSignup:z,freeSignupEmail:W,isMeetingsActive:K,pub:$,showCustomerSupportModeModal:Z,user:ee})})})]}),eq&&"bottom-center"===eJ&&("buttons"===eV.publicNavStyle?(0,l.Y)(x.pT,{alignItems:"center",justifyContent:"start",children:(0,l.Y)(U,{isChatActive:!0,isMeetingsActive:!1,maxWidth:"100%",pub:$,selectedSectionId:X})}):(0,l.Y)(M,{isChatActive:V,isMeetingsActive:K,pub:$,selectedSectionId:X})),!O&&"bottom-center"===eU&&!e4&&(0,l.Y)(x.Ye,{justifyContent:"center",paddingY:8,children:(0,l.Y)(eS,{fullScreen:!0,headingFont:eX,homeHref:tl,maxWordmarkSize:eK,pub:$,wordmarkFont:eG,wordmarkHeight:e3})})]}),!tr&&(0,l.Y)("div",{style:{height:e5}})]})})},eI=e=>{let{forceMaximized:t,forceMinimized:n,isMobile:r,showNavBar:l,showWordmark:i,themeLayoutOptions:o,scaledWordmarkHeight:a,isTextWordmark:c=!1}=e,[u,m]=(0,d.useState)(!1),h=(0,d.useRef)(null),f=!!n||!t&&u,g=e=>{if(r)return l?eT:eF;if(i){let e=c?p.Rc:eL;return(c?eD:eM)+("bottom-center"!==o.wordmarkPosition&&!f&&a>e?a-e:0)}return eD},v=l?r?eW:eP:0,b=g(f),y=g(!1),_="bottom-center"!==o.wordmarkPosition||r&&"stacked"===o.publicNavStyle?0:a,k=y+v+_,w=(0,d.useCallback)(()=>{let e=h.current,t=document.documentElement.scrollTop||document.body.scrollTop;h.current=t,s()(e)||(t>e?t>k+5&&m(!0):t<=0&&m(!1))},[k]);return(0,d.useEffect)(()=>{m(!1)},[o.wordmarkPosition,o.layout]),(0,d.useEffect)(()=>(window.addEventListener("scroll",w),()=>window.removeEventListener("scroll",w)),[w]),{currentTopBarHeight:b,currentMenuHeight:b+v+_,isMinimized:f}};var eA=n(73815),eN=n(10455);let eE=20,eL=36,eR=40,eT=44,eF=56,eD=72,eM=88,eB=12,ez=20,eW=45,eP=50,eO=e=>{var t;let{className:n,freeSignup:i,freeSignupEmail:a,hideNavBar:s,hideTitle:m,isAccountContext:h,isChatActive:p,isMeetingsActive:g,isPostView:v,pub:y,selectedSectionId:_,showCustomerSupportModeModal:k,user:w,profile:Y}=e;m="profile"===y.homepage_type&&!v||m;let{getConfigFor:C}=(0,b.mJ)(),{isMobile:I}=(0,S.sM)(),{path:A}=(0,ev.zy)(),N=(0,d.useRef)(null),E=(0,d.useRef)(null),T=(0,d.useRef)(null),F="profile"===y.homepage_type,D=F&&A.match(/\/profile\/(subscribers|followers|following)/),B=!F&&!!y.logo_url&&!(0,L.S2)({pub:y}),z=!!(!m&&y.logo_url_wide),W=v?!!C("show_menu_on_posts"):!s,P=(0,L.S2)({pub:y})||!!(C("larger_wordmark_on_publication_homepage")&&z),{currentMenuHeight:O,currentTopBarHeight:H,isMinimized:V,maxMenuHeight:U}=eq({hasExpandableTopBar:P,forceMaximized:!v&&!h,forceMinimized:!!h,isMobile:I,showNavBar:W,showWordmark:z}),j=I?eB:P?40:ez,K=!I&&P&&V?20:0,J=I?P?32:eE:P?72:eL,$=!I&&P&&V?eR/72:1;ef({alwaysShow:!1,disable:!v,menuContentRef:N,menuHeight:O});let{shouldCenterTitle:G}=eV({buttonsRef:T,titleRef:E,horizontalGap:12,horizontalPadding:P?40:ez}),X=I||!G,Z=h?(0,R.$_T)(y):"/",Q=F&&!v&&!h&&!I;return(0,l.Y)(eU,{profile:Y,pub:y,useAccentTheme:!!h,children:(0,l.FD)("div",{className:o()("main-menu",n),"data-testid":"navbar",children:[(0,l.FD)("div",{ref:N,className:o()(eY.mainMenuContent,Q&&eY.profileContext),children:[(0,l.FD)(x.Ye,{alignItems:"center",borderBottom:W?void 0:"detail",className:eY.topBar,gap:12,justifyContent:"space-between",paddingBottom:I?12*!W:void 0,paddingTop:I?12:void 0,paddingX:j,style:I?void 0:{position:"relative",height:H-1},children:[(0,l.FD)("div",{className:eY.logoContainer,style:(0,r._)({display:F&&!v||!B&&X?"none":null,flexBasis:0,flexGrow:+!X},P?{transform:"translateX(-".concat(K,"px)")}:null),children:[F&&(0,l.FD)(x.Ye,{alignItems:"center",gap:40,children:[(0,l.Y)(x.pT,{alignItems:"center",as:"a",height:20,href:(0,R.yRP)((0,R.$_T)(),{utm_content:ew.fL.islandSubstackLogo}),justifyContent:"center",tabIndex:-1,width:20,children:I?(0,l.Y)(u.A,{height:24}):(0,l.Y)(u.A,{style:{transform:"scale(1.4)"}})}),D&&(0,l.Y)(q.K0,{className:eY.backButton,href:(0,ek.fOI)(y),size:I?"sm":"md",children:(0,l.Y)(c.A,{size:20})})]}),B&&(0,l.Y)(ei.wg,{href:Z,pub:y,size:I?32:40,onClick:()=>{(0,eg.u4)(eg.qY.NAV_BAR_HOME_LINK_CLICKED)}})]}),!m&&(0,l.Y)("div",{ref:E,className:eY.titleContainer,style:(0,r._)({flexGrow:0},P?{transform:"translateX(".concat(X?-K:0,"px)")}:null),children:(0,l.Y)(ea.EY,{as:"h1",className:o()(eY.title,{[null!=(t=eY.titleWithWordmark)?t:""]:y.logo_url_wide}),font:"pub-headings",children:(0,l.Y)(eo.AE,{href:Z,children:y.logo_url_wide?(0,l.Y)("img",{alt:y.name,src:(0,R.dJ9)(y.logo_url_wide,null,{height:2*J,crop:"limit",leadingSegments:["e_trim:10:white","e_trim:10:transparent"]}),style:(0,r._)({display:"block",height:J},P?{transform:"scale(".concat($,")"),transformOrigin:X?"left":"center"}:null)}):F?y.author_name:y.name})})}),(0,l.Y)(x.Ye,{alignItems:"center",justifyContent:"end",style:{flexBasis:0,flexGrow:1},children:(0,l.Y)("div",{ref:T,className:eY.buttonsContainer,style:P?{transform:"translateX(".concat(K,"px)")}:void 0,children:(0,l.Y)(f.A,{freeSignup:i,freeSignupEmail:a,isMeetingsActive:g,pub:y,showCustomerSupportModeModal:k,user:w})})})]}),W&&(0,l.Y)(M,{isChatActive:p,isMeetingsActive:g,pub:y,selectedSectionId:_})]}),(0,l.Y)("div",{style:{height:U}})]})})},eH=e=>{var t;return(null==(t=e.pub.theme)?void 0:t.custom_header)?(0,l.Y)(ex,(0,r._)({},e)):(0,l.Y)(eO,(0,r._)({},e))},eq=e=>{let{forceMaximized:t,forceMinimized:n,hasExpandableTopBar:r,isMobile:l,showNavBar:i,showWordmark:o}=e,[a,c]=(0,d.useState)(!1),u=(0,d.useRef)(null),m=!!n||!t&&a,h=e=>l?i?r?44:eT:eF:r?e?72:120:o?eM:eD,p=i?l?eW:eP:0,f=h(n)+p,g=h(m),v=(0,d.useCallback)(()=>{let e=u.current,t=document.documentElement.scrollTop||document.body.scrollTop;u.current=t,s()(e)||(t>e?t>f+5&&c(!0):t<=0&&c(!1))},[f]);return(0,d.useEffect)(()=>(window.addEventListener("scroll",v),()=>window.removeEventListener("scroll",v)),[v]),{currentMenuHeight:g+p,currentTopBarHeight:g,isMinimized:m,maxMenuHeight:f}},eV=e=>{let{buttonsRef:t,titleRef:n,horizontalGap:r,horizontalPadding:l}=e,{isMobile:i}=(0,S.sM)(),[o,a]=(0,d.useState)(!i),s=(0,d.useCallback)(()=>{if(!t.current||!n.current)return;if(i)return void a(!1);let e=t.current.getBoundingClientRect().width,o=n.current.getBoundingClientRect().width;a(.5*document.body.clientWidth-e-r-l>.5*o)},[t,r,l,i,n]);return(0,d.useEffect)(()=>(window.addEventListener("resize",s),s(),setTimeout(s,0),()=>{window.removeEventListener("resize",s)}),[s]),{shouldCenterTitle:o}},eU=e=>{let{profile:t,pub:n,useAccentTheme:r,children:i}=e;return r?(0,l.Y)(eA.Z,{children:i}):"profile"===n.homepage_type&&t?(0,l.Y)(eN.b,{theme:t.theme,children:i}):(0,l.Y)(j.DH,{children:i})}},6641:function(e,t,n){n.d(t,{S:()=>v});var r=n(4006),l=n(35426),i=n(38390),o=n(32485),a=n.n(o),s=n(48697),c=n(17402),d=n(13950),u=n(35369),m=n(76977),h=n(80988),p=n(45346),f=n(48028),g=n(55734);let v=e=>{let{children:t,disableCloseOnBackdropClick:n=!1,fullscreenMobile:o,hideCloseButton:v,initialFocus:b,isOpen:y,testId:_="modal",width:k=660,stretchModal:w=!1,onClose:Y=()=>void 0}=e,C=(0,c.useRef)(null);return(0,r.Y)(d.DH,{children:(0,r.Y)(i.bL,{open:y,onOpenChange:e=>{e||Y()},children:(0,r.Y)(i.ZL,{forceMount:!0,children:(0,r.Y)(l.e.Root,{show:y,children:(0,r.FD)(h.k,{children:[(0,r.Y)(p.B,{children:(0,r.Y)(p.k,{disableCloseOnBackdropClick:n,onClose:Y})}),(0,r.Y)(g.p,{children:(0,r.FD)(f.I,{className:w?a()("modalBodyStretched-aq1p4E","the-free-press-theme"):a()("modalBody-s4SL_V","the-free-press-theme"),disableCloseOnBackdropClick:n,fullscreenMobile:o,initialFocus:void 0===b?C:b,testId:_,width:k,children:[(0,r.Y)("div",{ref:C,"aria-hidden":"true",style:{position:"absolute",left:"-9999px"},tabIndex:-1}),(0,r.Y)(d.DH,{children:(0,r.FD)(m.I1,{paddingTop:v?24:8,children:[!v&&(0,r.Y)(m.Ye,{justifyContent:"end",children:(0,r.Y)(i.bm,{asChild:!0,children:(0,r.Y)(u.K0,{priority:"quaternary",onClick:Y,children:(0,r.Y)(s.A,{})})})}),t]})})]})})]})})})})})}},46275:function(e,t,n){n.d(t,{BR:()=>s,Sn:()=>a});var r=n(4006),l=n(17402),i=n(92636);let o=(0,l.createContext)({isOnDestination:(0,i.Sg)()});function a(e){let{children:t}=e,n=(0,l.useMemo)(()=>({isOnDestination:(0,i.Sg)()}),[]);return(0,r.Y)(o.Provider,{value:n,children:t})}function s(){return(0,l.useContext)(o)}o.displayName="IsDestinationContext"},97640:function(e,t,n){n.d(t,{Vd:()=>f,_b:()=>h});var r=n(4006),l=n(17402),i=n(79909),o=n(25006),a=n(94729),s=n(59922),c=n(12501),d=n(82772),u=n(68349),m=n(4016);function h(e){let{defaultState:t,shouldLoad:n=!0,shouldPoll:l=!1,activityToken:i,children:o}=e;return(0,r.Y)(g,{defaultState:null==t?void 0:t.activity,shouldLoad:n,shouldPoll:l,activityToken:i,children:o})}let p=(0,l.createContext)({lastViewedAt:null,activityUnreadCount:0,activityUnreadAtMax:!1,refetch:async()=>!0,markAllAsRead:async()=>{},hasLoadedOnce:!1});function f(){return(0,l.useContext)(p)}function g(e){let{defaultState:t,shouldLoad:n=!0,shouldPoll:h=!1,activityToken:f,children:g}=e,v=(0,c.st)({pathname:"/api/v1/activity/unread",deps:[],auto:n,initialResult:t,query:{token:f}}),b=(0,o.df)(),y=!!b&&(0,m.lu)({pub:b}),_=!(0,d.ov)()&&!y,k=async()=>{let e=await (0,a.x6)("/api/v1/activity/unread",{method:"post",json:{after:new Date().toISOString(),token:f}});v.setResult(e)};(0,s.A)(async()=>{if(h&&n&&(0,u.Tf)()){var e;let t=(null==(e=v.result)?void 0:e.count)||0,n=await v.refetch();if(t!==(!(n instanceof Error)&&n.count||0))return!0}},6e4);let w=null!=v.result?v.result.count:0;return(0,l.useEffect)(()=>{try{var e,t;null==(e=(t=navigator).setAppBadge)||e.call(t,w)}catch(e){console.warn(e)}},[w]),(0,r.FD)(p.Provider,{value:{lastViewedAt:null!=v.result?v.result.lastViewedAt:null,activityUnreadCount:w,activityUnreadAtMax:null!=v.result&&v.result.max,refetch:v.refetch,markAllAsRead:k,hasLoadedOnce:v.hasLoadedOnce},children:[(0,r.Y)(i.Metadata,{badge:_?w:void 0}),g]})}p.displayName="NotificationsContext"},77405:function(e,t,n){n.d(t,{s:()=>ew,J:()=>eC});var r=n(69277),l=n(70408),i=n(32641),o=n(4006),a=n(32708),s=n(82853),c=n(42691),d=n(49436),u=n(48309),m=n(84934),h=n(70010),p=n(93540),f=n(80964),g=n(54718),v=n(47796),b=n(57157),y=n(17402),_=n(41935),k=n(94090),w=n(82936),Y=n(58050),C=n(84605),S=n(40691),x=n(85478),I=n(46271),A=n(27749),N=n(32485),E=n.n(N),L=n(45773),R=n(78834),T=n(70511),F=n(78649),D=n(72880),M=n(93355),B=n(86500),z=n(12501),W=n(17028),P=n(62870),O=n(93812),H=n(92563),q=n(29682),V=n(39318),U=n(49807),j=n(98949);let K={header:"header-LkrdOr",footer:"footer-EnTWMp",swatchContainer:"swatchContainer-aa9QGg",checkIconContainer:"checkIconContainer-OhnBup"};function J(e){var t,n,r,l,i,a;let{comment:s,imageShareAsset:c,aspectRatio:d}=e,{width:u,height:m}=(0,H.S8)(d),{img:h,imgDownload:p,shareData:f,useNativeShare:g}=(0,M.Y)({shareTitle:"A note from ".concat(s.name),shareText:s.body,shareUrl:(0,U.M$q)("c-".concat(s.id)),imageUrl:null!=(t=null==c?void 0:c.composed_url)?t:"",imageDownloadUrl:null!=(i=null!=(l=(0,V.tbS)({noteId:"c-".concat(s.id),variant:null!=(n=null==c?void 0:c.variant)?n:"orange",type:"composed",aspectRatio:null!=(r=null==c?void 0:c.aspectRatio)?r:"stories"}))?l:null==c?void 0:c.composed_url)?i:"",imageUrlSameOrigin:null!=(a=null==c?void 0:c.composed_url)?a:""});async function v(){if((0,B.u4)(B.qY.NOTE_IMAGE_ASSET_DOWNLOADED,{comment_id:s.id,aspect_ratio:null==c?void 0:c.aspectRatio,source:"note-image-asset",interaction:"click"}),f)try{await navigator.share(f)}catch(e){}}return(0,o.Y)(P.Cs,{onClick:v,href:g?void 0:p,children:(0,o.FD)(P.OK,{size:m,aspectRatio:u/m,children:[!(0,j.Fr)()&&h&&(0,o.Y)(P.lh,{onClick:v,width:u}),(0,o.Y)(P.BB,{img:h})]})})}function $(e){var t,n,r;let{comment:l}=e,[i,a]=(0,y.useState)("stories"),[s,c]=(0,y.useState)("orange"),d=((e,t)=>{let{result:n,error:r}=(0,z.st)({pathname:"/api/v1/note/assets/c-".concat(e.id),query:{aspectRatio:t},deps:[e.id,t],auto:!0});return(0,y.useMemo)(()=>r?[]:n,[n,r])})(l,i),u=null==d?void 0:d.find(e=>e.aspectRatio===i&&e.variant===s),m=null!=(r=null==(n=l.attachments)||null==(t=n.find(e=>"image"===e.type))?void 0:t.imageUrl)?r:l.photo_url;return(0,o.Y)(F.Q,{children:(0,o.FD)(Z,{children:[(0,o.Y)(W.az,{className:K.header,children:(0,o.Y)(Q,{aspectRatio:i,setAspectRatio:a})}),(0,o.Y)(W.Ye,{justifyContent:"center",padding:12,children:(0,o.Y)(J,{aspectRatio:i,comment:l,imageShareAsset:u})}),(0,o.Y)(G,{selectedVariant:s,setSelectedVariant:c,photoUrl:m})]})})}function G(e){let{selectedVariant:t,setSelectedVariant:n,photoUrl:r}=e;return(0,o.Y)(W.fI,{gap:8,justifyContent:"center",children:q.ix.map(e=>(0,o.Y)(X,{variant:e,setSelectedVariant:n,isSelected:t===e,photoUrl:r},e))})}function X(e){let{variant:t,setSelectedVariant:n,isSelected:i,photoUrl:a}=e,s=(0,O.kE)({variant:t,width:32,height:32,backgroundImageSrc:a});return(0,o.FD)(W.az,{width:32,height:32,radius:"sm",cursor:"pointer",overflow:"hidden",sizing:"border-box",position:"relative",onClick:function(){n(t)},className:E()(K.swatchContainer,i&&K.selected),children:[(0,o.Y)(W.az,{className:K.checkIconContainer,children:i&&(0,o.Y)(L.A,{size:24})}),"css"===s.type?(0,o.Y)(W.az,{height:32,width:32,sizing:"border-box",style:s.style}):(0,o.Y)(D.o,{src:s.src,maxWidth:32,imageProps:(0,l._)((0,r._)({},s.imgProps),{height:32})})]})}let Z=(0,W.I4)({display:"flex",direction:"column",alignItems:"center",overflow:"hidden",paddingBottom:20});function Q(e){let{aspectRatio:t,setAspectRatio:n}=e;return(0,o.Y)(W.fI,{gap:8,borderBottom:"detail",padding:16,justifyContent:"center",children:q.yo.map(e=>(0,o.Y)(W.$n,{size:"sm",priority:t===e?"primary-mono":"secondary",onClick:()=>n(e),leading:"grid"===e?(0,o.Y)(R.A,{size:20}):(0,o.Y)(T.A,{size:20}),children:"grid"===e?"Grid":"Stories"},e))})}var ee=n(75840),et=n(94729),en=n(68349),er=n(35369),el=n(76977),ei=n(88774),eo=n(19832),ea=n(51177),es=n(36372),ec=n(52145),ed=n(504),eu=n(5180),em=n(83629),eh=n(46453),ep=n(2481),ef=n(16291),eg=n(56262),ev=n(70189),eb=n(82776),ey=n(57324),e_=n(44307);let ek=e=>{let{item:t,parentItem:n}=e;if(!t.comment&&!t.post)return null;let r=null;if("post"in t&&("post"===t.type||(null==n?void 0:n.type)==="post_reply"))r=t.post.id;else if((null==n?void 0:n.type)==="note_reply"){var l;let e=null==(l=t.parentComments[0])?void 0:l.id;e&&(r=e)}else r=t.comment.id;return r?{id:r,type:"post"in t&&("post"===t.type||(null==n?void 0:n.type)==="post_reply")?"post":"comment"}:null};function ew(e){var t,n,r,l,i,v,b;let{publication:_,post:N,comment:E,item:L,parentItem:R,allowHide:T=!1,size:F="sm"}=e,D=(0,es.d)(),{getConfigFor:M}=(0,x.mJ)(),W=(0,A.PK)(),P=(0,ee.T)(),O=(0,eu.wA)(),H=(0,eu.Ro)(),{iString:q}=(0,C.GO)(),[V,j]=(0,y.useState)(!1),[K,J]=(0,y.useState)(!1),G=(0,I.Jd)(),{openModal:X}=(0,S.hS)(),Z=null!=(v=null==E||null==(t=E.ancestor_path)?void 0:t.split(".").filter(Boolean).map(Number).map(e=>H.comments.get(e)))?v:[],Q=E?(0,eg.getCommentAuthor)(E):_&&N?(0,eg.getPostAuthor)(_,N):{id:0,name:"void"},eh=L&&"entity_key"in L?L.entity_key:void 0,ew=(0,w.bd)(Q,{surface:W,noteId:eh,onClick(e){L&&(0,ed.Qb)(L,W,e,{tabId:P})}}),eC=(0,k.a2)({comment:E,publication:_,post:N,item:L}),eS=(0,Y.A)(Q,W,eh),ex=(0,z.st)({pathname:"/api/v1/comment/".concat(null!=(b=null==E?void 0:E.id)?b:0),method:"DELETE",json:{publication_id:null==_?void 0:_.id}}),eI=async()=>{if(!E||(j(!1),ex.isLoading))return;let e=await ex.refetch();e instanceof Error?alert((0,en.uX)(e)):(D.popToast(()=>(0,o.Y)(es.y,{text:q("Note deleted"),Icon:a.A})),O({type:"comment_delete",payload:{publication:null!=_?_:void 0,post:null!=N?N:void 0,comment:E}}))},eA=(0,ep.NP)(),eN=async()=>{E&&eA.open({editComment:E,tabId:P,surface:W,editingUserId:null==G?void 0:G.id})},eE=L&&"post"===L.type&&L.mediaClip?L.mediaClip:void 0,eL=async(e,t)=>{await (0,et.x6)("/api/v1/comment/".concat(e.id,"/juice"),{method:"POST",json:{times_to_show:t}}),D.popToast(()=>(0,o.Y)(es.y,{text:q("Juiced"),Icon:c.A})),J(!1)},eR=async(e,t)=>{let n,r=ek({item:e,parentItem:R});if(!r)return;switch(t){case"1hour":n=1;break;case"8hours":n=8;break;case"24hours":n=24}let l=n?{expires_at:(0,ef.A)().add(n,"hour").toISOString()}:{},{id:i,type:a}=r;await (0,et.x6)("/api/v1/notification_settings/".concat(a,"/").concat(i,"/mute"),{method:"POST",json:l}),O({type:"item_pause_notifications",payload:{entityKey:e.entity_key}}),D.popToast(()=>(0,o.Y)(es.y,{text:q("Paused"),Icon:d.A}))},eT=async e=>{let t=ek({item:e,parentItem:R});if(!t)return;let{id:n,type:r}=t;await (0,et.x6)("/api/v1/notification_settings/".concat(r,"/").concat(n,"/mute"),{method:"DELETE"}),O({type:"item_unpause_notifications",payload:{entityKey:e.entity_key}}),D.popToast(()=>(0,o.Y)(es.y,{text:q("Unpaused"),Icon:d.A}))},eF=async()=>{try{if(!E)return void D.popToast(()=>(0,o.Y)(es.y,{text:q("Error starting workflow: comment not found")}));let{workflowId:e}=await (0,et.x6)("/api/v1/comment/".concat(E.id,"/workflow"),{method:"POST",json:{}});D.popToast(()=>(0,o.Y)(es.y,{text:"Workflow started with id ".concat(e)}))}catch(e){D.popToast(()=>(0,o.Y)(es.y,{text:"Error starting workflow: ".concat(e)}))}},eD=(0,z.st)({pathname:"/api/v1/video/assets/clips/".concat(null==eE?void 0:eE.id),method:"DELETE"}),eM=async()=>{if(!eE||eD.isLoading)return;let e=await eD.refetch();e instanceof Error?alert((0,en.uX)(e)):(D.popToast(()=>(0,o.Y)(es.y,{text:q("Clip deleted"),Icon:a.A})),O({type:"clip_delete",payload:{mediaClip:eE,author:Q}}))},eB=T&&L&&"entity_key"in L&&G&&G.id!==Q.id,ez=G&&G.id===Q.id,eW=G&&!!(null==L||null==(n=L.post)?void 0:n.publishedBylines.find(e=>e.id===G.id)),eP=G&&(null==R?void 0:R.type)==="note_reply"&&(null==L||null==(r=L.parentComments[0])?void 0:r.user_id)===G.id,eO=(ez||eW||eP)&&(null==L?void 0:L.type)&&["comment","post"].includes(L.type),eH=[(0,o.Y)(ei.Dr,{leading:(0,o.Y)(s.A,{}),onClick:()=>{let e={r:(0,eb.userReferralKey)(G),utm_source:ey.VU.notesShareAction,utm_medium:ey.Jn.web},t=E?(0,U.Zgx)(E,{urlParams:e}):N?(0,U.q$n)(_,N,{mediaClip:eE,urlParams:e}):null;(0,en.lW)(t),D.popToast(()=>(0,o.Y)(es.y,{text:q("Copied link to clipboard"),Icon:s.A})),(0,B.u4)(B.qY.FEED_ITEM_SHARE_LINK_CLICKED,{type:"copy",shared_post_id:null==N?void 0:N.id,shared_comment_id:null==E?void 0:E.id})},children:q("Copy link")}),!E&&N&&(0,o.Y)(eY,{post:N}),...eS,E?(0,o.Y)(ei.Dr,{leading:(0,o.Y)(u.A,{}),onClick:()=>{X({children:(0,o.Y)($,{comment:E}),width:540})},children:q("Save as image")}):null].filter(Boolean),eq=[(0,eb.canEditComment)(G,E)&&(0,o.Y)(ei.Dr,{leading:(0,o.Y)(m.A,{}),onClick:eN,children:q("Edit")}),E&&((null==G?void 0:G.is_global_admin)||(null==G?void 0:G.id)===E.user_id||M("show_note_stats_for_all_notes")||(0,eb.canManageCommentAsPrimaryUser)(G,E))?(0,o.Y)(ei.Dr,{leading:(0,o.Y)(h.A,{}),href:(0,ev.Kg)(E,{noBase:em.Z}),"data-native":!0,children:q("View stats")}):null].filter(Boolean),eV=(null==L?void 0:L.type)&&["comment","post"].includes(L.type)&&H.mutedFeedItems.has(L.entity_key),eU=[eB&&(0,o.Y)(ei.Dr,{leading:(0,o.Y)(p.A,{}),onClick:async()=>{try{O({type:"item_hide",payload:{entityKey:L.entity_key}}),await (0,et.x6)("/api/v1/note/".concat(L.entity_key,"/hide"),{method:"POST",json:{tabId:P,surface:W}})}catch(e){D.popToast(()=>(0,o.Y)(es.y,{text:(0,en.uX)(e)}))}},children:(G.is_admin||G.is_contributor)&&"post-page-restacks-list"===W?q("Hide note from post"):q("Hide note")}),eO&&(eV?(0,o.Y)(ec.MI,{onClick:()=>eT(L),customLabel:q("Unpause notifications")}):(0,o.Y)(ec.DE,{onMute:e=>eR(L,e),customLabel:q("Pause notifications")})),(null==G?void 0:G.is_global_admin)&&E&&(null==(i=E.attachments)||null==(l=i[0])?void 0:l.type)==="video"?(0,o.Y)(ei.Dr,{leading:(0,o.Y)(f.A,{}),priority:"secondary",onClick:eF,children:q("Run workflow")}):null].filter(Boolean),ej=[...ew,eC,(0,eb.canDeleteComment)(G,E,{pub:null!=_?_:void 0,parentComments:Z})&&(0,o.Y)(ei.Dr,{leading:(0,o.Y)(a.A,{}),priority:"destructive",onClick:()=>j(!0),children:q("Delete")}),eE&&ez&&(0,o.Y)(ei.Dr,{leading:(0,o.Y)(a.A,{}),priority:"destructive",onClick:eM,children:q("Delete this clip")}),(null==G?void 0:G.is_global_admin)&&E?(0,o.Y)(ei.Dr,{leading:(0,o.Y)(c.A,{}),priority:"destructive",onClick:async()=>{J(!0)},children:q("Juice")}):null].filter(Boolean),eK=[0!==eH.length&&eH,0!==eq.length&&(0,o.Y)(ei.H9,{children:eq}),0!==eU.length&&(0,o.Y)(ei.H9,{children:eU}),0!==ej.length&&(0,o.Y)(ei.H9,{children:ej})];return 0===eK.length?null:(0,o.FD)(o.FK,{children:[(0,o.Y)(el.ov,{className:e_.A.moreButtonContainer,children:(0,o.Y)(ei.W1,{trigger:(0,o.Y)(er.K0,{priority:"quaternary",size:F,className:e_.A.moreButton,"aria-label":q("More options"),children:(0,o.Y)(g.A,{size:16})}),onOpen:()=>{L&&(0,ed.Qb)(L,W,"menu",{tabId:P})},children:eK})}),(0,o.Y)(eo.m,{isOpen:V,title:q("Delete note"),description:q("Are you sure you want to permanently delete this note? This action cannot be undone."),primaryButton:(0,o.Y)(er.$n,{priority:"destructive",onClick:eI,children:q("Delete")}),secondaryButton:(0,o.Y)(er.$n,{priority:"secondary",onClick:()=>j(!1),children:q("Cancel")}),onClose:()=>j(!1)}),(null==G?void 0:G.is_global_admin)&&(0,o.Y)(eo.m,{isOpen:K,title:q("Juice note"),description:q("How many additional impressions would you like this note to receive? 100 impressions equals roughly 1-3 likes."),primaryButton:(0,o.FD)(ea.t7,{priority:"secondary-outline",size:"md",children:[(0,o.Y)(ea.gm,{onClick:async()=>{await eL(E,100)},children:"100"}),(0,o.Y)(ea.gm,{onClick:async()=>{await eL(E,500)},children:"500"}),(0,o.Y)(ea.gm,{onClick:async()=>{await eL(E,1e3)},children:"1000"})]}),secondaryButton:(0,o.Y)(el.pT,{flex:"grow",children:(0,o.Y)(er.$n,{priority:"secondary",onClick:()=>J(!1),children:q("Cancel")})}),onClose:()=>J(!1)})]})}function eY(e){var{post:t}=e,n=(0,i._)(e,["post"]);let a=(0,I.Jd)(),{requireLogin:s}=(0,eh.eE)(),c=eC(t),{iString:d}=(0,C.GO)();return(0,o.Y)(ei.Dr,(0,l._)((0,r._)({leading:t.is_saved?(0,o.Y)(v.A,{}):(0,o.Y)(b.A,{}),onClick:()=>a?c():null==s?void 0:s({redirectOverride:(0,U.wu9)(null,t,{urlParams:{triggerSave:!0}})})},n),{children:d(t.is_saved?"Unsave":"Save")}))}function eC(e){let t=(0,eu.wA)(),n=(0,_.ib)();return()=>{let r=e.id,l=!e.is_saved;(0,_.E0)(r,l,{surface:"reader"}),n(l),t({type:"post_save",payload:{postId:r,isSaved:l}})}}},27749:function(e,t,n){n.d(t,{IJ:()=>u,PK:()=>h});var r=n(4006),l=n(17402),i=n(78479),o=n(5180),a=n(68391),s=n(46453),c=n(2481),d=n(62088);function u(e){let{state:t,dispatch:n,surface:u,children:h}=e,{onboardingModal:p}=(0,s.eE)(),f=(0,l.useMemo)(()=>({dispatch:n}),[]);return(0,r.Y)(m.Provider,{value:u,children:(0,r.Y)(o.et.Provider,{value:f,children:(0,r.Y)(o.tO.Provider,{value:t,children:(0,r.Y)(i.sc,{children:(0,r.Y)(c.wG,{children:(0,r.FD)(a.Kl,{children:[h,(0,r.Y)(d.M9,{isOpen:!!t.isSigningIn,onCancel:()=>n({type:"sign_in",payload:{isSigningIn:!1}}),onSuccess:()=>{n({type:"sign_in",payload:{isSigningIn:!1}}),document.location.reload()},onSignup:()=>{n({type:"sign_in",payload:{isSigningIn:!1}}),null==p||p.open()},noExit:t.signInNoExit})]})})})})})})}let m=(0,l.createContext)("feed");function h(){return(0,l.useContext)(m)}},57446:function(e,t,n){n.d(t,{Q:()=>f});var r=n(4006),l=n(17402),i=n(85478),o=n(46271),a=n(44333),s=n(68349),c=n(83873),d=n(39318),u=n(92636),m=n(41086);let h=(0,l.createContext)({ageVerification:null,isLoading:!1});h.displayName="AgeVerificationContext";let p=["/settings","/account","/action/disable_email","/newsletters","/publish/home","/publish/settings","/publish/payments"];function f(e){var t;let{children:n}=e,f=(0,o.Jd)(),{path:g}=(0,a.zy)(),v=(0,a.lq)(),{getConfigFor:b}=(0,i.mJ)(),y=null!=(t=b("mobile_age_verification_learn_more_link"))?t:null,[_,k]=(0,l.useState)(null);return(0,l.useEffect)(()=>{let e=()=>{let e=(0,m.y)(window.location.href,"redirect_url");e?(0,s.V2)(e,{local_navigation:!1}):v("/",!0)},t=window.location.hostname.replace(/\.localhost$/,""),n=t===u.xJ||t==="reader.".concat(u.xJ)||t==="www.".concat(u.xJ);if(function(e,t){let n=e=>"/"===e?e:e.replace(/\/$/,""),r=n(e);for(let e of p)if(r===e||r.startsWith("".concat(e,"/")))return!0;return!!t&&n((0,s.Hm)(t))===r}(g,y))return void k(null);if(!(null==f?void 0:f.id)){k(null),"/age-verification-required"===g&&e();return}let r=null==f?void 0:f.age_verification;if(!r||!r.force_verification){k(null),"/age-verification-required"===g&&e();return}if("/age-verification-required"===g){if(!n){let e=(0,d.q$g)(),t=new URL(window.location.href),n="".concat(e).concat(t.pathname).concat(t.search);(0,s.V2)(n,{local_navigation:!1});return}if(r.status===c.Y.CompletedAdult){k(null),e();return}k(r);return}if(k(r),r.status===c.Y.NotCompleted||r.status===c.Y.CompletedUnderage){let e=window.location.href;if(n)v((0,d.yRP)("/age-verification-required",{redirect_url:e}),!0);else{let t=(0,d.q$g)(),n=(0,d.yRP)("".concat(t,"/age-verification-required"),{redirect_url:e});(0,s.V2)(n,{local_navigation:!1})}}},[null==f?void 0:f.id,null==f?void 0:f.age_verification,g,v]),(0,r.Y)(h.Provider,{value:{ageVerification:_,isLoading:!1},children:n})}},55200:function(e,t,n){n.d(t,{l:()=>l});var r=n(39318);function l(e,t){return(null==e?void 0:e.profile_set_up_at)?(0,r.gYq)(e,t):(0,r.W$o)((null==t?void 0:t.utm_source)?{utm_source:t.utm_source}:void 0)}},44333:function(e,t,n){n.d(t,{W5:()=>d,lq:()=>s,wN:()=>a,zy:()=>c});var r=n(99862),l=n(17402),i=n(73970),o=n(88377);function a(e,t){(0,l.useEffect)(()=>{let t=t=>{e(t)};return r.subscribers.push(t),()=>{r.subscribers.splice(r.subscribers.indexOf(t)>>>0,1)}},t)}function s(){if("react-router"===(0,l.useContext)(o.J)){let e=(0,i.Zp)();return(t,n)=>(e(t,{replace:n}),!0)}return r.route}function c(){if("react-router"===(0,l.useContext)(o.J)){let e=(0,i.zy)();return{url:"".concat(e.pathname).concat(e.search).concat(e.hash),path:e.pathname}}let[e]=function(){let[e,t]=(0,l.useState)({}),n=(0,l.useRef)(null);a(e=>{n.current=e,t({})},[]);let i=n.current||(0,r.getCurrentUrl)(),o=i.replace(/\?.+$/,"");return n.current=null,[{url:i,path:o},r.route]}();return e}function d(e){if("react-router"===(0,l.useContext)(o.J)){let t=e.replace(/:(\w+)\*/,"*"),n=(0,i.RQ)(t);return null==n?void 0:n.params}let{path:t}=c(),n=(0,r.exec)(t,e,{});return!1===n?null:n}},20562:function(e,t,n){n.d(t,{t:()=>c});var r=n(69277),l=n(4006),i=n(76977),o=n(63136),a=n(92636),s=n(49807);let c=e=>{let{firehoseFeedUrl:t,pub:n,section:c,trackingSource:d,variant:u="default"}=e,m=(0,a.yR)("/p/how-do-i-add-a-bulwark-member-only",(0,r._)({utm_source:d},c?{utm_content:c.id}:null)),h=(0,a.yR)("/account/add-all-podcasts",(0,r._)({utm_source:d},c?{utm_content:c.id}:null)),p=t?(0,l.FD)(o.EY.B3,{as:"li",font:"text",children:["Click here to set up your podcast app for"," ",(0,l.Y)("a",{href:t,rel:"noopener noreferrer",target:"_blank",children:"everything in one feed"})]}):null,f=(0,s.eV6)(n,{params:{utm_source:d}});return(0,l.Y)("div",{className:"container-o06YlK",children:"member-only"===u?(0,l.FD)(i.I1,{as:"ul",gap:4,children:[(0,l.FD)(o.EY.B3,{as:"li",font:"text",children:["Want to listen without ads? Join Bulwark+ for exclusive ad-free versions of all Bulwark shows."," ",(0,l.Y)("a",{href:f,rel:"noopener noreferrer",target:"_blank",children:"Upgrade now"})]}),(0,l.FD)(o.EY.B3,{as:"li",font:"text",children:["Already a Bulwark+ member? Login to access premium shows. ",(0,l.Y)("a",{href:m,children:"Learn more here"})]})]}):(0,l.FD)(i.I1,{as:"ul",gap:4,children:[(0,l.FD)(o.EY.B3,{as:"li",font:"text",children:["Learn about"," ",(0,l.Y)("a",{href:m,rel:"noopener noreferrer",target:"_blank",children:"setting up your Bulwark+ private podcast feeds"})]}),p||(0,l.FD)(o.EY.B3,{as:"li",font:"text",children:["Add the Bulwark Premium Show"," ",(0,l.Y)("a",{href:h,rel:"noopener noreferrer",target:"_blank",children:"super feed"})]})]})})}},12592:function(e,t,n){n.d(t,{c:()=>a});var r=n(4006),l=n(32485),i=n.n(l),o=n(89490);let a=e=>{let{children:t,columns:n=2,paddingTop:l=24}=e,a=(0,o.iF)({paddingTop:l,paddingX:16,paddingBottom:32});return(0,r.Y)("div",{className:i()("container-kIrj2N",a,{"containerThreeColumn-Rot594":3===n,"containerFourColumn-vOHVwe":4===n}),children:t})}},12387:function(e,t,n){n.d(t,{F:()=>m});var r=n(4006),l=n(32485),i=n.n(l),o=n(48697),a=n(89490),s=n(35369),c=n(76977),d=n(63136),u=n(74460);let m=e=>{let{title:t,description:n,Icon:l,onDismiss:i,theme:o="default",showClose:a=!0,flex:s="auto"}=e;return(0,r.FD)(b,{theme:o,flex:s,children:[l&&(0,r.Y)(h,{Icon:l}),(0,r.FD)(y,{children:[t&&(0,r.Y)(p,{theme:o,children:t}),n&&(0,r.Y)(f,{theme:o,children:n})]}),a&&(0,r.Y)(g,{onClose:i})]})},h=e=>{let{Icon:t}=e;return(0,r.Y)(v,{children:(0,r.Y)(t,{size:18,className:u.A.icon})})},p=e=>{let{children:t,theme:n}=e;return(0,r.Y)(d.EY.B4,{weight:"medium",color:"default"===n?"primary":n,className:u.A.title,children:t})},f=e=>{let{children:t,theme:n}=e;return(0,r.Y)(d.EY.B4,{weight:"regular",color:"default"===n?"secondary":n,className:u.A.description,children:t})},g=e=>{let{onClose:t}=e;return(0,r.Y)(v,{children:(0,r.Y)(s.K0,{priority:"quaternary",onClick:t,size:"xs",className:u.A.dismiss,children:(0,r.Y)(o.A,{size:18})})})},v=(0,a.I4)({display:"flex",alignItems:"center",justifyContent:"center",width:20,height:20}),b=e=>{let{theme:t,children:n,flex:l}=e;return(0,r.Y)(c.fI,{flex:l,gap:12,paddingX:16,paddingY:12,radius:"sm",className:i()(u.A.alert,u.A["theme_".concat(t)]),children:n})},y=(0,a.I4)({display:"flex",direction:"column",flex:"grow",alignItems:"start"})},91401:function(e,t,n){n.d(t,{_:()=>F});var r=n(4006),l=n(35426),i=n(38390),o=n(89490);let a="transition-w_bxsw",s="from-z8IAhO",c="to-tJ4gLS";function d(e){let{onClose:t,disableCloseOnBackdropClick:n}=e;return(0,r.Y)(i.hJ,{forceMount:!0,className:"backdrop-XhnYC7",onClick:()=>{n||t()}})}let u=e=>{let{children:t}=e;return(0,r.Y)(l.e.Child,{enter:a,enterFrom:s,enterTo:c,leave:a,leaveFrom:c,leaveTo:s,children:t})};var m=n(20347),h=n(3849),p=n(69277),f=n(76977),g=n(12601);let v={paddingTop:20,paddingBottom:20};var b=n(84843);let y={paddingTop:20,paddingBottom:20},_={flex:"1",justifyContent:"center"};var k=n(32485),w=n.n(k),Y=n(17402),C=n(11510);let S=(0,Y.forwardRef)((e,t)=>{let{children:n,className:l,width:o,initialFocus:a,disableCloseOnBackdropClick:s=!1,testId:c,style:d}=e,u=(0,C.Iu)();return(0,r.Y)(i.UC,{forceMount:!0,ref:t,"data-testid":c,className:w()(l,"panel-kkbipN",u&&"mobile-_09kdk"),style:(0,p._)({width:u?void 0:o},d),onOpenAutoFocus:e=>{(null==a?void 0:a.current)&&(e.preventDefault(),a.current.focus())},onCloseAutoFocus:e=>{e.preventDefault()},onPointerDownOutside:e=>{e.preventDefault()},onEscapeKeyDown:e=>{s&&e.preventDefault()},children:n})});S.displayName="DrawerPanel";let x="transition-yXnIcD",I="from-ohdinI",A="to-pJrLpA",N=e=>{let{children:t}=e;return(0,r.Y)(l.e.Child,{as:Y.Fragment,enter:x,enterFrom:I,enterTo:A,leave:x,leaveFrom:A,leaveTo:I,children:t})};var E=n(90460),L=n(10996),R=n(53168);function T(e){let{children:t,renderOverReactLaagPortal:n}=e;return(0,r.Y)(o.az,{className:"layout-oewxMQ",style:{zIndex:n?R.Up+1:R.Up},children:t})}let F=e=>{let{isOpen:t,onClose:n=()=>void 0,children:o,testId:a="drawer",className:s,width:c=440,disableCloseOnBackdropClick:m=!1,initialFocus:h,renderOverReactLaagPortal:p=!1,style:f}=e;return(0,E.h)(t),(0,r.Y)(i.bL,{open:t,onOpenChange:e=>{e||null==n||n()},children:(0,r.Y)(i.ZL,{forceMount:!0,children:(0,r.Y)(l.e.Root,{show:t,children:(0,r.FD)(T,{renderOverReactLaagPortal:p,children:[(0,r.Y)(u,{children:(0,r.Y)(d,{onClose:n,disableCloseOnBackdropClick:m})}),(0,r.Y)(L.e$,{children:(0,r.Y)(N,{children:(0,r.Y)(S,{width:c,className:s,initialFocus:h,disableCloseOnBackdropClick:m,testId:a,style:f,children:o})})})]})})})})};F.Header=e=>{let{onClose:t,showClose:n=!0,title:l,description:i,showDivider:o=!1}=e,a=o?b.P0:b.UG;return(0,r.Y)(a,{style:(0,p._)({},y),children:(0,r.FD)(f.fI,{children:[(0,r.FD)(b.fS,{style:(0,p._)({},_),children:[l&&(0,r.Y)(b.$q,{text:l,isInsideDialog:!1}),i&&(0,r.Y)(b.ph,{text:i,isInsideDialog:!1})]}),n&&t&&(0,r.Y)(b.J,{onClose:t,position:"relative"})]})})},F.Body=function(e){var t=(0,m._)({},(0,h._)(e));return(0,r.Y)(f.VP,(0,p._)({flex:"grow",overflow:"auto",padding:20},t))},F.Footer=e=>{let{primaryButton:t,secondaryButton:n,showDivider:l,direction:i="row"}=e,o="column"===i,a=!!n||!!t,s=l?o?g.X_:g.RY:o?g.MM:g.It,c=o?g.iF:g.Y9,d=[n,t].filter(Boolean);return(0,r.Y)(s,{style:(0,p._)({},v),children:a&&(0,r.Y)(c,{children:d})})}},68940:function(e,t,n){n.d(t,{u:()=>s});var r=n(4006),l=n(68349),i=n(81929),o=n(63136),a=n(89961);function s(e){var t,n;let s,{modifier:c,children:d,className:u}=e,m=(t=void 0===c?[]:Array.isArray(c)?c:[c],n=(0,l.cX)(),0===(s=t.map(e=>{switch(null==e?void 0:e.toLowerCase()){case"cmd":return n?"âŒ˜":"Ctrl";case"shift":return n?"â‡§":"Shift";case"alt":case"opt":return n?"âŒ¥":"Alt";case"ctrl":return n?"âŒƒ":"Ctrl";case"esc":return"Esc";case"left":return"â†";case"right":return"â†’";case"up":return"â†‘";case"down":return"â†“";default:return""}}).filter(Boolean)).length?"":s.join(""));return(0,r.Y)(i.vw,{priority:"secondary-outline",theme:"default",className:u,children:(0,r.FD)(o.EY,{as:"kbd",font:"text",weight:"regular",color:"secondary",className:a.A.kbd,children:[m,d]})})}},51177:function(e,t,n){n.d(t,{gm:()=>b,q7:()=>v,t7:()=>g});var r=n(69277),l=n(70408),i=n(32641),o=n(4006),a=n(32485),s=n.n(a),c=n(17402),d=n(82519),u=n(84605),m=n(35369),h=n(76977),p=n(88774);n(48625);var f=n(5370);let g=e=>{var{priority:t="secondary-outline",size:n="md"}=e,l=(0,i._)(e,["priority","size"]);"secondary-outline"===t&&(t="tertiary");let a="tertiary"===t;return(0,o.Y)(_.Provider,{value:{priority:t,size:n},children:(0,o.Y)(h.fI,(0,r._)({radius:"sm"===n?"xs":"sm",className:s()(f.A.group,a&&f.A.outlined)},l))})},v=e=>{var{children:t,priority:n="primary",size:a="md",menuItems:s,additionalMenuProps:c={}}=e,m=(0,i._)(e,["children","priority","size","menuItems","additionalMenuProps"]);let{iString:h}=(0,u.GO)();return(0,o.FD)(g,{priority:n,size:a,children:[(0,o.Y)(b,(0,l._)((0,r._)({},m),{children:t})),(0,o.Y)(p.W1,(0,l._)((0,r._)({},c),{placement:"bottom-end",trigger:(0,o.Y)(y,(0,l._)((0,r._)({},m),{"aria-label":h("Dropdown menu"),children:(0,o.Y)(d.A,{size:"sm"===a?16:"md"===a?20:24})})),children:s}))]})},b=(0,c.forwardRef)((e,t)=>{var{className:n}=e,a=(0,i._)(e,["className"]);let{priority:d,size:u}=(0,c.useContext)(_);return(0,o.Y)(m.$n,(0,l._)((0,r._)({priority:d,size:u,className:s()(f.A.segment,n)},a),{ref:t}))}),y=(0,c.forwardRef)((e,t)=>{var{className:n}=e,a=(0,i._)(e,["className"]);let{priority:d,size:u}=(0,c.useContext)(_);return(0,o.Y)(m.K0,(0,l._)((0,r._)({priority:d,size:u,className:s()(f.A.segment,n)},a),{ref:t}))}),_=(0,c.createContext)({priority:"primary",size:"md"})},56007:function(e,t,n){n.d(t,{Ho:()=>m,bn:()=>c,dj:()=>h,tE:()=>u});var r=n(69277),l=n(70408),i=n(4006),o=n(28001),a=n(17402),s=n(58526);let c=5e3,d=(0,a.createContext)({popToast:()=>{throw Error("Popping toast requires a ToastProvider.")},addOffset:()=>{}});function u(e){let{children:t}=e,[n,r]=(0,a.useState)([]),[l,u]=(0,a.useState)(0),m=(0,a.useRef)(0);return(0,i.Y)(o.Kq,{duration:c,swipeThreshold:20,swipeDirection:"down",children:(0,i.FD)(d.Provider,{value:{popToast:(e,t)=>{let{dedupeKey:n}=null!=t?t:{},l="toast-".concat(m.current++),i=e(),o=a.default.cloneElement(i,{key:l,onOpenChange:e=>{e||setTimeout(()=>{r(e=>e.filter(e=>e.id!==l))},200)}});r(e=>[...n?e.filter(e=>e.dedupeKey!==n):e,{id:l,element:o,dedupeKey:n}])},addOffset:e=>{u(Math.min(l+e,0))}},children:[t,n.map(e=>e.element),(0,i.Y)(s.U,{offset:l})]})})}let m=e=>{let t=(0,a.forwardRef)((t,n)=>{let o=h();return(0,i.Y)(e,(0,l._)((0,r._)({},o,t),{ref:n}))});return t.displayName="withToastContext(".concat(e.name||e.displayName||"Anonymous",")"),t};function h(){return(0,a.useContext)(d)}},72682:function(e,t,n){n.d(t,{c:()=>f});var r=n(69277),l=n(70408),i=n(4006),o=n(32485),a=n.n(o),s=n(17402),c=n(45387),d=n(90839),u=n(99156);let m={container:"container-Zymr63",dragging:"dragging-DRHmIF",cornerHandle:"cornerHandle-kfhB90",topLeft:"topLeft-tcLuIp",topRight:"topRight-JvUgIs",bottomLeft:"bottomLeft-n_juA8",bottomRight:"bottomRight-uyYwbn"},h="theme-editor-dragging",p=["topLeft","topRight","bottomLeft","bottomRight"],f=e=>{var t;let{children:n,value:o,min:f,max:g,property:v,disabled:b,anchor:y="center"}=e,{isPreviewMode:_,sendThemePropertyDragEnd:k}=(0,u.T)(),w=(0,d.sb)(),Y=(0,d.Z4)(),{isActive:C}=(0,c.k6)(w),{isDragging:S,previewValue:x,getHandleProps:I}=function(e){let{value:t,min:n,max:r,onDragEnd:l,anchor:i="center"}=e,[o,a]=(0,s.useState)(t),[c,d]=(0,s.useState)(!1),u=(0,s.useRef)(null),m=(0,s.useRef)(t),h=(0,s.useRef)(l);h.current=l;let p=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(!c){if(null!==p.current)if(t!==p.current)return;else p.current=null;a(t),m.current=t}},[t,c]);let f=(0,s.useCallback)(e=>Math.round(Math.max(n,Math.min(r,e))),[n,r]),g=(0,s.useCallback)((e,t)=>{let n;e.preventDefault(),e.stopPropagation(),p.current=null;let r=e.target.parentElement;if(!r)return;let l=(r.querySelector("img")||r).getBoundingClientRect(),o=l.width/l.height,a=l.top+l.height/2,s=!1;"center"===i?(n=l.left+l.width/2,s=!0):n="left"===i?l.left:l.right,u.current={anchorX:n,anchorY:a,symmetric:s,aspectRatio:o},d(!0)},[i]),v=(0,s.useCallback)(e=>{let t=u.current;if(!t)return;let n=Math.abs(e.clientX-t.anchorX),r=f(Math.min(2*Math.abs(e.clientY-t.anchorY),(t.symmetric?2*n:n)/t.aspectRatio));m.current=r,a(r)},[f]),b=(0,s.useCallback)(()=>{u.current&&(p.current=m.current,h.current(m.current),u.current=null,d(!1))},[]);return(0,s.useEffect)(()=>{if(c)return window.addEventListener("mousemove",v),window.addEventListener("mouseup",b),()=>{window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",b)}},[c,v,b]),{isDragging:c,previewValue:o,getHandleProps:(0,s.useCallback)(e=>({onMouseDown:t=>g(t,e)}),[g])}}({value:o,min:f,max:g,onDragEnd:(0,s.useCallback)(e=>{k({property:v,value:e})},[v,k]),anchor:y});return((0,s.useEffect)(()=>{if(S){document.documentElement.classList.add(h);let e=e=>{e.preventDefault(),e.stopPropagation()};return document.addEventListener("click",e,!0),()=>{setTimeout(()=>{document.removeEventListener("click",e,!0),document.documentElement.classList.remove(h)},100)}}},[S]),_&&C&&!b&&!Y)?(0,i.FD)("div",{className:a()(m.container,{[null!=(t=m.dragging)?t:""]:S}),style:{margin:-5},children:[(0,i.Y)("div",{style:{margin:5},children:n(x)}),p.map(e=>(0,i.Y)("div",(0,l._)((0,r._)({},I(e)),{className:a()(m.cornerHandle,m[e])}),e))]}):(0,i.Y)(i.FK,{children:n(o)})}},2247:function(e,t,n){n.d(t,{U:()=>r});function r(e){if(!e)return{selection:null,picker:null};switch(e.type){case"home-design":case"post-design":case"welcome-design":case"section":case"podcast":return{selection:null,picker:null};case"header":return{selection:{block:{type:"header"}},picker:null};case"home-hero":return{selection:{block:{type:"home-hero"}},picker:null};case"home-body":return{selection:{block:{type:"home-body"}},picker:null};case"content-block":return{selection:{block:{type:"content-block",id:e.contentBlockId}},picker:null};case"footer":return{selection:{block:{type:"footer"}},picker:null};case"sidebar-module":return{selection:{block:{type:"content-block",id:e.parentContentBlockId},item:{type:"sidebar-module",moduleId:e.moduleId}},picker:null};case"block-picker":return{selection:null,picker:{type:"block-picker",insertAfterIndex:e.insertAfterIndex}};case"module-picker":return{selection:{block:{type:"content-block",id:e.parentContentBlockId}},picker:{type:"module-picker",parentBlockId:e.parentContentBlockId,column:e.column,insertAtIndex:e.insertAtIndex}}}}},15663:function(e,t,n){n.d(t,{r:()=>f});var r=n(4006),l=n(35426),i=n(17402),o=n(78649),a=n(97640),s=n(46271),c=n(86500),d=n(12501),u=n(76977),m=n(21398),h=n(16291);let p="transition-FsyEAS";function f(){var e;let{activityUnreadCount:t}=(0,a.Vd)(),{isLoading:f,result:g,refetch:v}=(0,d.st)({pathname:"/api/v1/activity-feed-web",query:{limit:1},auto:!1});(0,i.useEffect)(()=>{t>0&&v()},[t]);let[b,y]=(0,i.useState)(!1),[_,k]=(0,i.useState)(!1),{isLoading:w,fetch:Y,result:C}=(0,m.vZ)({module:"./MiniNotificationsViewer",onRequest:()=>Promise.all([n.e("39966"),n.e("33393"),n.e("76439")]).then(n.bind(n,47737)),fetchImmediately:!1}),S=(0,h.A)(),{userSettings:x,changeSetting:I}=(0,s.ur)(),A=null==g||null==(e=g.activityItems)?void 0:e[0],N=(null==A?void 0:A.created_at)?(0,h.A)(null==A?void 0:A.created_at):S.subtract(100,"year"),E=(null==x?void 0:x.last_notification_alert_shown_at)?(0,h.A)(x.last_notification_alert_shown_at):S.subtract(100,"year"),L=7>S.diff(N,"day")&&N.diff(E,"hour")>2,R=(0,i.useRef)(null),T=()=>{R.current&&window.clearTimeout(R.current)},F=()=>{T(),R.current=window.setTimeout(()=>{y(!1)},6e3)};return(0,i.useEffect)(()=>{L&&t>0&&(C&&!b?window.setTimeout(()=>{y(!0),I("last_notification_alert_shown_at",(0,h.A)().toISOString()),(0,c.u4)(c.qY.NOTIFICATIONS_ALERT_SHOWN,["comment_audience","comment_id","community_comment_id","created_at","id","mention_id","publication_id","sender_count","target_comment_id","target_community_comment_id","target_community_post_id","target_post_id","target_user_id","type"].reduce((e,t)=>(e[t]=null==A?void 0:A[t],e),{})),F()},2e3):C||w||Y())},[f,g,t,w,L,b,y]),(0,r.Y)(r.FK,{children:(b||_)&&g&&(0,r.Y)(l.e,{style:{position:"fixed",left:"auto",right:20,top:92,zIndex:100},appear:!0,show:b,beforeEnter:()=>k(!0),afterLeave:()=>k(!1),enter:p,enterFrom:"enterFrom-dljIVN",enterTo:"enterTo-HLLVxF",leave:p,leaveFrom:"leaveFrom-aHkaAL",leaveTo:"leaveTo-k1oI5e",children:(0,r.Y)(o.Q,{children:(0,r.Y)(u.pT,{radius:"md",border:"detail",className:"alert-pEnrFa",onMouseEnter:T,onMouseLeave:F,shadow:"lg",bg:"primary",children:(0,r.Y)(m.Ic,{module:"@/frontend/reader2/activity/MiniNotificationsViewer",resolve:e=>e.MiniNotificationsStack,onRequest:()=>Promise.all([n.e("39966"),n.e("33393"),n.e("76439")]).then(n.bind(n,47737)),result:g,isReadOnly:!0})})})})})}},11710:function(e,t,n){n.d(t,{_:()=>d});var r=n(4006),l=n(63701),i=n(84605),o=n(17028),a=n(16993),s=n(22238),c=n(74055);function d(e){let{isOpen:t,onClose:n,scheduledLiveStreams:d,onCancelStream:u}=e,{iString:m}=(0,i.GO)(),h=(0,r.Y)(o.pT,{bg:"accent-red",radius:"full",width:48,height:48,alignItems:"center",justifyContent:"center",children:(0,r.Y)(l.A,{color:"var(--color-accent-fg-red)"})});return(0,r.FD)(a.aF,{isOpen:t,onClose:n,width:540,children:[(0,r.Y)(a.rQ,{title:m("Scheduled live videos"),icon:h,showClose:!0,onClose:n}),(0,r.Y)(o.I1,{paddingX:20,paddingY:20,gap:20,className:c.A.streamList,children:d.map(e=>(0,r.Y)(s.Q,{stream:e,onCancelStream:u},e.liveStream.id))})]})}},15144:function(e,t,n){n.d(t,{D1:()=>l,d9:()=>i});var r=n(94729);let l=function(){let{before:e,tab:t="all"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async n=>{try{var l,i;let o=await (0,r.x6)("/api/v1/messages/inbox",{query:{paginate:"true",tab:t,before:e}});n({type:"inbox-new_items",payload:{threads:null==o?void 0:o.threads,hasMore:null==o?void 0:o.more,directMessagesUnreadCount:null==o?void 0:o.directMessagesUnreadCount,pendingInviteCount:null==o?void 0:o.pendingInviteCount,pendingInviteUnreadCount:null!=(l=null==o?void 0:o.pendingInviteUnreadCount)?l:null==o?void 0:o.pendingInviteCount,pubChatUnreadCount:null!=(i=null==o?void 0:o.pubChatUnreadCount)?i:0,mostRecentChatTimestamp:o.mostRecentChatTimestamp}})}catch(e){if(console.warn("error",e),e instanceof r.fk)n({type:"inbox-new_error",payload:{error:e}});else throw e}}},i=e=>async t=>{"direct-message"===e&&t(l({tab:"people"})),t({type:"inbox-set_filter",payload:e})}},78338:function(e,t,n){n.d(t,{Bf:()=>s,DF:()=>a,ly:()=>o});var r=n(69277),l=n(70408),i=n(38123);function o(e){var t,n,r;return e.link_title||(null==(t=e.postTag)?void 0:t.name)||(null==(n=e.section)?void 0:n.name)||(null==(r=e.post)?void 0:r.title)||""}function a(e){var t;return e.postTag?"tag":e.section?"section":(null==(t=e.post)?void 0:t.type)==="page"?"page":e.post?"post":"link"}function s(e,t){let{isChatActive:n,isMeetingsActive:o,hasMultipleNewsletters:a,isChatEnabled:s,isFeedEnabled:c,isReaderReferralsLeaderboardActive:d,language:u="en",useReordering:m=!1}=t,h=(function(e){let t=new Map;for(let n of e)t.set(n.id,(0,l._)((0,r._)({},n),{children:[]}));let n=[];for(let e of t.values())if(e.parent_id){let n=t.get(e.parent_id);n&&n.children.push(e)}else n.push(e);for(let e of t.values())e.children.length>0&&e.children.sort((e,t)=>e.sibling_rank-t.sibling_rank);return n.sort((e,t)=>e.sibling_rank-t.sibling_rank)})(e).filter(e=>!e.standard_key),p=new Map(e.filter(e=>e.standard_key).map(e=>[e.standard_key,e])),{iString:f}=I18N.i(u);for(let e of h){var g;(null==(g=e.section)?void 0:g.hide_from_navbar)&&(e.is_hidden=!0)}let v=[c&&{standard_key:"notes",link_title:"Notes",link_url:"/notes"},s&&{standard_key:"chat",link_title:"Chat",link_url:"/chat",is_hidden:!n},o&&{standard_key:"meetings",link_title:"Meetings",link_url:"/meetings"},...h,{standard_key:"archive",link_title:f("Archive"),link_url:"/archive"},a&&{standard_key:"newsletters",link_title:f("Newsletters"),link_url:"/newsletters",is_hidden:!0},d&&{standard_key:"leaderboard",link_title:f("Leaderboard"),link_url:"/leaderboard"},{standard_key:"about",link_title:f("About"),link_url:"/about"}].filter(e=>!!e).map(e=>{if(e.standard_key){let t=p.get(e.standard_key);if(t)return(0,i.qy)((0,r._)({},e),t)}return e});if(m){let e=["about","notes","chat","archive"];return[...v.filter(t=>!e.includes(t.standard_key||"")),...e.map(e=>v.find(t=>t.standard_key===e)).filter(e=>!!e)].filter(e=>!!e)}return v}},72550:function(e,t,n){n.d(t,{zC:()=>m});var r=n(69277),l=n(70408);n(50014);var i=n(8312),o=n(82776),a=n(58643);a.A.colors.primitive.gray["700"].toRgb();let s=a.A.colors.primitive.white,c=a.A.colors.primitive.black;(0,l._)((0,r._)({},s.toRgb()),{a:0});let d=a.A.colors.light,u=a.A.colors.dark;d.semantic.substack.bg.primary.toRgb(),d.semantic.substack.bg["primary-hover"].toRgb(),d.semantic.substack.bg["primary-hover"].toRgb(),(0,l._)((0,r._)({},d.semantic.substack.bg.primary.toRgb()),{a:.2}),s.toRgb(),(0,l._)((0,r._)({},d.semantic.substack.bg.primary.toRgb()),{a:.2}),(0,l._)((0,r._)({},d.semantic.substack.bg.primary.toRgb()),{a:.3}),u.semantic.substack.bg.primary.toRgb(),u.semantic.substack.bg["primary-hover"].toRgb(),u.semantic.substack.bg["primary-hover"].toRgb(),(0,l._)((0,r._)({},u.semantic.substack.bg.primary.toRgb()),{a:.2}),s.toRgb(),(0,l._)((0,r._)({},u.semantic.substack.bg.primary.toRgb()),{a:.2}),(0,l._)((0,r._)({},u.semantic.substack.bg.primary.toRgb()),{a:.3}),(0,l._)((0,r._)({},c.toRgb()),{a:.8}),(0,l._)((0,r._)({},c.toRgb()),{a:.5}),(0,l._)((0,r._)({},c.toRgb()),{a:.3}),d.semantic.substack.fg.primary.toRgb(),(0,l._)((0,r._)({},s.toRgb()),{a:.9}),(0,l._)((0,r._)({},s.toRgb()),{a:.5}),(0,l._)((0,r._)({},s.toRgb()),{a:.3}),u.semantic.substack.fg.primary.toRgb(),s.toRgb(),s.toRgb(),d.bg["primary-hover"].toRgb(),d.bg.primary.toRgb(),d.bg.secondary.toRgb(),d.bg.tertiary.toRgb(),d.bg.tertiary.toRgb(),d.bg.quaternary.toRgb(),u.bg.primary.toRgb(),u.bg["primary-hover"].toRgb(),u.bg["primary-hover"].toRgb(),u.bg.secondary.toRgb(),u.bg.tertiary.toRgb(),u.bg.tertiary.toRgb(),u.bg.quaternary.toRgb();let m=e=>{var t,n,l,a,s,c,d,u,m,h,p,f,g,v,b,y,_,k,w,Y,C,S,x,I,A,N,E,L,R,T,F,D,M,B,z,W,P,O,H;if(!e||!e.colors)return null;let q=(0,i.OK)(null==(t=e.fonts)?void 0:t.heading),V=(0,i.n0)(null==(n=e.fonts)?void 0:n.body);return(0,r._)({"--color-app-light-accent":(0,o.rgbaToString)(null==e||null==(l=e.colors)?void 0:l.accent.primary),"--color-app-light-accent-hover":(0,o.rgbaToString)(null==e||null==(a=e.colors)?void 0:a.accent.primary_hover),"--color-app-light-accent-inverse":(0,o.rgbaToString)(null==e||null==(s=e.colors)?void 0:s.accent.contrast),"--color-app-light-accent-text":(0,o.rgbaToString)(null==e||null==(c=e.colors)?void 0:c.fg.accent),"--color-app-dark-accent":(0,o.rgbaToString)(null==e||null==(d=e.colors)?void 0:d.accent.dark.primary),"--color-app-dark-accent-hover":(0,o.rgbaToString)(null==e||null==(u=e.colors)?void 0:u.accent.dark.primary_hover),"--color-app-dark-accent-inverse":(0,o.rgbaToString)(null==e||null==(m=e.colors)?void 0:m.accent.dark.contrast),"--color-app-dark-accent-text":(0,o.rgbaToString)(null==e||null==(p=e.colors)||null==(h=p.fg.dark)?void 0:h.accent),"--color-app-light-bg-accent":(0,o.rgbaToString)(null==e||null==(f=e.colors)?void 0:f.accent.bg),"--color-app-light-bg-accent-hover":(0,o.rgbaToString)(null==e||null==(g=e.colors)?void 0:g.accent.bg_hover),"--color-app-dark-bg-accent":(0,o.rgbaToString)(null==e||null==(v=e.colors)?void 0:v.accent.dark.bg),"--color-app-dark-bg-accent-hover":(0,o.rgbaToString)(null==e||null==(b=e.colors)?void 0:b.accent.dark.bg_hover),"--color-app-light-fg-primary":(0,o.rgbaToString)(null==e||null==(y=e.colors)?void 0:y.fg.primary),"--color-app-light-fg-secondary":(0,o.rgbaToString)(null==e||null==(_=e.colors)?void 0:_.fg.secondary),"--color-app-light-fg-tertiary":(0,o.rgbaToString)(null==e||null==(k=e.colors)?void 0:k.fg.tertiary),"--color-app-dark-fg-primary":(0,o.rgbaToString)(null==e||null==(Y=e.colors)||null==(w=Y.fg.dark)?void 0:w.primary),"--color-app-dark-fg-secondary":(0,o.rgbaToString)(null==e||null==(S=e.colors)||null==(C=S.fg.dark)?void 0:C.secondary),"--color-app-dark-fg-tertiary":(0,o.rgbaToString)(null==e||null==(I=e.colors)||null==(x=I.fg.dark)?void 0:x.tertiary),"--color-app-light-bg-primary":(0,o.rgbaToString)(null==e||null==(A=e.colors)?void 0:A.bg.primary),"--color-app-light-bg-primary-hover":(0,o.rgbaToString)(null==e||null==(N=e.colors)?void 0:N.bg.primary_hover),"--color-app-light-bg-secondary":(0,o.rgbaToString)(null==e||null==(E=e.colors)?void 0:E.bg.secondary),"--color-app-light-bg-tertiary":(0,o.rgbaToString)(null==e||null==(L=e.colors)?void 0:L.bg.tertiary),"--color-app-light-bg-quaternary":(0,o.rgbaToString)(null==e||null==(R=e.colors)?void 0:R.bg.quaternary),"--color-app-dark-bg-primary":(0,o.rgbaToString)(null==e||null==(F=e.colors)||null==(T=F.bg.dark)?void 0:T.primary),"--color-app-dark-bg-primary-hover":(0,o.rgbaToString)(null==e||null==(M=e.colors)||null==(D=M.bg.dark)?void 0:D.primary_hover),"--color-app-dark-bg-secondary":(0,o.rgbaToString)(null==e||null==(z=e.colors)||null==(B=z.bg.dark)?void 0:B.secondary),"--color-app-dark-bg-tertiary":(0,o.rgbaToString)(null==e||null==(P=e.colors)||null==(W=P.bg.dark)?void 0:W.tertiary),"--color-app-dark-bg-quaternary":(0,o.rgbaToString)(null==e||null==(H=e.colors)||null==(O=H.bg.dark)?void 0:O.quaternary)},V?{"--font-family-text":"".concat(V.fontFamily,", var(--font-family-text-base)")}:{},q?{"--font-family-title":"".concat(q.fontFamily,", var(--font-family-title-base)")}:{})}}}]);