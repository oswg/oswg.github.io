!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e.SENTRY_RELEASE={id:"substack@af5f699"};var t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="7b549407-f5c7-4964-82dc-6d695b47814b",e._sentryDebugIdIdentifier="sentry-dbid-7b549407-f5c7-4964-82dc-6d695b47814b")}catch(e){}}();"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["90875"],{44812:function(e,t,n){n.d(t,{A:()=>l});let l={backDrop:"backDrop-FxvQIL",liveStreamTitle:"liveStreamTitle-xahUfX",liveStreamContainer:"liveStreamContainer-NKIioJ",viewerCountContainer:"viewerCountContainer-uxBWdH",endedMessage:"endedMessage-Z3p5RL",endedMessageContent:"endedMessageContent-d_enFy",liveStreamExplicitLabel:"liveStreamExplicitLabel-roJA52",liveStreamThumbnail:"liveStreamThumbnail-uER3zj",explicit:"explicit-tw5du6",liveStreamVideoPlayer:"liveStreamVideoPlayer-tm5aYT"}},95836:function(e,t,n){n.d(t,{A:()=>l});let l={attachment:"attachment-E9mJrI",button:"button-uDQ6x4",logoContainer:"logoContainer-vqxwR7",bgImage:"bgImage-OTU5LC",header:"header-d8U2_d",gradientBG:"gradientBG-jbdaN9",gradientBg:"gradientBG-jbdaN9",pubDetails:"pubDetails-vkHFFR"}},41301:function(e,t,n){n.d(t,{A:()=>l});let l={tag:"tag-vx6tKM"}},4438:function(e,t,n){n.d(t,{A:()=>l});let l={link:"link-LIBpto"}},88946:function(e,t,n){n.d(t,{A:()=>l});let l={chip:"chip-lJKwY5",textOnly:"textOnly-SPwDNp",leading:"leading-TvXpau",trailing:"trailing-lhDVKn",clickable:"clickable-IxUlBk",disabled:"disabled-F1nG5l",fillIcon:"fillIcon-jYnt2U"}},21354:function(e,t,n){n.d(t,{A:()=>l});let l={countdownTimer:"countdownTimer-Hez1AS"}},1218:function(e,t,n){n.d(t,{A:()=>l});let l={videoPlayer:"videoPlayer-AdXrEr",videoPlayerContainer:"videoPlayerContainer-rPl28G",tagContainer:"tagContainer-S_oHWt"}},61143:function(e,t,n){n.d(t,{q:()=>A});var l=n(69277),i=n(4006),r=n(32485),a=n.n(r),o=n(93540),d=n(43850),c=n(17402),u=n(23623),s=n(31452),m=n(46271),v=n(94328),p=n(68349),h=n(68410),f=n(89490),g=n(76977),y=n(63136),b=n(68391),w=n(43296),Y=n(13348),S=n(59294),k=n(1235),I=n(55714),_=n(49807),C=n(57324),E=n(44812);let A=e=>{var t,n;let{activeLiveStream:r,fromPub:A=!1,listenForViewerCount:x=!0,isFeedItem:T=!1,videoPlayerProps:B,startMuted:F=!1}=e,D=(0,c.useRef)(null),N=(0,c.useRef)(null),[P,L]=(0,c.useState)(!T);(0,b.C4)({videoPlayerRef:D,showPaywall:!1,disable:P}),(0,c.useEffect)(()=>{if(P){let e=()=>{L(!1)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}},[P]),(0,c.useEffect)(()=>{var e;let t=null==(e=D.current)?void 0:e.player,n=()=>{t&&t.duration&&t.duration>1&&!isNaN(t.duration)&&(t.currentTime=t.duration-1),t&&(t.playbackRate=1)};return t&&t.addEventListener("play",n),()=>{null==t||t.removeEventListener("play",n)}},[D.current]);let O=(0,S.AC)(N),[M,R]=(0,c.useState)(r.liveStreamInformation.currentViewerCount),[z,j]=(0,c.useState)(!1),{isMobile:U}=(0,h.sM)(),V=(0,m.Qg)().autoPlayVideo,[H,G]=(0,c.useState)(!1);(0,c.useEffect)(()=>{let e;return H&&(e=setTimeout(()=>{G(!1)},4e3)),()=>{clearTimeout(e)}},[H]);let J=(0,w.XW)();(0,c.useEffect)(()=>{if(x)return null==J?void 0:J.listen({[(0,I.sl)({streamId:r.liveStream.id})]:e=>{var t,n;let{data:l}=e;(null==l||null==(t=l.message)?void 0:t.type)==="live-stream:viewer-count-updated"&&R(l.message.current_viewer_count),(null==l||null==(n=l.message)?void 0:n.type)==="live-stream:ended"&&j(!0)}})},[J,x]);let K=r.liveStreamInformation.isExplicit||"active"!==r.liveStream.status;return z?null:(0,i.FD)(g.pT,{position:"relative",overflow:"hidden",radius:"sm",ref:N,className:E.A.liveStreamContainer,onClick:e=>{if(e.stopPropagation(),"active"===r.liveStream.status){let e=(0,p.rr)()?(0,_.Xrv)({liveStreamId:r.liveStream.id,utm_campaign:C._9.substackProfile,params:(0,l._)({utm_medium:C.Jn.web},A&&{fromPub:A})}):(0,_.UUj)({noBase:!0,liveStreamId:r.liveStream.id,params:(0,l._)({utm_campaign:C._9.substackProfile,utm_medium:C.Jn.web},A&&{fromPub:A})});(0,p.rr)()?document.location.href=e:(0,p.V2)(e)}else G(!0)},cursor:"pointer",children:[K?(0,i.FD)(i.FK,{children:[r.liveStreamInformation.isExplicit&&(0,i.Y)(f.az,{position:"absolute",inset:0,zIndex:1,children:(0,i.FD)(g.I1,{className:E.A.liveStreamExplicitLabel,alignItems:"center",justifyContent:"center",gap:4,children:[(0,i.Y)(o.A,{stroke:"white",size:24}),(0,i.Y)(y.EY.B5,{color:"white",textAlign:"center",translated:!0,children:"May contain sensitive content"})]})}),(0,i.Y)("img",{className:a()(E.A.liveStreamThumbnail,r.liveStreamInformation.isExplicit&&E.A.explicit),src:r.liveStreamInformation.desktopThumbnailGifUrl,alt:"Live stream thumbnail"})]}):(0,i.Y)(s.N,(0,l._)({className:E.A.liveStreamVideoPlayer,ref:D,liveStreamId:r.liveStream.id,noKeyboardShortcuts:!0,noControls:!0,autoPlay:V,pub:r.pub||null,mediaUpload:{id:"ls-".concat(r.liveStream.id),width:1920,height:1080},noJoin:!0,thumbnailUrl:r.liveStreamInformation.desktopThumbnailPhotoUrl,isLive:!0,renderPlayButton:T?()=>(0,i.Y)(Y.ro,{isPlaying:!1,size:U?40:56}):void 0,startMuted:F},B),!0),"active"===r.liveStream.status&&(0,i.FD)(g.Ye,{gap:8,className:E.A.viewerCountContainer,children:[(0,i.Y)(v.LM,{}),(0,i.Y)(v.u8,{viewerCount:M})]}),H&&(0,i.Y)(g.Ye,{className:E.A.endedMessage,children:(0,i.FD)(g.I1,{className:E.A.endedMessageContent,padding:12,radius:"md",alignItems:"center",justifyContent:"center",gap:4,children:[(0,i.Y)(d.A,{size:24,stroke:"white"}),(0,i.Y)(y.EY.B3,{color:"white",children:"Live video has ended"})]})}),(0,i.Y)("div",{className:E.A.backDrop}),(0,i.FD)(g.Ye,{position:"absolute",style:{left:0,right:0,bottom:0,width:"100%",pointerEvents:"none"},direction:"row-reverse",alignItems:"end",children:[!K&&(0,i.Y)(f.az,{padding:12,onClick:e=>{e.stopPropagation()},style:{pointerEvents:"auto"},children:(0,i.Y)(k.A,{hideVolumeBar:!0,disableShortcuts:!1,disableTooltips:!1,isFocused:O,mediaRef:D})}),(0,i.Y)(u.a,{children:(0,i.Y)(g.I1,{className:E.A.liveStreamTitle,gap:4*!T,padding:T?12:16,style:{pointerEvents:"none"},children:T?(0,i.FD)(i.FK,{children:[(0,i.Y)(y.EY.B3,{weight:"semibold",color:"vibrance-primary",children:r.liveStream.title}),(0,i.Y)(y.EY.B4,{color:"vibrance-secondary",children:null==(t=r.pub)?void 0:t.name})]}):(0,i.FD)(i.FK,{children:[(0,i.Y)(y.EY.H4,{color:"vibrance-primary",children:r.liveStream.title}),(0,i.Y)(y.EY.B3,{color:"vibrance-secondary",children:null==(n=r.pub)?void 0:n.name})]})})})]})]})}},7984:function(e,t,n){n.d(t,{a:()=>s,x:()=>d});var l=n(4006),i=n(84605),r=n(89490),a=n(76977),o=n(44307);function d(e){let{country:t,type:n,id:r}=e,{iString:d}=(0,i.GO)(),u="https://embed.music.apple.com/".concat(t,"/").concat(n,"/").concat(r,"?theme=auto&app=music");return(0,l.Y)(a.pT,{radius:"md",outline:"detail",overflow:"hidden",className:o.A.appleMusic,children:(0,l.Y)(c,{src:u,height:"song"===n?"175":"450",frameBorder:0,allow:"encrypted-media *",title:d("Apple Music player"),sandbox:"allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation"})})}let c=(0,r.I4)({border:"unset",bg:"black",flex:"grow",radius:"md"},"iframe"),u=["album","playlist","song","artist","station"];function s(e){if(!e)return null;try{let t=new URL(e);if(!["music.apple.com","www.music.apple.com"].includes(t.host))return null;let n=t.pathname.split("/").filter(Boolean);if(n.length<3)return null;let[l,i,...r]=n,a=r[r.length-1];if(!l||!i||!a)return null;if("album"===i&&t.searchParams.has("i")){let e=t.searchParams.get("i");if(e)return{country:l,type:"song",id:e}}if(!u.includes(i))return null;return{country:l,type:i,id:a}}catch(e){return null}}},95887:function(e,t,n){n.d(t,{G:()=>p});var l=n(4006),i=n(17402),r=n(61143),a=n(68349),o=n(76977),d=n(91563),c=n(20437),u=n(74171),s=n(49807),m=n(57324),v=n(44307);function p(e){let{activeLiveStream:t,onAttachmentClick:n,maxWidth:p,videoPlayerProps:h,feedItem:f}=e,g=(0,a.rr)(),y=(0,i.useRef)(null),b=(0,c.wF)(y,p);if("scheduled"===t.liveStream.status)return(0,l.Y)(d.S,{liveStream:t,post:null,feedItem:f});let w=u.mc/u.ld,Y={};if(g){let e=null!=b?b:c.PH;Y={width:"".concat(e,"px"),height:"".concat(e/w,"px")}}else{let e=null!=b?b:c.di;Y={width:"".concat(e,"px"),height:"".concat(e/w,"px")}}return(0,l.Y)(o.I1,{width:"100%",ref:y,onClick:()=>{null==n||n({attachmentType:"live_stream",attachmentId:t.liveStream.id.toString()});let e=g?(0,s.Xrv)({liveStreamId:t.liveStream.id,utm_campaign:m._9.substackProfile,params:{utm_medium:m.Jn.web,appStoreRedirect:!!g}}):(0,s.UUj)({noBase:!0,liveStreamId:t.liveStream.id,params:{utm_campaign:m._9.substackProfile,utm_medium:m.Jn.web}});g?document.location.href=e:(0,a.V2)(e)},children:(0,l.Y)(o.I1,{style:Y,radius:"md",overflow:"hidden",position:"relative",className:v.A.videoPlayerContainer,children:(0,l.Y)(r.q,{activeLiveStream:t,listenForViewerCount:!1,isFeedItem:!0,videoPlayerProps:h,startMuted:!0})})})}},26401:function(e,t,n){n.d(t,{G:()=>m});var l=n(4006),i=n(17402),r=n(78649),a=n(84605),o=n(42686),d=n(35369),c=n(76977),u=n(63136),s=n(504);function m(e){let{attachment:t,readOnly:n,isRestack:m,onAttachmentClick:v,utm_content:p}=e,h=["you-blocked","you-muted"].includes(t.reason)&&!!t.hidden_attachment,[f,g]=(0,i.useState)(!1),{iString:y}=(0,a.GO)();return f&&t.hidden_attachment?(0,l.Y)(o.wR,{attachment:t.hidden_attachment,readOnly:n,isRestack:m,onAttachmentClick:v,utm_content:p}):(0,l.Y)(r.Q,{children:(0,l.FD)(c.pT,{bg:"primary",border:"detail",justifyContent:h?"space-between":"center",alignItems:"center",radius:"md",padding:16,children:[(0,l.Y)(u.EY.B4,{color:"secondary",align:"center",children:"you-blocked"===t.reason?"This note is from someone you blocked.":"you-muted"===t.reason?"This note is from someone you muted.":"This attachment is not available."}),h&&(0,l.Y)(d.Nm,{resetCss:!0,onClick:()=>{var e;(0,s.qx)(t.id,t.reason,{noteId:null==(e=t.hidden_attachment)?void 0:e.id}),g(!0)},children:(0,l.Y)(u.EY,{weight:"bold",size:14,color:"secondary",children:y("Show")})})]})})}n(50129)},65547:function(e,t,n){n.d(t,{E:()=>s});var l=n(4006),i=n(17402),r=n(56778),a=n(84605),o=n(60509),d=n(89490),c=n(76977),u=n(44307);function s(e){let{fullEmbedUrl:t,postId:n,eventSlug:d,marketSlug:s,profileName:v}=e,{iString:p}=(0,a.GO)(),h=(0,i.useRef)(null),[f,g]=(0,i.useState)(120);(0,i.useEffect)(()=>{let e=e=>{h.current&&e.source===h.current.contentWindow&&e.data.iframeHeight&&"number"==typeof e.data.iframeHeight&&g(e.data.iframeHeight)};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},[]);let y=(0,l.Y)(c.pT,{radius:"md",outline:"detail",overflow:"hidden",className:u.A.polymarket,minWidth:200,children:(0,l.Y)(m,{ref:h,src:t,height:f,frameBorder:0,allow:"clipboard-write; encrypted-media; fullscreen; picture-in-picture",title:p("Polymarket embed"),sandbox:"allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox"})});return d||v?(0,l.Y)(r.A,{onFirstVisible:()=>{(0,o.E)({eventSlug:d,marketSlug:s,profileName:v,postId:n})},children:y}):y}let m=(0,d.I4)({border:"unset",bg:"white",flex:"grow",radius:"md",width:"100%"},"iframe")},77181:function(e,t,n){n.d(t,{Y:()=>d,l:()=>u});var l=n(4006),i=n(84605),r=n(89490),a=n(76977),o=n(44307);function d(e){let{url:t,type:n}=e,{iString:r}=(0,i.GO)(),d=encodeURIComponent(t);return(0,l.Y)(a.pT,{radius:"md",outline:"detail",overflow:"hidden",className:o.A.soundcloud,children:(0,l.Y)(c,{src:"https://w.soundcloud.com/player/?url=".concat(d,"&color=%23ff6719&auto_play=false&hide_related=true&show_comments=false&show_user=true&show_reposts=false&show_teaser=false&visual=true"),height:"track"===n?"166":"300",frameBorder:0,scrolling:"no",title:r("Soundcloud player"),allow:"clipboard-write; encrypted-media; fullscreen; picture-in-picture",sandbox:"allow-scripts allow-same-origin"})})}let c=(0,r.I4)({border:"unset",bg:"black",flex:"grow",radius:"md"},"iframe");function u(e){if(!e)return null;try{let t=new URL(e);if(!["soundcloud.com","www.soundcloud.com","m.soundcloud.com"].includes(t.host))return null;let n=t.pathname.split("/").filter(Boolean);if(n.length<2)return null;let l="track";return n.includes("sets")?l="set":n.length>=2&&(l="track"),{url:e,type:l}}catch(e){return null}}},25667:function(e,t,n){n.d(t,{E:()=>d,x:()=>s});var l=n(4006),i=n(84605),r=n(89490),a=n(76977),o=n(44307);function d(e){let{embedType:t,resourceId:n}=e,{iString:r}=(0,i.GO)();if(!n)return null;let d="https://open.spotify.com/embed/".concat(t,"/").concat(n);return(0,l.Y)(a.pT,{radius:"md",outline:"detail",overflow:"hidden",className:o.A.spotify,children:(0,l.Y)(c,{src:d,height:"playlist"===t||"album"===t?"352":"152",frameBorder:0,allow:"clipboard-write; encrypted-media; fullscreen; picture-in-picture",title:r("Spotify player"),sandbox:"allow-scripts allow-same-origin"})})}let c=(0,r.I4)({border:"unset",bg:"black",flex:"grow",radius:"md"},"iframe"),u=["track","playlist","show","episode","artist","album"];function s(e){if(!e)return null;try{let t=new URL(e);if(!["spotify.com","www.spotify.com","open.spotify.com","play.spotify.com","embed.spotify.com"].includes(t.host))return null;let n=t.pathname.split("/").filter(Boolean);if(n.length<2)return null;let[l,i]=n;if(!u.includes(l))return null;return{embedType:l,resourceId:i}}catch(e){return null}}},81992:function(e,t,n){n.d(t,{ot:()=>s});var l=n(4006),i=n(2675),r=n(25859),a=n(63136),o=n(83629),d=n(50129),c=n(49807),u=n(11993);function s(e){let{attachments:t,readOnly:n,onAttachmentClick:i,utm_content:r}=e;if(0===t.length)return null;let a=t.filter(e=>"image"!==e.type&&"video"!==e.type&&!("post"===e.type&&e.postSelection));return(0,l.Y)(l.FK,{children:a.map(e=>(0,l.Y)(m,{attachment:e,readOnly:n,onAttachmentClick:i,utm_content:r},e.id))})}function m(e){let{attachment:t,readOnly:n,onAttachmentClick:i,utm_content:r}=e,o=null;return(0,d._d)(t)?null:("textlink"===t.type&&(o=(0,l.Y)(v,{url:t.url,readOnly:n,onClick:()=>{null==i||i()}})),"link"===t.type&&(o=(0,l.Y)(p,{readOnly:n,onClick:i,url:t.linkMetadata.url},t.id)),"post"===t.type&&(o=(0,l.Y)(h,{readOnly:n,post:t.post,publication:t.publication,onClick:i},t.id)),"comment"===t.type&&(o=(0,l.Y)(g,{comment:t.comment,readOnly:n,onAttachmentClick:i,utm_content:r},t.id)),"publication"===t.type&&(o=(0,l.Y)(f,{readOnly:n,publication:t.publication,onClick:i},t.id)),o?(0,l.Y)(a.EY.B4,{color:"highlight",children:o}):null)}function v(e){let{url:t,readOnly:n,onClick:i}=e;return(0,l.Y)(a.EY.B4,{decoration:"hover-underline",style:{color:"var(--color-link-fg)"},children:(0,l.Y)(r.Yq,{onClick:i,href:n?void 0:t,rel:"nofollow noopener ugc",target:"_blank",children:(0,u.H)(t,48)})})}function p(e){let{url:t,readOnly:n,onClick:i}=e;return(0,l.Y)(v,{url:t,readOnly:n,onClick:i})}function h(e){let{post:t,publication:n,readOnly:r,onClick:a}=e,o=(0,c.wu9)(n,t,{feedViewer:!1}),d=(0,i.vZ)({post:t,publication:n,readOnly:r,onClick:a});return(0,l.Y)(v,{url:o,readOnly:r,onClick:()=>{d(new MouseEvent("click"))}})}function f(e){let{publication:t,readOnly:n,onClick:i}=e;return(0,l.Y)(v,{url:t.base_url,readOnly:n,onClick:i})}function g(e){let{comment:t,readOnly:n,onAttachmentClick:i,utm_content:r}=e,a=(0,c.Zgx)(t,{noBase:o.Z,urlParams:{utm_content:null!=r?r:void 0}});return(0,l.Y)(v,{url:a,readOnly:n,onClick:()=>null==i?void 0:i({commentId:String(t.id)})})}},9079:function(e,t,n){n.d(t,{k:()=>o});var l=n(4006),i=n(89490),r=n(76977),a=n(44307);function o(e){let{videoId:t}=e;return(0,l.Y)(r.pT,{radius:"md",outline:"detail",overflow:"hidden",className:a.A.tiktok,children:(0,l.Y)(d,{src:"https://www.tiktok.com/player/v1/".concat(t,"?").concat("volume_control=0&loop=1&timestamp=0&closed_caption=0&play_button=1&fullscreen_button=0"),frameBorder:0})})}let d=(0,i.I4)({className:a.A.tiktokIframe,border:"unset",bg:"black",flex:"grow",radius:"md"},"iframe")},90856:function(e,t,n){n.d(t,{f:()=>b});var l=n(69277),i=n(70408),r=n(4006),a=n(78649),o=n(58050),d=n(84605),c=n(46271),u=n(99662),s=n(24078),m=n(35369),v=n(65915),p=n(76977),h=n(81203),f=n(63136),g=n(39318),y=n(44307);function b(e){let{attachment:t,readOnly:n,onClick:l,noteId:i}=e,{user:a}=t,{iString:o}=(0,d.GO)(),c=a.primaryPublication,u=a.name||o("Substack user");return(0,r.Y)(w,{readOnly:n,onClick:l,user:a,children:(0,r.FD)(p.VP,{gap:12,padding:12,children:[(0,r.FD)(p.fI,{gap:12,alignItems:"start",children:[(0,r.FD)(p.VP,{gap:8,minWidth:0,flex:"grow",children:[(0,r.FD)(p.VP,{children:[(0,r.Y)(f.EY.B2,{color:"primary",weight:"medium",ellipsis:!0,nowrap:!0,children:u}),a.handle&&(0,r.FD)(f.EY.B4,{color:"secondary",ellipsis:!0,nowrap:!0,children:["@",a.handle]})]}),a.bio&&(0,r.Y)(f.EY.B4,{color:"primary",clamp:3,children:a.bio})]}),(0,r.Y)(s.eu,{user:a,size:72,radius:"full"})]}),c&&(0,r.Y)(p.fI,{children:(0,r.Y)(v.v,{leading:(0,r.Y)(h.Nq,{pub:c,size:20,radius:"full"}),href:(0,g.fOI)(c),newTab:!0,onClick:e=>{e.stopPropagation(),null==l||l()},children:c.name})}),a.subscriberCountString&&(0,r.Y)(f.EY.B4,{color:"secondary",children:a.subscriberCountString}),!n&&(0,r.Y)(Y,{user:a,noteId:i,onClick:l})]})})}let w=e=>{let{readOnly:t,onClick:n,user:l,children:i}=e,o=(0,g.gYq)({id:l.id,name:l.name,handle:l.handle});return(0,r.Y)(a.Q,{children:(0,r.Y)(p.VP,{as:t?"div":"a",className:y.A.postAttachment,position:"relative",bg:"primary",radius:"md",target:(0,u.y)()?"_blank":void 0,rel:(0,u.y)()?"noopener noreferrer":void 0,minWidth:0,onClick:n,href:t?void 0:o,draggable:!1,showFocus:!0,animate:!0,children:i})})};function Y(e){let{user:t,noteId:n,onClick:a}=e,{iString:u}=(0,d.GO)(),s=(0,c.Jd)(),{isFollowing:v,buttonProps:p}=(0,o.km)(t,"user-attachment",n);if((null==s?void 0:s.id)===t.id){let e=(0,g.gYq)({id:t.id,name:t.name,handle:t.handle});return(0,r.Y)(m.$n,{size:"md",priority:"secondary-outline",width:"100%",href:e,onClick:e=>{e.stopPropagation(),null==a||a()},children:u("View profile")})}return(0,r.Y)(m.$n,(0,i._)((0,l._)({size:"md",priority:v?"secondary":"primary",width:"100%"},p),{onClick:e=>{e.preventDefault(),e.stopPropagation(),null==a||a(),p.onClick()},children:u(v?"Following":"Follow")}))}},46478:function(e,t,n){n.d(t,{H:()=>o});var l=n(4006),i=n(89490),r=n(76977),a=n(44307);function o(e){let{videoId:t}=e;return(0,l.Y)(r.pT,{radius:"md",outline:"detail",overflow:"hidden",className:a.A.youtube,children:(0,l.Y)(d,{src:"https://www.youtube.com/embed/".concat(t),frameBorder:0})})}let d=(0,i.I4)({className:a.A.youtubeIframe,border:"unset",bg:"black",flex:"grow"},"iframe")},65915:function(e,t,n){n.d(t,{v:()=>u});var l=n(4006),i=n(32485),r=n.n(i),a=n(17402),o=n(17028),d=n(75303),c=n(88946);let u=(0,a.forwardRef)((e,t)=>{let{children:n,trailing:i,leading:a,href:u,onClick:s,fillIcon:m,newTab:v,flex:p,className:h,disabled:f}=e,g=u||s,y=!a&&!i;return(0,l.FD)(o.Nm,{resetCss:!0,ref:t,className:r()(c.A.chip,m&&c.A.fillIcon,g&&c.A.clickable,y&&c.A.textOnly,f&&c.A.disabled,h),flex:p,href:u,onClick:s,pressable:g?"sm":void 0,newTab:v,disabled:f,children:[a&&(0,l.Y)(d.ov,{className:c.A.leading,children:a}),(0,l.Y)(o.EY.B4,{color:f?"tertiary":"primary",userSelect:"none",ellipsis:!0,children:n}),i&&(0,l.Y)(d.ov,{className:c.A.trailing,children:i})]})})},91563:function(e,t,n){n.d(t,{S:()=>w});var l=n(4006),i=n(17402),r=n(23623),a=n(61143),o=n(84605),d=n(94729),c=n(56804),u=n(68349),s=n(89490),m=n(35369),v=n(76977),p=n(63136),h=n(504),f=n(38992),g=n(16291),y=n(49807),b=n(21354);function w(e){var t;let{liveStream:n,post:w,feedItem:S}=e,{iString:k}=(0,o.GO)(),{liveStream:I}=(0,f.u)({liveStream:n}),[_,C]=(0,i.useState)((0,g.A)(null==I?void 0:I.liveStream.scheduled_at).valueOf()-Date.now()),[E,A]=(0,i.useState)((0,g.A)(null==I?void 0:I.liveStream.scheduled_at).isAfter((0,g.A)().add(15,"minutes")));if((0,i.useEffect)(()=>{(null==I?void 0:I.liveStream.scheduled_at)&&A((0,g.A)(I.liveStream.scheduled_at).isAfter((0,g.A)().add(15,"minutes")))},[I]),(0,i.useEffect)(()=>{(null==I?void 0:I.liveStream.scheduled_at)&&C((0,g.A)(I.liveStream.scheduled_at).valueOf()-Date.now());let e=setInterval(()=>{C((0,g.A)(null==I?void 0:I.liveStream.scheduled_at).valueOf()-Date.now())},1e3);return()=>clearInterval(e)},[I]),!(null==I?void 0:I.liveStream.id))return null;if((null==I?void 0:I.liveStream.status)==="active")return(0,l.Y)(a.q,{activeLiveStream:I,isFeedItem:!0,listenForViewerCount:!1});let x=Math.max(_/1e3,0),T=Math.floor(x/60/60/24),B=Math.floor(x/60/60%24),F=Math.floor(x/60%60),D=String(T).padStart(2,"0"),N=String(B).padStart(2,"0"),P=String(F).padStart(2,"0"),L=String(Math.floor(x%60)).padStart(2,"0"),O=(0,y.Xrv)({liveStreamId:null==I?void 0:I.liveStream.id});return(0,l.Y)(r.a,{children:(0,l.FD)(s.az,{as:"a",onClick:e=>{S&&((0,h.Qb)(S,"permalink","attachment",{extraEventProps:{live_stream_id:null==I?void 0:I.liveStream.id,post_id:null==w?void 0:w.id}}),(0,c.o)(e,O))},href:(0,y.Xrv)({liveStreamId:null==I?void 0:I.liveStream.id}),radius:"md",overflow:"hidden",children:[(0,l.Y)(v.pT,{gap:12,padding:12,alignItems:"center",justifyContent:"space-between",bg:"black",children:E?(0,l.Y)(v.pT,{className:b.A.countdownTimer,justifyContent:"center",alignItems:"center",children:(0,l.FD)(v.pT,{children:[T>0?(0,l.FD)(l.FK,{children:[(0,l.Y)(Y,{value:D,unit:"DAYS"}),(0,l.Y)(v.pT,{height:40,width:20,alignItems:"end",justifyContent:"center",children:(0,l.Y)(p.EY.B4,{color:"white",fontSize:30,lineHeight:30,children:":"})})]}):null,(0,l.Y)(Y,{value:N,unit:"HR"}),(0,l.Y)(v.pT,{height:40,width:20,alignItems:"end",justifyContent:"center",children:(0,l.Y)(p.EY.B4,{color:"white",fontSize:30,lineHeight:30,children:":"})}),(0,l.Y)(Y,{value:P,unit:"MIN"}),0===T?(0,l.FD)(l.FK,{children:[(0,l.Y)(v.pT,{height:40,width:20,alignItems:"end",justifyContent:"center",children:(0,l.Y)(p.EY.B4,{color:"white",fontSize:30,lineHeight:30,children:":"})}),(0,l.Y)(Y,{value:L,unit:"SEC"})]}):null]})}):(0,l.FD)(v.I1,{className:b.A.countdownTimer,justifyContent:"center",alignItems:"center",gap:4,children:[(0,l.FD)(v.pT,{children:[(0,l.Y)(Y,{value:P}),(0,l.Y)(v.pT,{height:40,width:20,alignItems:"end",justifyContent:"center",children:(0,l.Y)(p.EY.B4,{color:"white",fontSize:30,lineHeight:30,children:":"})}),(0,l.Y)(Y,{value:L})]}),(0,l.Y)(p.EY.B4,{color:"vibrance-secondary",transform:"uppercase",children:k("Starting soon...")})]})}),(0,l.FD)(v.pT,{gap:12,padding:12,alignItems:"center",justifyContent:"space-between",bg:"secondary",borderTop:"detail",children:[(0,l.FD)(v.I1,{gap:4,children:[(0,l.Y)(p.EY.B4,{color:"vibrance-secondary",children:null==I||null==(t=I.liveStream.user)?void 0:t.name}),(0,l.Y)(p.EY.B4,{weight:"bold",color:"white",children:null==I?void 0:I.liveStream.title})]}),(0,l.Y)(m.$n,{priority:"primary",onClick:async e=>{null==e||e.preventDefault(),null==e||e.stopPropagation(),S&&(0,h.Qb)(S,"permalink","add_to_calendar",{extraEventProps:{live_stream_id:null==I?void 0:I.liveStream.id,post_id:null==w?void 0:w.id}});try{await (0,d.x6)("/api/v1/live_stream/".concat(null==I?void 0:I.liveStream.id,"/rsvp"),{method:"PUT"})}catch(e){console.error(e)}(0,u.V2)((0,y.Xrv)({liveStreamId:null==I?void 0:I.liveStream.id}),{local_navigation:!1})},children:E?"Interested":"Join now"})]})]})})}let Y=e=>{let{value:t,unit:n}=e;return(0,l.FD)(v.I1,{alignItems:"center",gap:4,children:[(0,l.Y)(v.I1,{justifyContent:"end",alignItems:"center",height:40,children:(0,l.Y)(p.EY.B4,{font:"digit",fontSize:30,lineHeight:30,color:"white",children:t})}),n&&(0,l.Y)(p.EY.B4,{color:"vibrance-secondary",children:n})]})}},38992:function(e,t,n){n.d(t,{u:()=>d});var l=n(17402),i=n(94729),r=n(43296),a=n(16291),o=n(55714);let d=e=>{var t,n;let{liveStream:d}=e,c=(0,r.XW)(),[u,s]=(0,l.useState)(null),[m,v]=(0,l.useState)(d),[p,h]=(0,l.useState)(null);return(0,l.useEffect)(()=>{v(d)},[d]),(0,l.useEffect)(()=>{if(!m||"scheduled"!==m.liveStream.status)return;let e=(0,a.A)(m.liveStream.scheduled_at),t=(0,a.A)();if(9e5>e.diff(t)){let e=setInterval(()=>{(0,i.x6)("/api/v1/live_stream/".concat(m.liveStream.id)).then(e=>{"scheduled"!==e.activeLiveStream.liveStream.status&&(s(null),h(e.activeLiveStream))}).catch(e=>{console.error(e)})},1e3);s(e)}return null==c?void 0:c.listen({[(0,o.sl)({streamId:m.liveStream.id})]:e=>{var t;let{data:n}=e;(null==n||null==(t=n.message)?void 0:t.type)==="live-stream:started"&&((0,i.x6)("/api/v1/live_stream/".concat(m.liveStream.id)).then(e=>{h(e.activeLiveStream)}).catch(e=>{console.error(e)}),u&&s(null))}})},[null==m||null==(t=m.liveStream)?void 0:t.id,null==m||null==(n=m.liveStream)?void 0:n.status,c]),(0,l.useEffect)(()=>{if(p){let e=p.liveStream.is_rtmp?p.liveStreamInformation.playbackUrl:p.liveStreamInformation.desktopPlaybackUrl;if(e){let t=setInterval(()=>{(0,i.x6)(e).then(()=>{s(null),v(p),h(null)})},1e3);s(t)}}},[p]),(0,l.useEffect)(()=>()=>{u&&clearInterval(u)},[u]),{liveStream:m,setLiveStream:v}}},1235:function(e,t,n){n.d(t,{A:()=>y});var l=n(4006),i=n(78659),r=n.n(i),a=n(63122),o=n(55584),d=n(72985),c=n(25027),u=n(17402),s=n(68410),m=n(76977),v=n(68940),p=n(66511),h=n(59294),f=n(59537),g=n(57732);let y=e=>{let{mediaRef:t,isFocused:n,disableShortcuts:i,disableTooltips:y=!1,hideVolumeBar:b=!1}=e,{isMobile:w}=(0,s.sM)(),[Y,S]=(0,u.useState)(0),[k,I]=(0,u.useState)(!1),[_,C]=(0,u.useState)(!1),E=(0,u.useRef)(null),A=e=>{let n=0;if(E.current){var l;let i=E.current.getBoundingClientRect(),a=(e.clientX-i.left)/i.width;S(n=r()(a,0,1)),localStorage.setItem("video_player:volume",n.toString()),(null==(l=t.current)?void 0:l.player)&&(t.current.player.volume=n)}k&&n>0&&F()},x=e=>{C(!0),A(e)},T=()=>{C(!1),document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",T),document.removeEventListener("selectstart",B)},B=e=>{_&&e.preventDefault()};(0,u.useEffect)(()=>{var e,n,l,i,a,o;let d=parseFloat(null!=(i=localStorage.getItem("video_player:volume"))?i:"");if(I(null!=(a=null==(n=t.current)||null==(e=n.player)?void 0:e.muted)&&a),isNaN(d))(null==(l=t.current)?void 0:l.player)&&S(t.current.player.volume);else{let e=r()(d,0,1);S(e),(null==(o=t.current)?void 0:o.player)&&(t.current.player.volume=e)}return()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",T),document.removeEventListener("selectstart",B)}},[]);let F=()=>{var e;(null==(e=t.current)?void 0:e.player)&&(t.current.player.muted=!k)},D=()=>{var e;(null==(e=t.current)?void 0:e.player)&&I(t.current.player.muted)};return(0,u.useEffect)(()=>{var e;return(null==(e=t.current)?void 0:e.player)&&t.current.player.addEventListener("volumechange",D),()=>{var e;(null==(e=t.current)?void 0:e.player)&&t.current.player.removeEventListener("volumechange",D)}},[]),(0,h._N)("m",F,n&&!i),(0,l.FD)(m.Ye,{className:g.A.mainContainer,justifyContent:"center",alignItems:"center",position:"relative",children:[(0,l.Y)(p.m_,{disabled:y,text:k?"Unmute":"Mute",trailing:i?void 0:(0,l.Y)(v.u,{children:"M"}),children:(0,l.Y)(f.A,{onClick:F,children:k?(0,l.Y)(a.A,{size:18}):Y>.6||w?(0,l.Y)(o.A,{size:18}):Y>.3?(0,l.Y)(d.A,{size:18}):(0,l.Y)(c.A,{size:18})})}),!w&&!b&&(0,l.Y)(m.Ye,{className:g.A.volumeBarContainer,justifyContent:"center",alignItems:"center",onMouseDown:e=>{e.preventDefault(),C(!0),A(e),document.addEventListener("mousemove",x),document.addEventListener("mouseup",T),document.addEventListener("selectstart",B)},children:(0,l.Y)("div",{className:g.A.volumeBar,ref:E,children:(0,l.Y)("div",{className:g.A.volumeLevel,style:{width:"".concat(100*Y,"%")}})})})]})}},95147:function(e,t,n){n.d(t,{B:()=>function e(t){let n=0;if(t)if(t.content&&t.content.length>0)for(let l of t.content)n+=e(l);else{var l,i;n+=null!=(i=null==(l=t.text)?void 0:l.length)?i:0}return n},M:()=>r});var l=n(88420),i=n(79207);function r(e){let t=0;return(0,i.jE)(e,e=>{e.type&&l.b.includes(e.type)&&("codeBlock"===e.type&&e.content?e.content.forEach(e=>{if("text"===e.type){var n,l;t+=(null!=(l=(null!=(n=e.text)?n:"").match(/\n/g))?l:[]).length+1}}):t++)}),t}},41245:function(e,t,n){n.d(t,{Z:()=>function e(t,n){var r;let o=[],d=!1,c=0;for(let l of null!=(r=t.content)?r:[]){if(l.type&&a.b.includes(l.type)){if(++c===n){d=!0,o.push(l);break}}else if(l.content){let t=e(l,n-c);if(c+=t.blockCount,t.isTruncated){o.push(t.doc),d=!0;break}}o.push(l)}let u=(0,i._)((0,l._)({},t),{content:o});return t.text&&(u.text=t.text.split(/\n/g).slice(0,n).join("\n")),{doc:u,blockCount:c,isTruncated:d}},x:()=>function e(t){let{limit:n=420}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=null,o=0,d=!1;if(t){var c,u,s,m;if(n<=0)d=!0;else if(t.content&&t.content.length>0)for(let r of(a=(0,i._)((0,l._)({},t),{content:[]}),t.content)){let t=e(r,{limit:n-o});if(t.doc){if(null==(c=a.content)||c.push(t.doc),o+=t.length,t.isTruncated){d=!0;break}}else{d=!0;break}}else o+=null!=(m=null==(u=(a=(0,i._)((0,l._)({},t),{text:null!=(s=(0,r.truncateText)(t.text,n))?s:void 0})).text)?void 0:u.length)?m:0,t.text!==a.text&&(d=!0)}return{doc:a,length:o,isTruncated:d}}});var l=n(69277),i=n(70408),r=n(82776),a=n(88420)}}]);