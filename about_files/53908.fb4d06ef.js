!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e.SENTRY_RELEASE={id:"substack@af5f699"};var t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="33bd6fc8-5e6a-4ed9-8b84-8db3701cab6d",e._sentryDebugIdIdentifier="sentry-dbid-33bd6fc8-5e6a-4ed9-8b84-8db3701cab6d")}catch(e){}}();"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["53908"],{11167:function(e,t,n){n.d(t,{BE:()=>J,Es:()=>S,Tk:()=>W,Tn:()=>u,X3:()=>R,ZH:()=>o,aw:()=>K,b0:()=>l,bZ:()=>b,bu:()=>N,dO:()=>O,iX:()=>$,lK:()=>L,lg:()=>A,mF:()=>V,mf:()=>k,qm:()=>H,qv:()=>a,r9:()=>_,rL:()=>s,sb:()=>q,uv:()=>j});var r=n(17402);let i=()=>{},o=i(),a=Object,l=e=>e===o,u=e=>"function"==typeof e,s=(e,t)=>({...e,...t}),d=new WeakMap,f=0,c=e=>{let t,n,r=typeof e,i=e&&e.constructor,o=i==Date;if(a(e)!==e||o||i==RegExp)t=o?e.toJSON():"symbol"==r?e.toString():"string"==r?JSON.stringify(e):""+e;else{if(t=d.get(e))return t;if(t=++f+"~",d.set(e,t),i==Array){for(n=0,t="@";n<e.length;n++)t+=c(e[n])+",";d.set(e,t)}if(i==a){t="#";let r=a.keys(e).sort();for(;!l(n=r.pop());)l(e[n])||(t+=n+":"+c(e[n])+",");d.set(e,t)}}return t},b=new WeakMap,w={},E={},y="undefined",p=typeof window!=y,g=typeof document!=y,_=(e,t)=>{let n=b.get(e);return[()=>!l(t)&&e.get(t)||w,r=>{if(!l(t)){let i=e.get(t);t in E||(E[t]=i),n[5](t,s(i,r),i||w)}},n[6],()=>!l(t)&&t in E?E[t]:!l(t)&&e.get(t)||w]},h=!0,[v,m]=p&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[i,i],T={initFocus:e=>(g&&document.addEventListener("visibilitychange",e),v("focus",e),()=>{g&&document.removeEventListener("visibilitychange",e),m("focus",e)}),initReconnect:e=>{let t=()=>{h=!0,e()},n=()=>{h=!1};return v("online",t),v("offline",n),()=>{m("online",t),m("offline",n)}}},O=!r.default.useId,R=!p||"Deno"in window,k=e=>p&&typeof window.requestAnimationFrame!=y?window.requestAnimationFrame(e):setTimeout(e,1),S=R?r.useEffect:r.useLayoutEffect,C="undefined"!=typeof navigator&&navigator.connection,D=!R&&C&&(["slow-2g","2g"].includes(C.effectiveType)||C.saveData),L=e=>{if(u(e))try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?c(e):"",t]},I=0,A=()=>++I;var N={__proto__:null,ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:0,MUTATE_EVENT:2,RECONNECT_EVENT:1};async function V(...e){let[t,n,r,i]=e,a=s({populateCache:!0,throwOnError:!0},"boolean"==typeof i?{revalidate:i}:i||{}),d=a.populateCache,f=a.rollbackOnError,c=a.optimisticData,w=!1!==a.revalidate,E=a.throwOnError;if(u(n)){let e=[];for(let r of t.keys())!/^\$(inf|sub)\$/.test(r)&&n(t.get(r)._k)&&e.push(r);return Promise.all(e.map(y))}return y(n);async function y(n){let i,[a]=L(n);if(!a)return;let[s,y]=_(t,a),[p,g,h,v]=b.get(t),m=p[a],T=()=>w&&(delete h[a],delete v[a],m&&m[0])?m[0](2).then(()=>s().data):s().data;if(e.length<3)return T();let O=r,R=A();g[a]=[R,0];let k=!l(c),S=s(),C=S.data,D=S._c,I=l(D)?C:D;if(k&&y({data:c=u(c)?c(I,C):c,_c:I}),u(O))try{O=O(I)}catch(e){i=e}if(O&&u(O.then)){let e;if(O=await O.catch(e=>{i=e}),R!==g[a][0]){if(i)throw i;return O}i&&k&&(e=i,"function"==typeof f?f(e):!1!==f)&&(d=!0,y({data:O=I,_c:o}))}d&&!i&&(u(d)&&(O=d(O,I)),y({data:O,error:o,_c:o})),g[a][1]=A();let N=await T();if(y({_c:o}),i){if(E)throw i;return}return d?N:O}}let F=(e,t)=>{for(let n in e)e[n][0]&&e[n][0](t)},M=(e,t)=>{if(!b.has(e)){let n=s(T,t),r={},a=V.bind(o,e),l=i,u={},d=(e,t)=>{let n=u[e]||[];return u[e]=n,n.push(t),()=>n.splice(n.indexOf(t),1)},f=(t,n,r)=>{e.set(t,n);let i=u[t];if(i)for(let e of i)e(n,r)},c=()=>{if(!b.has(e)&&(b.set(e,[r,{},{},{},a,f,d]),!R)){let t=n.initFocus(setTimeout.bind(o,F.bind(o,r,0))),i=n.initReconnect(setTimeout.bind(o,F.bind(o,r,1)));l=()=>{t&&t(),i&&i(),b.delete(e)}}};return c(),[e,a,c,l]}return[e,b.get(e)[4]]},[x,W]=M(new Map),q=s({onLoadingSlow:i,onSuccess:i,onError:i,onErrorRetry:(e,t,n,r,i)=>{let o=n.errorRetryCount,a=i.retryCount,u=~~((Math.random()+.5)*(1<<(a<8?a:8)))*n.errorRetryInterval;(l(o)||!(a>o))&&setTimeout(r,u,i)},onDiscarded:i,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:D?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:D?5e3:3e3,compare:(e,t)=>c(e)==c(t),isPaused:()=>!1,cache:x,mutate:W,fallback:{}},{isOnline:()=>h,isVisible:()=>{let e=g&&document.visibilityState;return l(e)||"hidden"!==e}}),U=(e,t)=>{let n=s(e,t);if(t){let{use:r,fallback:i}=e,{use:o,fallback:a}=t;r&&o&&(n.use=r.concat(o)),i&&a&&(n.fallback=s(i,a))}return n},P=(0,r.createContext)({}),J=e=>{let{value:t}=e,n=(0,r.useContext)(P),i=u(t),a=(0,r.useMemo)(()=>i?t(n):t,[i,n,t]),l=(0,r.useMemo)(()=>i?a:U(n,a),[i,n,a]),d=a&&a.provider,f=(0,r.useRef)(o);d&&!f.current&&(f.current=M(d(l.cache||x),a));let c=f.current;return c&&(l.cache=c[0],l.mutate=c[1]),S(()=>{if(c)return c[2]&&c[2](),c[3]},[]),(0,r.createElement)(P.Provider,s(e,{value:l}))},X=p&&window.__SWR_DEVTOOLS_USE__,Z=X?window.__SWR_DEVTOOLS_USE__:[],$=()=>s(q,(0,r.useContext)(P)),j=(e,t)=>{let[n,r]=L(e),[,,,i]=b.get(x);if(i[n])return i[n];let o=t(r);return i[n]=o,o},B=Z.concat(e=>(t,n,r)=>{let i=n&&((...e)=>{let[r]=L(t),[,,,i]=b.get(x),o=i[r];return l(o)?n(...e):(delete i[r],o)});return e(t,i,r)}),H=e=>function(...t){let n=$(),[r,i,o]=u(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(null===t[1]?t[2]:t[1])||{}],a=U(n,o),l=e,{use:s}=a,d=(s||[]).concat(B);for(let e=d.length;e--;)l=d[e](l);return l(r,i||a.fetcher||null,a)},K=(e,t,n)=>{let r=t[e]||(t[e]=[]);return r.push(n),()=>{let e=r.indexOf(n);e>=0&&(r[e]=r[r.length-1],r.pop())}};X&&(window.__SWR_DEVTOOLS_REACT__=r.default)}}]);