!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e.SENTRY_RELEASE={id:"substack@af5f699"};var t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="2890da5c-a504-4ce0-8045-020f11289eae",e._sentryDebugIdIdentifier="sentry-dbid-2890da5c-a504-4ce0-8045-020f11289eae")}catch(e){}}();"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["61833"],{24311:function(e,t,n){n.d(t,{A:()=>i});let i={input:"input-y4v6N4",textarea:"textarea-GbEjRX",autogrowing:"autogrowing-_ipn9Y",inputText:"inputText-pV_yWb",inputWithButtonWrapper:"inputWithButtonWrapper-qFTACT",primary:"primary-MUgbK6","secondary-outline":"secondary-outline-JXafwf",secondaryOutline:"secondary-outline-JXafwf",inputWithButtonInput:"inputWithButtonInput-KDznfS",start:"start-p226EZ",end:"end-LEvC6s",segmentedInputContainer:"segmentedInputContainer-BnsX3X",inputWithButtonButton:"inputWithButtonButton-SsgPne",focus:"focus-nqjos7",leading:"leading-hoxUwz",trailing:"trailing-cHz8Pv",error:"error-QSGsmD",disabled:"disabled-bZ2Wej",readOnly:"readOnly-yVYuPy",wrapper:"wrapper-JJvHsG",position_leading:"position_leading-_w7oUS",positionLeading:"position_leading-_w7oUS",size_sm:"size_sm-nn6jzC",sizeSm:"size_sm-nn6jzC",size_md:"size_md-UKpzt4",sizeMd:"size_md-UKpzt4",position_trailing:"position_trailing-kaOmCa",positionTrailing:"position_trailing-kaOmCa",unstyled:"unstyled-IJLUJU"}},24078:function(e,t,n){n.d(t,{NV:()=>R,V0:()=>L,dm:()=>I,eu:()=>C,j0:()=>P,mM:()=>T,q5:()=>A,tp:()=>U});var i=n(69277),r=n(70408),o=n(32641),l=n(4006),a=n(32485),u=n.n(a),c=n(17402),s=n(72880),d=n(84605),p=n(31392),f=n(89490),_=n(76977),m=n(1232),h=n(64456),v=n(22602),g=n(75303),b=n(63136),y=n(21398),w=n(39318),k=n(92636),Y=n(46058),z=n(13561);function C(e){var{user:t,photoUrl:n,className:a,size:u=32,alt:c}=e,s=(0,o._)(e,["user","photoUrl","className","size","alt"]);let{photoUrl:d,profileName:p}=E(t,n),f=(0,m.P)(p,c);return(0,l.Y)(P,(0,r._)((0,i._)({},s),{className:a,size:u,children:(0,l.Y)(B,(0,i._)({src:null!=d?d:"",title:p,size:u,alt:f},s))}))}function I(e){var{user:t,photoUrl:n,linkProps:a,noBase:u,className:c,size:s=32,alt:d,ariaLabel:p,utmSource:f}=e,_=(0,o._)(e,["user","photoUrl","linkProps","noBase","className","size","alt","ariaLabel","utmSource"]);let{photoUrl:h,profileUrl:v,profileName:g}=E(t,n,u),b=(0,m.P)(g,d),y=(0,m.C)(g,p);if(v){let e=f?(0,k.yR)(v,{utm_source:f}):v;return(0,l.Y)(x,(0,r._)((0,i._)({linkProps:(0,i._)({href:e},a),className:c,size:s,ariaLabel:y},_),{children:(0,l.Y)(B,(0,i._)({src:null!=h?h:"",title:g,size:s,alt:b},_))}))}return(0,l.Y)(C,(0,i._)({user:t,photoUrl:n,size:s,alt:b},_))}function U(e){var{user:t,photoUrl:n,linkProps:a,noBase:u,className:c,size:s=32,alt:d,ariaLabel:p,utmSource:f}=e,_=(0,o._)(e,["user","photoUrl","linkProps","noBase","className","size","alt","ariaLabel","utmSource"]);let{photoUrl:h,profileUrl:v,profileName:g}=E(t,n,u),b=(0,m.P)(g,d),y=(0,m.C)(g,p);if(v){let e=f?(0,k.yR)(v,{utm_source:f}):v;return(0,l.Y)(N,(0,r._)((0,i._)({user:t,linkProps:(0,i._)({href:e},a),size:s,className:c,ariaLabel:y},_),{children:(0,l.Y)(B,(0,i._)({src:null!=h?h:"",title:g,size:s,alt:b},_))}))}return(0,l.Y)(C,(0,i._)({user:t,photoUrl:n,size:s,alt:b},_))}function P(e){let{size:t=32,className:n,disabled:i,radius:r,children:o,title:a,bg:c,ariaLabel:s}=e;return(0,l.Y)(_.pT,{width:t,height:t,bg:null!=c?c:"secondary",className:u()(z.A.container,i&&z.A.disabled,n),style:{"--scale":"".concat(t,"px")},alignItems:"center",justifyContent:"center",outline:"detail",radius:null!=r?r:"full",overflow:"hidden",position:"relative",sizing:"border-box",flex:"auto",title:a,"aria-label":s,children:o})}function q(e){let{size:t=32,className:n,disabled:i,radius:r,children:o,title:a,bg:c}=e;return(0,l.Y)(_.pT,{width:t,height:t,bg:null!=c?c:"secondary",className:u()(z.A.container,i&&z.A.disabled,z.A.interactive,n),style:{"--scale":"".concat(t,"px")},alignItems:"center",justifyContent:"center",outline:"detail",radius:null!=r?r:"full",overflow:"hidden",position:"relative",sizing:"border-box",flex:"auto",title:a,showFocus:!0,animate:!0,pressable:"sm",children:o})}function x(e){var{children:t,title:n,linkProps:a,ariaLabel:u}=e,c=(0,o._)(e,["children","title","linkProps","ariaLabel"]);return(0,l.Y)(g.AE,(0,r._)((0,i._)({},a),{"aria-label":u,children:(0,l.Y)(q,(0,r._)((0,i._)({title:n},c),{children:t}))}))}function N(e){var{user:t,children:a,linkProps:u,ariaLabel:c}=e,s=(0,o._)(e,["user","children","linkProps","ariaLabel"]);let d=(0,l.Y)(x,(0,r._)((0,i._)({linkProps:u,ariaLabel:c},s),{children:a}));return(0,l.Y)(y.Ic,{module:"@/frontend/components/ProfileHoverCard",resolve:e=>e.ProfileHoverCard,onRequest:()=>Promise.all([n.e("43876"),n.e("31296"),n.e("91217"),n.e("23553"),n.e("97957"),n.e("53908"),n.e("94551"),n.e("43327"),n.e("98490"),n.e("42862"),n.e("36114"),n.e("39367"),n.e("4744"),n.e("55910"),n.e("38986"),n.e("63149"),n.e("45151")]).then(n.bind(n,27437)),whileLoading:d,subject:(0,i._)({id:0,name:""},t),trigger:d})}function A(e){var{size:t=32}=e,n=(0,o._)(e,["size"]);let{darkMode:a}=(0,p.D2)(),{iString:u}=(0,d.GO)();return(0,l.Y)(P,(0,r._)((0,i._)({},n),{size:t,children:(0,l.Y)(s.o,{src:a?Y.cp:w.D09,maxWidth:t,useRetinaSizing:!0,imageIsFixedWidth:!0,draggable:!1,imageProps:{crop:"fill"},alt:u("Avatar")})}))}function B(e){var{src:t,title:n,size:a=32,alt:u,loading:c}=e,d=(0,o._)(e,["src","title","size","alt","loading"]);return(0,l.Y)(P,(0,r._)((0,i._)({title:n},d),{size:a,children:(0,l.Y)(s.o,{src:t,maxWidth:a,useRetinaSizing:!0,imageIsFixedWidth:!0,draggable:!1,imageProps:{crop:"fill",height:a},objectFit:"cover",alt:u,loading:c})}))}function R(e){var{text:t,size:n=32}=e,a=(0,o._)(e,["text","size"]);return(0,l.Y)(P,(0,r._)((0,i._)({},a),{size:n,children:(0,l.Y)(b.EY,{as:"span",font:"text",weight:"semibold",align:"center",className:z.A.text,children:t})}))}function L(e){var t,{icon:n,size:a=32,ariaLabel:u}=e,s=(0,o._)(e,["icon","size","ariaLabel"]);let d=(0,h.j)(n),p=null!=(t=null!=u?u:d)?t:"Icon avatar";return(0,l.Y)(P,(0,r._)((0,i._)({size:a},s),{ariaLabel:p,children:n&&(0,c.cloneElement)(n,{size:a,className:z.A.icon})}))}function T(e){let{size:t=32,className:n}=e;return(0,l.Y)(f.az,{style:{"--scale":"".concat(t,"px")},display:"contents",children:(0,l.Y)(v.O,{width:t,height:t,radius:"full",outline:"detail",flex:"auto",className:n})})}function E(e,t,n){var i,r;let{darkMode:o}=(0,p.D2)();return{photoUrl:t||(0,w.pIF)(e,{darkMode:o}),profileUrl:e&&"object"==typeof(r=e)&&null!==r&&"id"in r?(0,w.gYq)(e,{noBase:n}):void 0,profileName:null!=(i=null==e?void 0:e.name)?i:"User"}}},80988:function(e,t,n){n.d(t,{a:()=>h,k:()=>v});var i=n(4006),r=n(35426),o=n(38390),l=n(17402),a=n(89490),u=n(90460),c=n(10996),s=n(45346),d=n(48028),p=n(55734),f=n(11510),_=n(53168),m=n(57241);function h(e){let{isOpen:t,onOpen:n=()=>void 0,onClose:a=()=>void 0,children:_,width:m=440,className:h,initialFocus:g,fullscreenMobile:b,disableCloseOnBackdropClick:y=!1,renderOverReactLaagPortal:w=!1,testId:k="modal",style:Y}=e,z=(0,f.Iu)(),C=(0,l.useRef)(t);(0,u.h)(t),(0,l.useEffect)(()=>{t&&!C.current&&(null==n||n()),C.current=t},[t,n]);let I=z&&!b?p.r:p.p;return(0,i.Y)(o.bL,{open:t,onOpenChange:e=>{e||null==a||a()},children:(0,i.Y)(o.ZL,{forceMount:!0,children:(0,i.Y)(r.e.Root,{show:t,children:(0,i.FD)(v,{renderOverReactLaagPortal:w,children:[(0,i.Y)(s.B,{children:(0,i.Y)(s.k,{onClose:a,disableCloseOnBackdropClick:y})}),(0,i.Y)(c.e$,{children:(0,i.Y)(I,{children:(0,i.Y)(d.I,{onClose:a,fullscreenMobile:b,width:m,className:h,initialFocus:g,disableCloseOnBackdropClick:y,testId:k,style:Y,children:_})},z?"mobile":"desktop")})]})})})})}function v(e){let{children:t,renderOverReactLaagPortal:n}=e;return(0,i.Y)(a.az,{className:m.A.layout,style:{zIndex:n?_.Up+1:_.Up},children:t})}},45346:function(e,t,n){n.d(t,{B:()=>u,k:()=>a});var i=n(4006),r=n(35426),o=n(38390);n(17402);var l=n(55739);function a(e){let{onClose:t,disableCloseOnBackdropClick:n}=e;return(0,i.Y)(o.hJ,{forceMount:!0,className:l.A.backdrop,onClick:()=>{n||t()}})}function u(e){let{children:t}=e;return(0,i.Y)(r.e.Child,{enter:l.A.transition,enterFrom:l.A.from,enterTo:l.A.to,leave:l.A.transition,leaveFrom:l.A.to,leaveTo:l.A.from,children:t})}},90460:function(e,t,n){n.d(t,{h:()=>r});var i=n(17402);let r=e=>{(0,i.useEffect)(()=>{if(e){let e=setTimeout(()=>{document.body.style.pointerEvents=""},0);return()=>clearTimeout(e)}document.body.style.pointerEvents="auto"},[e])}},28194:function(e,t,n){n.d(t,{xB:()=>r}),n(42877),n(54584),n(67734);var i=n(82776);function r(e){let{amount:t,interval:n="",language:r="en",isOneOff:o=!1,truncateInterval:l=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=(0,i.centsToPriceString)(null!=t?t:e.amount,e.currency);if("forever"!==e.interval){let t=n||e.interval,{iPlural:i,iString:u}=I18N.i(r);if(o)return a;if(3===e.interval_count){if("day"===t)return u("%1/three days",a);else if("month"===t)return u("%1/three months",a);else if("week"===t)return u("%1/three weeks",a);else if("year"===t)return u("%1/three years",a)}if("day"===t)return i("%2/day","%2/%1 days",e.interval_count,a);if("month"===t)return l?i("%2/mo","%2/%1 mos",e.interval_count,a):i("%2/month","%2/%1 months",e.interval_count,a);if("week"===t)return i("%2/week","%2/%1 weeks",e.interval_count,a);else if("year"===t)return l?i("%2/yr","%2/%1 yrs",e.interval_count,a):i("%2/year","%2/%1 years",e.interval_count,a)}return a}},50129:function(e,t,n){n.d(t,{CP:()=>a,Qg:()=>r,_d:()=>u,bO:()=>c,nJ:()=>i});let i={review_required:"review_required",edit_review_required:"edit_review_required",published:"published",flagged:"flagged",blocked:"blocked",deleted:"deleted",moderator_approved:"moderator_approved",moderator_removed:"moderator_removed",new_commenter_approval_required:"new_commenter_approval_required"},r=new Set([i.review_required,i.edit_review_required,i.published,i.moderator_approved,i.new_commenter_approval_required]);var o,l,a=((o={}).Removed="removed",o.Unavailable="unavailable",o.BlockedYou="blocked-you",o.YouBlocked="you-blocked",o.YouMuted="you-muted",o.Geoblocked="geoblocked",o);function u(e){return"missing"===e.type}var c=((l={}).comments_disabled="comments_disabled",l.free_subscription_required="free_subscription_required",l.paid_subscription_required="paid_subscription_required",l.founding_subscription_required="founding_subscription_required",l)},18947:function(e,t,n){n.d(t,{D0:()=>m,Er:()=>d,FC:()=>h,I_:()=>_,MG:()=>g,T8:()=>u,XB:()=>v,eX:()=>p,py:()=>f,st:()=>s,ti:()=>c,wu:()=>a});var i=n(69277),r=n(92636),o=n(70189),l=n(41086);function a(e,t){let{noBase:n,edit:l,email:a,comments:u,commentId:c,commentInput:d,highlightComment:p,replyToComment:f,commentContextId:h,uuid:v,urlParams:g,signedIn:b=!1,feedViewer:y=!1,clipId:w}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},k=t?v?t.uuid:t.slug:null;if((l||!k)&&e&&!e.is_www&&(null==t?void 0:t.id)){let i=n?"":(0,r.$_)(e);return"".concat(i).concat(_(e,t.id,{params:g}))}if((null==t?void 0:t.type)==="restack"&&(null==t?void 0:t.id)){let i=n?"":(0,r.$_)(e);return"".concat(i,"/cp/").concat(t.id)}if(y||!e||!t||!k){let i=n?"":(0,r.$_)();return c?(0,o.RV)(c,{noBase:n,urlParams:g}):t&&w?(0,r.yR)("".concat((0,r.$_)(e),"/p/").concat(t.slug),g):t?(0,o.kG)(t.id,{noBase:n,urlParams:g}):(0,r.yR)("".concat(i).concat(o.TJ),g)}let Y=m(b,e);return s(e,k,{noBase:n,email:a,comments:u,commentId:c,commentInput:d,highlightComment:p,replyToComment:f,commentContextId:h,urlParams:(0,i._)({lli:Y},g)})}function u(e){let{pub:t,post:n}=e,i=s(t,n.slug,{noBase:!1});return"".concat(i,"/citation.pdf")}function c(e,t,n){let{isPreview:i=!1}=n;return"".concat((0,r.$_)(e),"/embed/p/").concat(t,"?origin=").concat(window.location.origin).concat(i?"&isPreview=true":"")}function s(e,t){let{noBase:n,forceSubdomain:i,email:o,comments:l,commentId:a,commentInput:u,highlightComment:c,replyToComment:s,commentContextId:d,urlParams:p}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},f="";return n||(f+=(0,r.$_)(e,{forceSubdomain:i})),f+="/p/".concat(t),l&&(!a||c)&&(f+="/comments"),!a||c||d||(f+="/comment/".concat(a)),o&&(f+="/email"),a&&(c||s)?f+="#comment-".concat(a).concat(s?"-reply":""):u&&(f+="#input"),a&&d&&(f+="/comment/".concat(d,"#comment-").concat(a)),p&&(f=(0,r.yR)(f,p)),f}function d(e,t,n,r){return e&&"profile"===e.homepage_type?(null==n?void 0:n.id)?(0,o.M$)("c-".concat(null==n?void 0:n.id)):(0,o.q$)(e,t):a(e,t,(0,i._)({comments:!0,commentId:null==n?void 0:n.id},r))}function p(e){let{mediaUploadId:t}=e;return"media-".concat(t)}function f(e){let{pub:t,post:n,mediaUploadId:i}=e,r=a(t,n);return"".concat(r,"#").concat(p({mediaUploadId:i}))}function _(e,t){let{params:n,addBase:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i?(0,r.$_)(e):"";return"".concat(o).concat((0,r.yR)("/publish/post/".concat(t),n))}function m(e,t){return t.custom_domain&&e?"1":void 0}function h(e){let{addBase:t,params:n={},signedIn:o,skipToken:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=m(o,e),c=t?(0,r.$_)(e):"";if(!(null==n?void 0:n.token)&&!a){var s;n.token="undefined"!=typeof window&&(null==(s=window._preloads)?void 0:s.original_url)?(0,l.y)(window._preloads.original_url,"token"):null}return(0,r.yR)("".concat(c,"/account"),(0,i._)({lli:u},n))}function v(e,t,n,i){return t.post_id?d(null!=n?n:void 0,null!=e?e:void 0,t,i):(0,o.Zg)(t,i)}function g(e){let{postId:t,appTab:n,params:o}=e;return(0,r.yR)("".concat((0,r.qd)(),"/post/").concat(t,"/stats").concat(n?"?tab=".concat(n):""),(0,i._)({},o))}n(39891)}}]);