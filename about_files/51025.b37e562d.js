!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e.SENTRY_RELEASE={id:"substack@af5f699"};var t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="96123055-c450-4a40-944f-338b1d58acf6",e._sentryDebugIdIdentifier="sentry-dbid-96123055-c450-4a40-944f-338b1d58acf6")}catch(e){}}();"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["51025"],{52820:function(e,t,r){r.d(t,{EL:()=>g,Kd:()=>m,S$:()=>b,WR:()=>x,Wk:()=>y,qL:()=>h});var n,a=r(69277),i=r(70408),s=r(4006),o=r(44383),l=r.n(o),u=r(17402),c=r(34835),d=r(94729),f=r(98149);let p={variantOverrides:{},experimentFeatures:{},experimentExposures:{}};function m(){return"undefined"!=typeof window&&(0,a._)({variantOverrides:{},experimentFeatures:{},experimentExposures:{}},l()(window._preloads,["variantOverrides","experimentFeatures","experimentExposures","pubIdOverride"]))||p}let I=m(),D="undefined"!=typeof window?null==(n=window._preloads)?void 0:n.siteConfigs:{},g=(e,t)=>{let r=t=>{if(!t||!e)return null;let r=e[t];return void 0===r?null:r},n=e=>{if(!e)return null;let n=r(e);if((0,f.rc)(n))return{intendedVariant:n,shouldLog:!1};if(t.variantOverrides&&e in t.variantOverrides)return{intendedVariant:t.variantOverrides[e],shouldLog:!1};let a=t.experimentExposures||{};if(a[e])return{intendedVariant:a[e],shouldLog:!1};let i=t.experimentFeatures||{};return i[e]?{intendedVariant:i[e],shouldLog:!0}:null},a=async(e,t,r)=>{if("undefined"!=typeof window){window._preloads.experimentExposures=window._preloads.experimentExposures||{};let n=window._preloads.experimentExposures;n[e]=t;try{await (0,d.x6)("/api/v1/experiment_exposure",{json:{experiment_name:e,variant_name:t,ignore_downsampling:!!r},method:"post"})}catch(t){delete n[e]}}};return{getExperimentVariant:e=>{let t=n(e);return t?t.intendedVariant:null},exposeExperiment:async function(e){let{ignoreDownsampling:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{intendedVariant:r,shouldLog:i}=n(e)||{};return!!i&&(await a(e,r,!!t),!0)},getExposedVariant:e=>{if(!e)return null;let n=r(e);if((0,f.rc)(n))return n;if(t.variantOverrides&&e in t.variantOverrides)return t.variantOverrides[e];let a=t.experimentExposures||{};return a[e]?a[e]:null},refreshExperimentVariants:async function(){let e,{ignoreDownsampling:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t&&(e=new URLSearchParams({ignore_downsampling:"true"}));let r=await (0,d.x6)("/api/v1/experiment_features",{method:"get",query:e});(null==r?void 0:r.features)&&(0,c.E)({experimentFeatures:r.features})}}},h=(0,u.createContext)(g(D,I));function b(e){let{siteConfigs:t={},experimentInfo:r,children:n}=e,a=r||I,i=(0,u.useMemo)(()=>g(t,a),[t,...Object.values(a)]);return(0,s.Y)(h.Provider,{value:i,children:n})}function y(){return(0,u.useContext)(h)}h.displayName="ExperimentsContext";let x=e=>{let t=(0,u.forwardRef)((t,r)=>{let n=y();return(0,s.Y)(e,(0,i._)((0,a._)({},n,t),{ref:r}))});return t.displayName="withExperimentsContext(".concat(e.displayName||e.name||"Anonymous",")"),t}},12601:function(e,t,r){r.d(t,{It:()=>I,MM:()=>D,RY:()=>g,X_:()=>h,Y9:()=>x,iF:()=>v,jl:()=>c});var n=r(69277),a=r(4006),i=r(17402),s=r(89490),o=r(63136),l=r(54754),u=r(11510);let c=e=>{let{primaryButton:t,secondaryButton:r,tertiaryButton:n,buttonDivider:s,caption:o,showDivider:c,direction:f="row",alignButtons:p="end"}=e,m=(0,u.Iu)(),b="stretch"===p,_="column"===f||b||m,Y=!!r||!!t||!!n,k=b?y:i.Fragment,E=[n,r,t].filter(Boolean).map(e=>(0,a.Y)(k,{children:e}));return(0,a.FD)(c?_?h:g:_?D:I,{children:[o&&(0,a.Y)(d,{caption:o,textAlign:_?"center":"left"}),Y&&(0,a.Y)(_?b?w:v:x,{children:s?(0,a.Y)(l.r,{separator:s,children:E}):E})]})},d=e=>{let{caption:t,textAlign:r="left"}=e;return(0,a.Y)(_,{children:(0,a.Y)(o.EY.B4,{as:"span",color:"secondary",textAlign:r,children:t})})},f={display:"flex",direction:"row",gap:12,paddingX:20,paddingBottom:20,alignItems:"center"},p={paddingTop:16,paddingBottom:16,borderTop:"detail"},m={direction:"column-reverse",alignItems:"stretch",gap:16},I=(0,s.I4)((0,n._)({},f)),D=(0,s.I4)((0,n._)({},f,m)),g=(0,s.I4)((0,n._)({},f,p)),h=(0,s.I4)((0,n._)({},f,p,m)),b={display:"flex",direction:"row",alignItems:"center",justifyContent:"end",flex:"grow",gap:12},y=(0,s.I4)({display:"flex",direction:"column",flex:"grow"}),x=(0,s.I4)((0,n._)({},b)),v=(0,s.I4)((0,n._)({},b,{direction:"column-reverse",alignItems:"stretch"})),w=(0,s.I4)((0,n._)({},b,{alignItems:"stretch"})),_=(0,s.I4)({display:"flex",direction:"column"})},84843:function(e,t,r){r.d(t,{$q:()=>h,Io:()=>g,J:()=>y,P0:()=>L,UG:()=>C,Ud:()=>w,fS:()=>F,ph:()=>b,qx:()=>v,rQ:()=>D});var n=r(69277),a=r(4006),i=r(38390),s=r(32485),o=r.n(s),l=r(48697),u=r(23623),c=r(73164),d=r(89490),f=r(35369),p=r(76977),m=r(63136),I=r(74084);function D(e){let t,r,{onClose:n,showClose:i=!1,title:s,description:o,icon:l,showDivider:u=!1,alignItems:c="start",isInsideDialog:d=!0}=e;return"center"===c?(t=u?O:N,r=A):(t=u?L:C,r=F),(0,a.FD)(t,{children:[l,(0,a.FD)(r,{children:[s&&(0,a.Y)(h,{text:s,isInsideDialog:d}),o&&(0,a.Y)(b,{text:o,isInsideDialog:d})]}),i&&n&&(0,a.Y)(y,{onClose:n})]})}function g(e){let{onClose:t,showClose:r=!1,image:n}=e;return(0,a.FD)(C,{children:[n,r&&t&&(0,a.Y)(x,{onClose:t})]})}function h(e){let{text:t,isInsideDialog:r}=e;return r?(0,a.Y)(i.hE,{asChild:!0,children:(0,a.Y)(m.EY.H2,{weight:"semibold",color:"primary",size:17,lineHeight:24,children:t})}):(0,a.Y)(m.EY.H2,{weight:"semibold",color:"primary",size:17,lineHeight:24,children:t})}function b(e){let{text:t,isInsideDialog:r}=e,n=r?i.VY:"span";return(0,a.Y)(n,{asChild:!0,children:(0,a.Y)(m.EY.B3,{color:"secondary",as:"span",children:t})})}function y(e){let{onClose:t,position:r="absolute"}=e;return(0,a.Y)(f.K0,{priority:"quaternary",size:"sm",title:"Close",onClick:t,"aria-label":"close",position:r,className:o()(I.A.closeButton,I.A[r]),children:(0,a.Y)(l.A,{size:20})})}function x(e){let{onClose:t}=e;return(0,a.Y)(u.a,{children:(0,a.Y)(i.bm,{asChild:!0,children:(0,a.Y)(f.mZ,{priority:"secondary",size:"sm",title:"Close",onClick:t,"aria-label":"close",position:"absolute",className:I.A.imageCloseButton,children:(0,a.Y)(l.A,{size:20})})})})}function v(e){let{icon:t,bg:r}=e;return(0,a.Y)(_,{bg:r,children:t})}function w(){return(0,a.Y)(_,{bg:"accent-orange",children:(0,a.Y)(c.A,{height:20})})}function _(e){let{children:t,bg:r="secondary"}=e;return(0,a.Y)(p.fI,{display:"flex",flex:"auto",width:48,height:48,bg:r,radius:"sm",alignItems:"center",justifyContent:"center",outline:"detail",children:t})}let Y={display:"flex",direction:"column",gap:16,paddingX:20,paddingTop:20},k={paddingTop:16,paddingBottom:16,borderBottom:"detail"},E={alignItems:"center"},C=(0,d.I4)((0,n._)({},Y)),N=(0,d.I4)((0,n._)({},Y,E)),L=(0,d.I4)((0,n._)({},Y,k)),O=(0,d.I4)((0,n._)({},Y,k,E)),q={display:"flex",direction:"column",gap:4},F=(0,d.I4)((0,n._)({},q)),A=(0,d.I4)((0,n._)({},q,{alignItems:"center",textAlign:"center"}))},67250:function(e,t,r){r.d(t,{H:()=>i});var n=r(84605),a=r(67140);function i(e){let{value:t,format:r,currency:i,currencyIsMinorUnits:s}=e,{userLocale:o}=(0,n.GO)();return(0,a.V)(t,r,i,s,o)}},1156:function(e,t,r){r.d(t,{VP:()=>i,fI:()=>a,ov:()=>s});var n=r(89490);let a=(0,n.I4)({display:"flex"}),i=(0,n.I4)({display:"flex",direction:"column"}),s=(0,n.I4)({display:"flex",justifyContent:"center",alignItems:"center"})},21398:function(e,t,r){r.d(t,{Ic:()=>u,vZ:()=>c});var n=r(69277),a=r(70408),i=r(32641),s=r(4006),o=r(17402),l=r(12501);function u(e){return(0,o.createElement)(d,(0,a._)((0,n._)({},e),{key:e.module}))}function c(e){let{module:t,onRequest:r,fetchImmediately:n=!0}=e,a=f.has(t),i=(0,l.qK)(()=>p(t,r),[],{auto:n&&!a,initialResult:a?f.get(t):null});return i.error&&console.error(i.error),{error:i.error,isLoading:i.isLoading,result:i.result,fetch:i.refetch}}function d(e){var t;let{onRequest:r,resolve:n,module:a,whileLoading:l,ifError:u}=e,d=(0,i._)(e,["onRequest","resolve","module","whileLoading","ifError"]),{error:f,isLoading:p,result:m}=c({module:a,onRequest:r});return(0,s.Y)(s.FK,{children:f?null!=(t=null!=u?u:l)?t:"Error":p||!m?null!=l?l:null:(0,o.createElement)(n(m),d)})}let f=new Map;async function p(e,t){let r=f.get(e);return r||(r=await t(),f.set(e,r)),r}},75914:function(e,t,r){r.d(t,{j3:()=>a,tL:()=>i});var n,a=((n={}).Base="base",n.Secondary="secondary",n.Topic="topic",n.Category="category",n);function i(e,t){var r,n;return"post"===e.type&&!!e.mediaClip||"comment"===e.type&&!!(null==(r=e.comment.attachments)?void 0:r.some(e=>"post"===e.type&&e.mediaClip))||(t&&"attachments"in t?!!(null==(n=t.attachments)?void 0:n.some(e=>"post"===e.type&&e.mediaClip)):!!(t&&"mediaClip"in t&&t.mediaClip))}},48863:function(e,t,r){function n(e){if(null==e)return{};try{var t,r,n;let a=new URL(e);if("substack:"!==a.protocol)return{};let i={},s=a.pathname.split("/").filter(e=>e.length>0),o=new URLSearchParams(a.search),l={};o.forEach((e,t)=>{l[t]=e}),Object.keys(l).length>0&&(i.queryParams=l);let u=a.host;if(null==u&&0===Object.keys(l).length)return i;switch(u){case"users":s[0]&&"me"!==s[0]&&(i.surface="profile",i.userID=Number(s[0]),i.surfaceID=i.userID);break;case"posts":case"post":s[0]&&(i.postID=Number(s[0]),i.surface="post",i.surfaceID=i.postID),"comments"===s[1]&&(i.commentID=s[2],i.surface="post-comment",i.surfaceID=Number(s[0]),s[2]&&(i.surfaceID=Number(i.commentID)));break;case"publications":s[0]&&(i.publicationID=Number(s[0]),i.surface="publication",i.surfaceID=i.publicationID),"posts"===s[1]&&s[2]&&(i.slug=s[2],i.surface="post",i.surfaceID=i.slug),"drafts"===s[1]&&s[2]&&(i.draftID=s[2]),"chat"===s[1]&&(i.surface="publication-chat",i.surfaceID=i.publicationID),"threads"===s[1]&&(i.surface="publication-threads",i.surfaceID=i.publicationID);break;case"notes":i.surface="notes",s[0]&&(i.noteID=s[0],i.surfaceID=i.noteID,"module"===s[0]&&null!=s[1]&&(i.surface="notes-module",i.surfaceID=s[1]));break;case"communityPosts":s[0]&&(i.communityPostID=s[0],i.surface="community-post",i.surfaceID=i.communityPostID);break;case"communityComments":s[0]&&(i.replyID=s[0],i.surface="community-comments",i.surfaceID=i.replyID);break;case"messages":"dm"===s[0]&&(i.surface="dm","user"===s[1]&&s[2]?i.userID=Number(s[2]):s[1]&&(i.threadID=s[1],i.surface="dm-thread",i.surfaceID=i.threadID,"reply"===s[2]&&s[3]&&(i.messageID=s[3],i.surface="dm-reply",i.surfaceID=i.messageID)));break;case"accept-gift":s[0]&&(i.giftID=s[0],i.surfaceID=i.giftID,i.surface="accept-gift");break;case"send-reader-gifts":s[0]&&(i.giftID=s[0],i.surfaceID=i.giftID,i.surface="send-reader-gift");break;case"post-collection":s[0]&&(i.collectionID=s[0]);break;case"live-stream":s[0]&&(i.streamID=s[0],i.surface="live-stream",i.surfaceID=i.streamID,"invite"===s[1]&&s[2]&&(i.inviteID=s[2]));break;case"feed":i.surface="feed","topic"===s[0]&&s[1]?(i.topicID=s[1],i.surface="feed-topic",i.surfaceID=i.topicID):s[0]&&(i.noteID=s[0],i.surfaceID=i.noteID);break;case"post-composer":s[0]&&(i.draftID=s[0]);break;case"media-feed":s[0]&&(i.surface="media-feed",i.noteID=s[0],i.surfaceID=i.noteID);break;case"publication":s[0]&&(i.publicationID=Number(s[0]),i.surface="publication",i.surfaceID=i.publicationID,"post"===s[1]&&s[2]&&(i.postID=Number(s[2]),i.surface="post",i.surfaceID=i.postID));break;case"leaderboard":s[0]&&(i.surface="leaderboard",i.surfaceID=s[0]);break;case"user-suggestions":i.surface="user-suggestions";break;case"search":i.surface="app-search";break;case"discover":i.surface="discover"}return l.query&&(i.query=l.query,"app-search"===i.surface&&(i.surfaceID=i.query)),l.url&&(i.url=l.url),null!=l.name&&null!=l.id&&(i.categoryID=l.id,"discover"===i.surface&&(i.surfaceID=i.categoryID)),(null!=l.postId||null!=l.post_id)&&(i.postID=Number(null!=(t=l.postId)?t:l.post_id),i.surface="posts"===u?"post":u,i.surfaceID=i.postID),(null!=l.publicationId||null!=l.publication_id)&&(i.publicationID=Number(null!=(r=l.publicationId)?r:l.publication_id),i.surface="posts"===u?"post":u,i.surfaceID=null!=(n=i.postID)?n:i.publicationID),null!=i.publicationID&&isNaN(i.publicationID)&&delete i.publicationID,null!=i.userID&&isNaN(i.userID)&&delete i.userID,null!=i.postID&&isNaN(i.postID)&&delete i.postID,null!=i.surfaceID&&"string"!=typeof i.surfaceID&&isNaN(i.surfaceID)&&delete i.surfaceID,i}catch(e){return{}}}r.d(t,{qc:()=>n}),r(92636)}}]);